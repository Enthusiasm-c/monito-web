
> vercel-marketplace-neon@0.1.0 dev
> next dev --turbopack

   ▲ Next.js 15.1.6 (Turbopack)
   - Local:        http://localhost:3000
   - Network:      http://192.168.0.215:3000
   - Environments: .env

 ✓ Starting...
 ✓ Ready in 592ms
 ○ Compiling / ...
 ✓ Compiled / in 1071ms
 GET / 200 in 1186ms
 ✓ Compiled /api/products in 112ms
 GET /api/suppliers 200 in 774ms
 GET /api/uploads/status?limit=5 200 in 960ms
 GET /api/stats 200 in 1411ms
 GET /api/products?category=All%20Categories&limit=50&page=1&sortBy=name&sortOrder=asc 200 in 2134ms
 ○ Compiling /api/upload-smart ...
 ✓ Compiled /api/upload-smart in 559ms
Starting sequential processing of 1 files in queue
Processing file cmbm5sin30002oustmo5zsxwz (0 remaining in queue)
Processing file: 1. PT. Global Anugrah Pasifik (groceries item).pdf
Processing PDF: https://cdc1w79ssc4kg6xh.public.blob.vercel-storage.com/1.%20PT.%20Global%20Anugrah%20Pasifik%20%28groceries%20item%29-LSMkvxPS3OdFIfLkKh2DpKepjcBRAg.pdf
Warning: Please use the `legacy` build in Node.js environments.
PDF parsing failed, falling back to mock data: ReferenceError: DOMMatrix is not defined
    at <unknown> (.next/server/chunks/_386bb6._.js:21:16)
    at async processPDF (app/services/fileProcessor.ts:114:23)
    at async processFile (app/services/fileProcessor.ts:44:22)
    at async processFileInBackground (app/api/upload-smart/route.ts:104:4)
    at async processQueueSequentially (app/api/upload-smart/route.ts:133:8)
  112 |       
  113 |       // Dynamic import of pdfjs-dist
> 114 |       const pdfjsLib = await import('pdfjs-dist');
      |                       ^
  115 |       
  116 |       // Load the PDF document
  117 |       const pdf = await pdfjsLib.getDocument({
Rate limit hit in extractWithAI, retrying in 4000ms (attempt 1/3)
 POST /api/upload-smart 200 in 22010ms
 GET /api/suppliers 200 in 104ms
 GET /api/uploads/status?limit=5 200 in 198ms
Rate limit hit in extractWithAI, retrying in 8000ms (attempt 2/3)
 GET /api/stats 200 in 425ms
 GET /api/products?category=All%20Categories&limit=50&page=1&sortBy=name&sortOrder=asc 200 in 819ms
Rate limit hit in extractWithAI, retrying in 16000ms (attempt 3/3)
Error with AI extraction (attempt 3): Error: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, read the docs: https://platform.openai.com/docs/guides/error-codes/api-errors.
    at async extractWithAI (app/services/fileProcessor.ts:542:23)
    at async processPDF (app/services/fileProcessor.ts:178:13)
    at async processFile (app/services/fileProcessor.ts:44:22)
    at async processFileInBackground (app/api/upload-smart/route.ts:104:4)
    at async processQueueSequentially (app/api/upload-smart/route.ts:133:8)
  540 |       await new Promise(resolve => setTimeout(resolve, 500));
  541 |       
> 542 |       const response = await openai.chat.completions.create({
      |                       ^
  543 |         model: 'gpt-4o', 
  544 |         messages: [{ role: 'user', content: prompt }],
  545 |         temperature: 0.1, {
  status: 429,
  headers: Headers {
    date: 'Sat, 07 Jun 2025 11:37:07 GMT',
    'content-type': 'application/json; charset=utf-8',
    'content-length': '337',
    connection: 'keep-alive',
    vary: 'Origin',
    'x-request-id': 'req_a7085e24dc0589cd71eba2deeb26cca1',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'cf-cache-status': 'DYNAMIC',
    'set-cookie': '__cf_bm=g2DPEtQtSHWUgX2yi_2fHIWIxvBOdDbB7dn41__hXD0-1749296227-1.0.1.1-ND71V.bxrSTvgwm6goz2A3pJEJOSi6LGreYMJeXn5k0j0VAMj7skYBlN6A6uvvMi2I4L5kxS9a8Gqb7TL7AI8ywIlu9xjaJH38D4OD02hek; path=/; expires=Sat, 07-Jun-25 12:07:07 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None, _cfuvid=MfzrwYNF4.BdQa7KfBWLSIBIbYALwEnAM13sxLNZXkE-1749296227034-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None',
    'x-content-type-options': 'nosniff',
    server: 'cloudflare',
    'cf-ray': '94bfdb062e2c9185-DPS',
    'alt-svc': 'h3=":443"; ma=86400'
  },
  requestID: 'req_a7085e24dc0589cd71eba2deeb26cca1',
  error: [Object],
  code: 'insufficient_quota',
  param: null,
  type: 'insufficient_quota'
}
Max retries reached in extractWithAI, returning empty result
Successfully processed 0 products from 1. PT. Global Anugrah Pasifik (groceries item).pdf
Processing file cmbm5sjs70005oustqhmzfni4 (6 remaining in queue)
Processing file: DOC-20250428-WA0004..xlsx
Processing Excel: https://cdc1w79ssc4kg6xh.public.blob.vercel-storage.com/DOC-20250428-WA0004.-ykD4xKvETZpq7sBdCoLo1zhKgx5T8G.xlsx
Excel file has 4 sheets: Sheet1, Lembar1, Sheet2, Sheet3
Sheet "Sheet1": 154 rows with data
Sheet "Lembar1": 0 rows with data
Sheet "Sheet2": 0 rows with data
Sheet "Sheet3": 0 rows with data
Found 1 sheets with data: Sheet1(154)
Processing sheet "Sheet1" with 154 rows...
Sheet "Sheet1": Processing 154 rows with data
Large sheet detected (154 rows), processing in chunks...
Processing chunk 1 with 30 rows...
Rate limit hit in extractWithAI, retrying in 4000ms (attempt 1/3)
Rate limit hit in extractWithAI, retrying in 8000ms (attempt 2/3)
Rate limit hit in extractWithAI, retrying in 16000ms (attempt 3/3)
Error with AI extraction (attempt 3): Error: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, read the docs: https://platform.openai.com/docs/guides/error-codes/api-errors.
    at async extractWithAI (app/services/fileProcessor.ts:542:23)
    at async processSheetData (app/services/fileProcessor.ts:228:28)
    at async processExcel (app/services/fileProcessor.ts:331:26)
    at async processFile (app/services/fileProcessor.ts:46:22)
    at async processFileInBackground (app/api/upload-smart/route.ts:104:4)
    at async processQueueSequentially (app/api/upload-smart/route.ts:133:8)
  540 |       await new Promise(resolve => setTimeout(resolve, 500));
  541 |       
> 542 |       const response = await openai.chat.completions.create({
      |                       ^
  543 |         model: 'gpt-4o', 
  544 |         messages: [{ role: 'user', content: prompt }],
  545 |         temperature: 0.1, {
  status: 429,
  headers: Headers {
    date: 'Sat, 07 Jun 2025 11:37:33 GMT',
    'content-type': 'application/json; charset=utf-8',
    'content-length': '337',
    connection: 'keep-alive',
    vary: 'Origin',
    'x-request-id': 'req_5273ed6b381b8a45d828946e8f77d899',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'cf-cache-status': 'DYNAMIC',
    'set-cookie': '__cf_bm=cYmNiEU91fDfV8LQ234Z0Tf_3Bv.tqQywQCblQHRFy0-1749296253-1.0.1.1-UmpQZtaq7lJHENOkSLokpo7xKr3Of6DqT0CjtpgyzL59dxSQx6lRHkINB6aofTuEmnhvU8ACxL2iikyOFAt6XRm6qHt_JmPsFWYdPmeyYZk; path=/; expires=Sat, 07-Jun-25 12:07:33 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None, _cfuvid=R1p86aTlXxCyfaMmHNGIjrVt.GAboTxhXUzrWDxIiH4-1749296253817-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None',
    'x-content-type-options': 'nosniff',
    server: 'cloudflare',
    'cf-ray': '94bfdbad7d7b2df8-DPS',
    'alt-svc': 'h3=":443"; ma=86400'
  },
  requestID: 'req_5273ed6b381b8a45d828946e8f77d899',
  error: [Object],
  code: 'insufficient_quota',
  param: null,
  type: 'insufficient_quota'
}
Max retries reached in extractWithAI, returning empty result
Processing chunk 2 with 30 rows...
Rate limit hit in extractWithAI, retrying in 4000ms (attempt 1/3)
Rate limit hit in extractWithAI, retrying in 8000ms (attempt 2/3)
Rate limit hit in extractWithAI, retrying in 16000ms (attempt 3/3)
Error with AI extraction (attempt 3): Error: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, read the docs: https://platform.openai.com/docs/guides/error-codes/api-errors.
    at async extractWithAI (app/services/fileProcessor.ts:542:23)
    at async processSheetData (app/services/fileProcessor.ts:228:28)
    at async processExcel (app/services/fileProcessor.ts:331:26)
    at async processFile (app/services/fileProcessor.ts:46:22)
    at async processFileInBackground (app/api/upload-smart/route.ts:104:4)
    at async processQueueSequentially (app/api/upload-smart/route.ts:133:8)
  540 |       await new Promise(resolve => setTimeout(resolve, 500));
  541 |       
> 542 |       const response = await openai.chat.completions.create({
      |                       ^
  543 |         model: 'gpt-4o', 
  544 |         messages: [{ role: 'user', content: prompt }],
  545 |         temperature: 0.1, {
  status: 429,
  headers: Headers {
    date: 'Sat, 07 Jun 2025 11:37:57 GMT',
    'content-type': 'application/json; charset=utf-8',
    'content-length': '337',
    connection: 'keep-alive',
    vary: 'Origin',
    'x-request-id': 'req_d57de35d47821545d7698d3744390459',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'cf-cache-status': 'DYNAMIC',
    'set-cookie': '__cf_bm=EjDoDs3tbJFZRQfPdtulC.JKduG42n4IULevMW73gmk-1749296277-1.0.1.1-gHczOAqfdioerosIZBYZ1LPloPE41sNCVrv2DWWvL7BpPNbRkjb9LsYrezQeRncAW020Xiu9VoqiTSPVXH.nrHSOrGwejM3_v5ZcSubKYUE; path=/; expires=Sat, 07-Jun-25 12:07:57 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None, _cfuvid=nLCpcPjZ.C84ikBG1Po6gFoKz7EfP8oIhmgjfjckBJ0-1749296277216-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None',
    'x-content-type-options': 'nosniff',
    server: 'cloudflare',
    'cf-ray': '94bfdc40099d2df8-DPS',
    'alt-svc': 'h3=":443"; ma=86400'
  },
  requestID: 'req_d57de35d47821545d7698d3744390459',
  error: [Object],
  code: 'insufficient_quota',
  param: null,
  type: 'insufficient_quota'
}
Max retries reached in extractWithAI, returning empty result
Processing chunk 3 with 30 rows...
Rate limit hit in extractWithAI, retrying in 4000ms (attempt 1/3)
 GET / 200 in 63ms
 GET /api/suppliers 200 in 108ms
 GET /api/uploads/status?limit=5 200 in 157ms
 GET /api/stats 200 in 434ms
 GET /api/products?category=All%20Categories&limit=50&page=1&sortBy=name&sortOrder=asc 200 in 777ms
Rate limit hit in extractWithAI, retrying in 8000ms (attempt 2/3)
Rate limit hit in extractWithAI, retrying in 16000ms (attempt 3/3)
Error with AI extraction (attempt 3): Error: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, read the docs: https://platform.openai.com/docs/guides/error-codes/api-errors.
    at async extractWithAI (app/services/fileProcessor.ts:542:23)
    at async processSheetData (app/services/fileProcessor.ts:228:28)
    at async processExcel (app/services/fileProcessor.ts:331:26)
    at async processFile (app/services/fileProcessor.ts:46:22)
    at async processFileInBackground (app/api/upload-smart/route.ts:104:4)
    at async processQueueSequentially (app/api/upload-smart/route.ts:133:8)
  540 |       await new Promise(resolve => setTimeout(resolve, 500));
  541 |       
> 542 |       const response = await openai.chat.completions.create({
      |                       ^
  543 |         model: 'gpt-4o', 
  544 |         messages: [{ role: 'user', content: prompt }],
  545 |         temperature: 0.1, {
  status: 429,
  headers: Headers {
    date: 'Sat, 07 Jun 2025 11:38:20 GMT',
    'content-type': 'application/json; charset=utf-8',
    'content-length': '337',
    connection: 'keep-alive',
    vary: 'Origin',
    'x-request-id': 'req_70b7fbb32aaaf5dced9a7dd6d32d0b47',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'cf-cache-status': 'DYNAMIC',
    'set-cookie': '__cf_bm=Fk9PeDK0lQDufkjNuLVPjmaLSYd4A9c3GWo_SobMO6o-1749296300-1.0.1.1-ksRLX3ocQa8hbqIU5KjK_JM89CHszXcJPlPtZadPH7IIObIHGthrpcTmL6f._7fnhD0PdLPJIHqyffYYtlsX33K8ZY6Epo64TxkojrfBV0U; path=/; expires=Sat, 07-Jun-25 12:08:20 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None, _cfuvid=6lG41yfb7dPlsMbTS.tmv2hhqbDfkYZLMma.18.A1Ok-1749296300038-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None',
    'x-content-type-options': 'nosniff',
    server: 'cloudflare',
    'cf-ray': '94bfdccebfc12df8-DPS',
    'alt-svc': 'h3=":443"; ma=86400'
  },
  requestID: 'req_70b7fbb32aaaf5dced9a7dd6d32d0b47',
  error: [Object],
  code: 'insufficient_quota',
  param: null,
  type: 'insufficient_quota'
}
Max retries reached in extractWithAI, returning empty result
Processing chunk 4 with 30 rows...
Rate limit hit in extractWithAI, retrying in 4000ms (attempt 1/3)
Rate limit hit in extractWithAI, retrying in 8000ms (attempt 2/3)
Rate limit hit in extractWithAI, retrying in 16000ms (attempt 3/3)
Error with AI extraction (attempt 3): Error: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, read the docs: https://platform.openai.com/docs/guides/error-codes/api-errors.
    at async extractWithAI (app/services/fileProcessor.ts:542:23)
    at async processSheetData (app/services/fileProcessor.ts:228:28)
    at async processExcel (app/services/fileProcessor.ts:331:26)
    at async processFile (app/services/fileProcessor.ts:46:22)
    at async processFileInBackground (app/api/upload-smart/route.ts:104:4)
    at async processQueueSequentially (app/api/upload-smart/route.ts:133:8)
  540 |       await new Promise(resolve => setTimeout(resolve, 500));
  541 |       
> 542 |       const response = await openai.chat.completions.create({
      |                       ^
  543 |         model: 'gpt-4o', 
  544 |         messages: [{ role: 'user', content: prompt }],
  545 |         temperature: 0.1, {
  status: 429,
  headers: Headers {
    date: 'Sat, 07 Jun 2025 11:38:43 GMT',
    'content-type': 'application/json; charset=utf-8',
    'content-length': '337',
    connection: 'keep-alive',
    vary: 'Origin',
    'x-request-id': 'req_5f6f6880a6e1a4338752d61f067386b2',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'cf-cache-status': 'DYNAMIC',
    'set-cookie': '__cf_bm=ZPMkUDntY8TOpqPk60sGPWFdMU38.rk2e8g.eo.w0YE-1749296323-1.0.1.1-8.8WEd4EDnggAUVhm_58sSbtqjc1zvjzMwkEjW7A640doAN55cMAi4xbP68_nZcg.Gbz.cR0CoPN3HZFj8Of7PNN0yWDUr9weXp2.8fCbJo; path=/; expires=Sat, 07-Jun-25 12:08:43 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None, _cfuvid=Xax8xsQeICVYza.AdNJtcndaSVMqaBbzP.43hvmGqy8-1749296323284-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None',
    'x-content-type-options': 'nosniff',
    server: 'cloudflare',
    'cf-ray': '94bfdd61ccc72df9-DPS',
    'alt-svc': 'h3=":443"; ma=86400'
  },
  requestID: 'req_5f6f6880a6e1a4338752d61f067386b2',
  error: [Object],
  code: 'insufficient_quota',
  param: null,
  type: 'insufficient_quota'
}
Max retries reached in extractWithAI, returning empty result
Processing chunk 5 with 30 rows...
Rate limit hit in extractWithAI, retrying in 4000ms (attempt 1/3)
Rate limit hit in extractWithAI, retrying in 8000ms (attempt 2/3)
Rate limit hit in extractWithAI, retrying in 16000ms (attempt 3/3)
Error with AI extraction (attempt 3): Error: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, read the docs: https://platform.openai.com/docs/guides/error-codes/api-errors.
    at async extractWithAI (app/services/fileProcessor.ts:542:23)
    at async processSheetData (app/services/fileProcessor.ts:228:28)
    at async processExcel (app/services/fileProcessor.ts:331:26)
    at async processFile (app/services/fileProcessor.ts:46:22)
    at async processFileInBackground (app/api/upload-smart/route.ts:104:4)
    at async processQueueSequentially (app/api/upload-smart/route.ts:133:8)
  540 |       await new Promise(resolve => setTimeout(resolve, 500));
  541 |       
> 542 |       const response = await openai.chat.completions.create({
      |                       ^
  543 |         model: 'gpt-4o', 
  544 |         messages: [{ role: 'user', content: prompt }],
  545 |         temperature: 0.1, {
  status: 429,
  headers: Headers {
    date: 'Sat, 07 Jun 2025 11:39:05 GMT',
    'content-type': 'application/json; charset=utf-8',
    'content-length': '337',
    connection: 'keep-alive',
    vary: 'Origin',
    'x-request-id': 'req_20933561d20723d8d174b3cb32782cd8',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'cf-cache-status': 'DYNAMIC',
    'set-cookie': '__cf_bm=OcIVG3QubE2QWAa78bTGuoJqvaSo7brJn1IfOBxxaqE-1749296345-1.0.1.1-FHrsbRRBqH0p_b2DwVHAL8gr9Fu29EbeQfjEG8_qWAqbbUM43YkpcKdVvNMp1hzg3m7cQZ0kqGmOTom5vN9HckcOp3Rz.PpXacvv1w.AkrM; path=/; expires=Sat, 07-Jun-25 12:09:05 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None, _cfuvid=MdST0S_t4zMXa86nYgXTb.rEc_Mh9qHluR8_t_0iquI-1749296345504-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None',
    'x-content-type-options': 'nosniff',
    server: 'cloudflare',
    'cf-ray': '94bfddedc9902df9-DPS',
    'alt-svc': 'h3=":443"; ma=86400'
  },
  requestID: 'req_20933561d20723d8d174b3cb32782cd8',
  error: [Object],
  code: 'insufficient_quota',
  param: null,
  type: 'insufficient_quota'
}
Max retries reached in extractWithAI, returning empty result
Processing chunk 6 with 4 rows...
Rate limit hit in extractWithAI, retrying in 4000ms (attempt 1/3)
Rate limit hit in extractWithAI, retrying in 8000ms (attempt 2/3)
Rate limit hit in extractWithAI, retrying in 16000ms (attempt 3/3)
Error with AI extraction (attempt 3): Error: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, read the docs: https://platform.openai.com/docs/guides/error-codes/api-errors.
    at async extractWithAI (app/services/fileProcessor.ts:542:23)
    at async processSheetData (app/services/fileProcessor.ts:228:28)
    at async processExcel (app/services/fileProcessor.ts:331:26)
    at async processFile (app/services/fileProcessor.ts:46:22)
    at async processFileInBackground (app/api/upload-smart/route.ts:104:4)
    at async processQueueSequentially (app/api/upload-smart/route.ts:133:8)
  540 |       await new Promise(resolve => setTimeout(resolve, 500));
  541 |       
> 542 |       const response = await openai.chat.completions.create({
      |                       ^
  543 |         model: 'gpt-4o', 
  544 |         messages: [{ role: 'user', content: prompt }],
  545 |         temperature: 0.1, {
  status: 429,
  headers: Headers {
    date: 'Sat, 07 Jun 2025 11:39:28 GMT',
    'content-type': 'application/json; charset=utf-8',
    'content-length': '337',
    connection: 'keep-alive',
    vary: 'Origin',
    'x-request-id': 'req_b93593798b8852d4da00df7fe74f8ff3',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'cf-cache-status': 'DYNAMIC',
    'set-cookie': '__cf_bm=IawE.Amb_ZpkkaHuqleyJjf914.RlP5aCGv6XdGJoxI-1749296368-1.0.1.1-bD.EwdmkD9rUJUdjTuf0Sy2N47p198x_8yTyrHRqhNF0YyRrAt66utGr.HSCggp16a0zW_Yzjvp21UglED.4Wnc_xstmdGHrURqcWQK6ReU; path=/; expires=Sat, 07-Jun-25 12:09:28 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None, _cfuvid=fRwPEOfRsZYMXeaVCD8zuEDS8VhxhsNZe9_gxBL7LPc-1749296368949-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None',
    'x-content-type-options': 'nosniff',
    server: 'cloudflare',
    'cf-ray': '94bfde7d5d8e2dee-DPS',
    'alt-svc': 'h3=":443"; ma=86400'
  },
  requestID: 'req_b93593798b8852d4da00df7fe74f8ff3',
  error: [Object],
  code: 'insufficient_quota',
  param: null,
  type: 'insufficient_quota'
}
Max retries reached in extractWithAI, returning empty result
Sheet "Sheet1": Merged 6 chunks into 0 products
Processed 1 sheets, extracted 0 total products
Successfully processed 0 products from DOC-20250428-WA0004..xlsx
Processing file cmbm5smjx0008oustv1inq0g7 (5 remaining in queue)
Processing file: Island Organics Bali.pdf
Processing PDF: https://cdc1w79ssc4kg6xh.public.blob.vercel-storage.com/Island%20Organics%20Bali-4QU0DH2Bwptaannw0JiFeTublId6Zv.pdf
PDF parsing failed, falling back to mock data: ReferenceError: DOMMatrix is not defined
    at <unknown> (.next/server/chunks/_386bb6._.js:21:16)
    at async processPDF (app/services/fileProcessor.ts:114:23)
    at async processFile (app/services/fileProcessor.ts:44:22)
    at async processFileInBackground (app/api/upload-smart/route.ts:104:4)
    at async processQueueSequentially (app/api/upload-smart/route.ts:133:8)
  112 |       
  113 |       // Dynamic import of pdfjs-dist
> 114 |       const pdfjsLib = await import('pdfjs-dist');
      |                       ^
  115 |       
  116 |       // Load the PDF document
  117 |       const pdf = await pdfjsLib.getDocument({
Rate limit hit in extractWithAI, retrying in 4000ms (attempt 1/3)
Rate limit hit in extractWithAI, retrying in 8000ms (attempt 2/3)
 GET / 200 in 46ms
 GET /api/suppliers 200 in 111ms
 GET /api/uploads/status?limit=5 200 in 161ms
 GET /api/stats 200 in 438ms
 GET /api/products?category=All%20Categories&limit=50&page=1&sortBy=name&sortOrder=asc 200 in 968ms
Rate limit hit in extractWithAI, retrying in 16000ms (attempt 3/3)
Error with AI extraction (attempt 3): Error: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, read the docs: https://platform.openai.com/docs/guides/error-codes/api-errors.
    at async extractWithAI (app/services/fileProcessor.ts:542:23)
    at async processPDF (app/services/fileProcessor.ts:178:13)
    at async processFile (app/services/fileProcessor.ts:44:22)
    at async processFileInBackground (app/api/upload-smart/route.ts:104:4)
    at async processQueueSequentially (app/api/upload-smart/route.ts:133:8)
  540 |       await new Promise(resolve => setTimeout(resolve, 500));
  541 |       
> 542 |       const response = await openai.chat.completions.create({
      |                       ^
  543 |         model: 'gpt-4o', 
  544 |         messages: [{ role: 'user', content: prompt }],
  545 |         temperature: 0.1, {
  status: 429,
  headers: Headers {
    date: 'Sat, 07 Jun 2025 11:40:01 GMT',
    'content-type': 'application/json; charset=utf-8',
    'content-length': '337',
    connection: 'keep-alive',
    vary: 'Origin',
    'x-request-id': 'req_0c2cb03242e0b0ec041cba86feb22b99',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'cf-cache-status': 'DYNAMIC',
    'set-cookie': '__cf_bm=4Ye7j2D6hQZGQhY0SmICpe_mL9dxBitDaEkSasBizIk-1749296401-1.0.1.1-un6Zj3ID46hNwzpZ.x1Lumw92Txk2ttJ.VHO.KQLwDJvcx1kCDuJRuBpBBMzRqGuOHPISFRErWzYEvWmteDEpWp_He0dogZrWHD6Ef6LWlE; path=/; expires=Sat, 07-Jun-25 12:10:01 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None, _cfuvid=xeOxchEBvP2FKjOv6R5ADwx0v43fuvW.tdn6E33riM0-1749296401630-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None',
    'x-content-type-options': 'nosniff',
    server: 'cloudflare',
    'cf-ray': '94bfdf49abdf9185-DPS',
    'alt-svc': 'h3=":443"; ma=86400'
  },
  requestID: 'req_0c2cb03242e0b0ec041cba86feb22b99',
  error: [Object],
  code: 'insufficient_quota',
  param: null,
  type: 'insufficient_quota'
}
Max retries reached in extractWithAI, returning empty result
Successfully processed 0 products from Island Organics Bali.pdf
Processing file cmbm5snes000boust9kakz4w9 (4 remaining in queue)
Processing file: LIST HARGA UD RAHAYU.xlsx
Processing Excel: https://cdc1w79ssc4kg6xh.public.blob.vercel-storage.com/LIST%20HARGA%20UD%20RAHAYU-ybuZVW3QY1nggdL491fhIKw2jvBOf9.xlsx
Excel file has 3 sheets: list harga, dry good, Sheet3
Sheet "list harga": 105 rows with data
Sheet "dry good": 39 rows with data
Sheet "Sheet3": 0 rows with data
Found 2 sheets with data: list harga(105), dry good(39)
Processing sheet "list harga" with 105 rows...
Sheet "list harga": Processing 105 rows with data
Large sheet detected (105 rows), processing in chunks...
Processing chunk 1 with 30 rows...
Rate limit hit in extractWithAI, retrying in 4000ms (attempt 1/3)
Rate limit hit in extractWithAI, retrying in 8000ms (attempt 2/3)
Rate limit hit in extractWithAI, retrying in 16000ms (attempt 3/3)
Error with AI extraction (attempt 3): Error: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, read the docs: https://platform.openai.com/docs/guides/error-codes/api-errors.
    at async extractWithAI (app/services/fileProcessor.ts:542:23)
    at async processSheetData (app/services/fileProcessor.ts:228:28)
    at async processExcel (app/services/fileProcessor.ts:331:26)
    at async processFile (app/services/fileProcessor.ts:46:22)
    at async processFileInBackground (app/api/upload-smart/route.ts:104:4)
    at async processQueueSequentially (app/api/upload-smart/route.ts:133:8)
  540 |       await new Promise(resolve => setTimeout(resolve, 500));
  541 |       
> 542 |       const response = await openai.chat.completions.create({
      |                       ^
  543 |         model: 'gpt-4o', 
  544 |         messages: [{ role: 'user', content: prompt }],
  545 |         temperature: 0.1, {
  status: 429,
  headers: Headers {
    date: 'Sat, 07 Jun 2025 11:40:27 GMT',
    'content-type': 'application/json; charset=utf-8',
    'content-length': '337',
    connection: 'keep-alive',
    vary: 'Origin',
    'x-request-id': 'req_962285fd1f1f1adfcfade758935607ae',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'cf-cache-status': 'DYNAMIC',
    'set-cookie': '__cf_bm=FXNDsY2v0txn6kQhMSP2I9xaTg8ymeg8q46jmqWhlKo-1749296427-1.0.1.1-rO2h0bb8XjTsIS8OCPHy5ZzoQ57RehGjCaJ5lRNk4UAzYSj3xFkjaYnX7_UekFbb58BwHS63PqtzcI9ZG9S5hkftJvskVj0mtGlqsL8s0z8; path=/; expires=Sat, 07-Jun-25 12:10:27 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None, _cfuvid=Usovjjw_lUup5Q1y_W2OVYrfREPPnSTGOGA8ZXpxGTg-1749296427552-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None',
    'x-content-type-options': 'nosniff',
    server: 'cloudflare',
    'cf-ray': '94bfdfeb8fd32df9-DPS',
    'alt-svc': 'h3=":443"; ma=86400'
  },
  requestID: 'req_962285fd1f1f1adfcfade758935607ae',
  error: [Object],
  code: 'insufficient_quota',
  param: null,
  type: 'insufficient_quota'
}
Max retries reached in extractWithAI, returning empty result
Processing chunk 2 with 30 rows...
Rate limit hit in extractWithAI, retrying in 4000ms (attempt 1/3)
Rate limit hit in extractWithAI, retrying in 8000ms (attempt 2/3)
Rate limit hit in extractWithAI, retrying in 16000ms (attempt 3/3)
Error with AI extraction (attempt 3): Error: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, read the docs: https://platform.openai.com/docs/guides/error-codes/api-errors.
    at async extractWithAI (app/services/fileProcessor.ts:542:23)
    at async processSheetData (app/services/fileProcessor.ts:228:28)
    at async processExcel (app/services/fileProcessor.ts:331:26)
    at async processFile (app/services/fileProcessor.ts:46:22)
    at async processFileInBackground (app/api/upload-smart/route.ts:104:4)
    at async processQueueSequentially (app/api/upload-smart/route.ts:133:8)
  540 |       await new Promise(resolve => setTimeout(resolve, 500));
  541 |       
> 542 |       const response = await openai.chat.completions.create({
      |                       ^
  543 |         model: 'gpt-4o', 
  544 |         messages: [{ role: 'user', content: prompt }],
  545 |         temperature: 0.1, {
  status: 429,
  headers: Headers {
    date: 'Sat, 07 Jun 2025 11:40:50 GMT',
    'content-type': 'application/json; charset=utf-8',
    'content-length': '337',
    connection: 'keep-alive',
    vary: 'Origin',
    'x-request-id': 'req_49e87de30c43b7177d049a62318f0004',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'cf-cache-status': 'DYNAMIC',
    'set-cookie': '__cf_bm=ndJ8yLVa5XylZjlvVlPjeFlIcUMuZx6I9J1tVhhV0UE-1749296450-1.0.1.1-6Ia52M5XsoG53ZyrrUMBCS48BCgvoy.PIywqE38WvPkvJnWIEe7LFfIfxLxLVVncBTKZvKKEh7h3mGBBBA7_WnUyPSi._0TAEaRj6DLNe4k; path=/; expires=Sat, 07-Jun-25 12:10:50 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None, _cfuvid=CcxsrwfpCUyXZ0z39S441.wwfgnYG4WaMkZ7zfCBI_s-1749296450920-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None',
    'x-content-type-options': 'nosniff',
    server: 'cloudflare',
    'cf-ray': '94bfe0809f062df9-DPS',
    'alt-svc': 'h3=":443"; ma=86400'
  },
  requestID: 'req_49e87de30c43b7177d049a62318f0004',
  error: [Object],
  code: 'insufficient_quota',
  param: null,
  type: 'insufficient_quota'
}
Max retries reached in extractWithAI, returning empty result
Processing chunk 3 with 30 rows...
Rate limit hit in extractWithAI, retrying in 4000ms (attempt 1/3)
Rate limit hit in extractWithAI, retrying in 8000ms (attempt 2/3)
Rate limit hit in extractWithAI, retrying in 16000ms (attempt 3/3)
Error with AI extraction (attempt 3): Error: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, read the docs: https://platform.openai.com/docs/guides/error-codes/api-errors.
    at async extractWithAI (app/services/fileProcessor.ts:542:23)
    at async processSheetData (app/services/fileProcessor.ts:228:28)
    at async processExcel (app/services/fileProcessor.ts:331:26)
    at async processFile (app/services/fileProcessor.ts:46:22)
    at async processFileInBackground (app/api/upload-smart/route.ts:104:4)
    at async processQueueSequentially (app/api/upload-smart/route.ts:133:8)
  540 |       await new Promise(resolve => setTimeout(resolve, 500));
  541 |       
> 542 |       const response = await openai.chat.completions.create({
      |                       ^
  543 |         model: 'gpt-4o', 
  544 |         messages: [{ role: 'user', content: prompt }],
  545 |         temperature: 0.1, {
  status: 429,
  headers: Headers {
    date: 'Sat, 07 Jun 2025 11:41:12 GMT',
    'content-type': 'application/json; charset=utf-8',
    'content-length': '337',
    connection: 'keep-alive',
    vary: 'Origin',
    'x-request-id': 'req_6296c3fa8bce0fbeb0e86f7c7c718005',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'cf-cache-status': 'DYNAMIC',
    'set-cookie': '__cf_bm=BjOyfo5Vq8tdcGGzVcRq0x1J1eRH_iqRBTLr1KXCCOY-1749296472-1.0.1.1-oSvePVVUHu9n0rAUbHtU8po8zmvVj8tuPPJr3ZBj1Lr1utomMqMwwru3QOTL9xxsXOGzCW4EcqvDdifLrM2PyPESai89n297BXqJrQED.CU; path=/; expires=Sat, 07-Jun-25 12:11:12 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None, _cfuvid=ZGdzzk6PtnCGKoyclhJ.9ofKIcCSR2eYqD5UogXViJk-1749296472343-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None',
    'x-content-type-options': 'nosniff',
    server: 'cloudflare',
    'cf-ray': '94bfe1067f61c02e-DPS',
    'alt-svc': 'h3=":443"; ma=86400'
  },
  requestID: 'req_6296c3fa8bce0fbeb0e86f7c7c718005',
  error: [Object],
  code: 'insufficient_quota',
  param: null,
  type: 'insufficient_quota'
}
Max retries reached in extractWithAI, returning empty result
Processing chunk 4 with 15 rows...
Rate limit hit in extractWithAI, retrying in 4000ms (attempt 1/3)
Rate limit hit in extractWithAI, retrying in 8000ms (attempt 2/3)
Rate limit hit in extractWithAI, retrying in 16000ms (attempt 3/3)
Error with AI extraction (attempt 3): Error: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, read the docs: https://platform.openai.com/docs/guides/error-codes/api-errors.
    at async extractWithAI (app/services/fileProcessor.ts:542:23)
    at async processSheetData (app/services/fileProcessor.ts:228:28)
    at async processExcel (app/services/fileProcessor.ts:331:26)
    at async processFile (app/services/fileProcessor.ts:46:22)
    at async processFileInBackground (app/api/upload-smart/route.ts:104:4)
    at async processQueueSequentially (app/api/upload-smart/route.ts:133:8)
  540 |       await new Promise(resolve => setTimeout(resolve, 500));
  541 |       
> 542 |       const response = await openai.chat.completions.create({
      |                       ^
  543 |         model: 'gpt-4o', 
  544 |         messages: [{ role: 'user', content: prompt }],
  545 |         temperature: 0.1, {
  status: 429,
  headers: Headers {
    date: 'Sat, 07 Jun 2025 11:41:34 GMT',
    'content-type': 'application/json; charset=utf-8',
    'content-length': '337',
    connection: 'keep-alive',
    vary: 'Origin',
    'x-request-id': 'req_5cfef969c52754a4c3c8edb5b7d0a9a1',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'cf-cache-status': 'DYNAMIC',
    'set-cookie': '__cf_bm=CAIQ4Pe0hN4Xh9SMDipVfruz7iOv_JyB_9IP3Psoh5o-1749296494-1.0.1.1-6rqdkmrvb8QHlU_Ky9RuXD084auPwI2KKjhYOhsVtaP6k3PjSLr6a6kNKMRvehQbbyGeFpZECgD_YV3DJRZXOLV68ap_77U6u28Xoj1w02U; path=/; expires=Sat, 07-Jun-25 12:11:34 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None, _cfuvid=Dd3M42q0lqgiPPxDi5kBo_Cw3uRZplX85Web56J3bwY-1749296494636-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None',
    'x-content-type-options': 'nosniff',
    server: 'cloudflare',
    'cf-ray': '94bfe18eed7ac02e-DPS',
    'alt-svc': 'h3=":443"; ma=86400'
  },
  requestID: 'req_5cfef969c52754a4c3c8edb5b7d0a9a1',
  error: [Object],
  code: 'insufficient_quota',
  param: null,
  type: 'insufficient_quota'
}
Max retries reached in extractWithAI, returning empty result
Sheet "list harga": Merged 4 chunks into 0 products
Processing sheet "dry good" with 39 rows...
Sheet "dry good": Processing 39 rows with data
Sheet "dry good": Processing 39 rows with AI...
Rate limit hit in extractWithAI, retrying in 4000ms (attempt 1/3)
Rate limit hit in extractWithAI, retrying in 8000ms (attempt 2/3)
 ✓ Compiled / in 19ms
 GET / 200 in 29ms
 GET / 200 in 14ms
Rate limit hit in extractWithAI, retrying in 16000ms (attempt 3/3)
Error with AI extraction (attempt 3): Error: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, read the docs: https://platform.openai.com/docs/guides/error-codes/api-errors.
    at async extractWithAI (app/services/fileProcessor.ts:542:23)
    at async processSheetData (app/services/fileProcessor.ts:266:11)
    at async processExcel (app/services/fileProcessor.ts:331:26)
    at async processFile (app/services/fileProcessor.ts:46:22)
    at async processFileInBackground (app/api/upload-smart/route.ts:104:4)
    at async processQueueSequentially (app/api/upload-smart/route.ts:133:8)
  540 |       await new Promise(resolve => setTimeout(resolve, 500));
  541 |       
> 542 |       const response = await openai.chat.completions.create({
      |                       ^
  543 |         model: 'gpt-4o', 
  544 |         messages: [{ role: 'user', content: prompt }],
  545 |         temperature: 0.1, {
  status: 429,
  headers: Headers {
    date: 'Sat, 07 Jun 2025 11:41:55 GMT',
    'content-type': 'application/json; charset=utf-8',
    'content-length': '337',
    connection: 'keep-alive',
    vary: 'Origin',
    'x-request-id': 'req_a26bc68c5840a8ab9dff58e5ff0b1c74',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'cf-cache-status': 'DYNAMIC',
    'set-cookie': '__cf_bm=S11XDUhBM2hWYTcUlE6cwMMrHbI4pAT1lqKONoL46R0-1749296515-1.0.1.1-zQqtdiLjxSCY11hWzOTGa5E1RvTFYNw_YmeWnvjGvX1wYFn5gEEtpXYiP4cEo8iDa2SSrz_auP4U0w__DPjKQYozQo5jEdTT4dxMl6R5wPE; path=/; expires=Sat, 07-Jun-25 12:11:55 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None, _cfuvid=n5kGUmd3Uy2GmBFpghvZegooEWN0VBHpQRFwHhOuvts-1749296515907-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None',
    'x-content-type-options': 'nosniff',
    server: 'cloudflare',
    'cf-ray': '94bfe216cf092df8-DPS',
    'alt-svc': 'h3=":443"; ma=86400'
  },
  requestID: 'req_a26bc68c5840a8ab9dff58e5ff0b1c74',
  error: [Object],
  code: 'insufficient_quota',
  param: null,
  type: 'insufficient_quota'
}
Max retries reached in extractWithAI, returning empty result
Processed 2 sheets, extracted 0 total products
Successfully processed 0 products from LIST HARGA UD RAHAYU.xlsx
Processing file cmbm5sqcz000eoustk4nzc1ai (3 remaining in queue)
Processing file: Oka veg supplier.xlsx
Processing Excel: https://cdc1w79ssc4kg6xh.public.blob.vercel-storage.com/Oka%20veg%20supplier-hWrcjQkWgtKkCjlskHVeBY6sOdWcy2.xlsx
Excel file has 477 sheets: Chart85, Chart84, Chart83, Chart82, Chart81, Chart80, Chart79, Chart78, Chart77, Chart76, Chart75, Chart74, Chart73, Chart72, Chart71, Chart70, Chart69, Chart68, Chart67, Chart66, Chart65, Chart64, Chart63, Chart62, Chart61, Chart60, Chart59, Chart58, Chart57, Chart56, Chart55, Chart54, Chart53, Chart52, Chart51, Chart50, Chart49, Chart48, Chart47, Chart46, Chart45, Chart44, Chart43, Chart42, Chart41, Chart40, Chart39, Chart38, Chart37, Chart36, Chart35, Chart34, Chart33, Chart32, Chart31, Chart30, Chart29, Chart28, Chart27, Chart26, Chart25, Chart24, Chart23, Chart22, Chart21, Chart20, Chart19, Chart18, Chart17, Chart16, Chart15, Chart14, Chart13, Chart12, Chart11, Chart10, Chart9, Chart8, Chart7, Chart6, Chart5, Chart4, Chart3, Chart2, Chart1, Chart94, Chart93, Chart92, Chart91, Chart90, Chart89, Chart88, Chart87, Chart86, Macro2, Macro1, Chart472, Chart471, Chart470, Chart469, Chart468, Chart467, Chart466, Chart465, Chart464, Chart463, Chart462, Chart461, Chart460, Chart459, Chart458, Chart457, Chart456, Chart455, Chart454, Chart453, Chart452, Chart451, Chart450, Chart449, Chart448, Chart447, Chart446, Chart445, Chart444, Chart443, Chart442, Chart441, Chart440, Chart439, Chart438, Chart437, Chart436, Chart435, Chart434, Chart433, Chart432, Chart431, Chart430, Chart429, Chart428, Chart427, Chart426, Chart425, Chart424, Chart423, Chart422, Chart421, Chart420, Chart419, Chart418, Chart417, Chart416, Chart415, Chart414, Chart413, Chart412, Chart411, Chart410, Chart409, Chart408, Chart407, Chart406, Chart405, Chart404, Chart403, Chart402, Chart401, Chart400, Chart399, Chart398, Chart397, Chart396, Chart395, Chart394, Chart393, Chart392, Chart391, Chart390, Chart389, Chart388, Chart387, Chart386, Chart385, Chart384, Chart383, Chart382, Chart381, Chart380, Chart379, Chart378, Chart377, Chart376, Chart375, Chart374, Chart373, Chart372, Chart371, Chart370, Chart369, Chart368, Chart367, Chart366, Chart365, Chart364, Chart363, Chart362, Chart361, Chart360, Chart359, Chart358, Chart357, Chart356, Chart355, Chart354, Chart353, Chart352, Chart351, Chart350, Chart349, Chart348, Chart347, Chart346, Chart345, Chart344, Chart343, Chart342, Chart341, Chart340, Chart339, Chart338, Chart337, Chart336, Chart335, Chart334, Chart333, Chart332, Chart331, Chart330, Chart329, Chart328, Chart327, Chart326, Chart325, Chart324, Chart323, Chart322, Chart321, Chart320, Chart319, Chart318, Chart317, Chart316, Chart315, Chart314, Chart313, Chart312, Chart311, Chart310, Chart309, Chart308, Chart307, Chart306, Chart305, Chart304, Chart303, Chart302, Chart301, Chart300, Chart299, Chart298, Chart297, Chart296, Chart295, Chart294, Chart293, Chart292, Chart291, Chart290, Chart289, Chart288, Chart287, Chart286, Chart285, Chart284, Chart283, Chart282, Chart281, Chart280, Chart279, Chart278, Chart277, Chart276, Chart275, Chart274, Chart273, Chart272, Chart271, Chart270, Chart269, Chart268, Chart267, Chart266, Chart265, Chart264, Chart263, Chart262, Chart261, Chart260, Chart259, Chart258, Chart257, Chart256, Chart255, Chart254, Chart253, Chart252, Chart251, Chart250, Chart249, Chart248, Chart247, Chart246, Chart245, Chart244, Chart243, Chart242, Chart241, Chart240, Chart239, Chart238, Chart237, Chart236, Chart235, Chart234, Chart233, Chart232, Chart231, Chart230, Chart229, Chart228, Chart227, Chart226, Chart225, Chart224, Chart223, Chart222, Chart221, Chart220, Chart219, Chart218, Chart217, Chart216, Chart215, Chart214, Chart213, Chart212, Chart211, Chart210, Chart209, Chart208, Chart207, Chart206, Chart205, Chart204, Chart203, Chart202, Chart201, Chart200, Chart199, Chart198, Chart197, Chart196, Chart195, Chart194, Chart193, Chart192, Chart191, Chart190, Chart189, Chart188, Chart187, Chart186, Chart185, Chart184, Chart183, Chart182, Chart181, Chart180, Chart179, Chart178, Chart177, Chart176, Chart175, Chart174, Chart173, Chart172, Chart171, Chart170, Chart169, Chart168, Chart167, Chart166, Chart165, Chart164, Chart163, Chart162, Chart161, Chart160, Chart159, Chart158, Chart157, Chart156, Chart155, Chart154, Chart153, Chart152, Chart151, Chart150, Chart149, Chart148, Chart147, Chart146, Chart145, Chart144, Chart143, Chart142, Chart141, Chart140, Chart139, Chart138, Chart137, Chart136, Chart135, Chart134, Chart133, Chart132, Chart131, Chart130, Chart129, Chart128, Chart127, Chart126, Chart125, Chart124, Chart123, Chart122, Chart121, Chart120, Chart119, Chart118, Chart117, Chart116, Chart115, Chart114, Chart113, Chart112, Chart111, Chart110, Chart109, Chart108, Chart107, Chart106, Chart105, Chart104, Chart103, Chart102, Chart101, Chart100, Chart99, Chart98, Chart97, Chart96, Chart95, Sheet1, Sheet2, Sheet3
Sheet "Chart85": 0 rows with data
Sheet "Chart84": 0 rows with data
Sheet "Chart83": 0 rows with data
Sheet "Chart82": 0 rows with data
Sheet "Chart81": 0 rows with data
Sheet "Chart80": 0 rows with data
Sheet "Chart79": 0 rows with data
Sheet "Chart78": 0 rows with data
Sheet "Chart77": 0 rows with data
Sheet "Chart76": 0 rows with data
Sheet "Chart75": 0 rows with data
Sheet "Chart74": 0 rows with data
Sheet "Chart73": 0 rows with data
Sheet "Chart72": 0 rows with data
Sheet "Chart71": 0 rows with data
Sheet "Chart70": 0 rows with data
Sheet "Chart69": 0 rows with data
Sheet "Chart68": 0 rows with data
Sheet "Chart67": 0 rows with data
Sheet "Chart66": 0 rows with data
Sheet "Chart65": 0 rows with data
Sheet "Chart64": 0 rows with data
Sheet "Chart63": 0 rows with data
Sheet "Chart62": 0 rows with data
Sheet "Chart61": 0 rows with data
Sheet "Chart60": 0 rows with data
Sheet "Chart59": 0 rows with data
Sheet "Chart58": 0 rows with data
Sheet "Chart57": 0 rows with data
Sheet "Chart56": 0 rows with data
Sheet "Chart55": 0 rows with data
Sheet "Chart54": 0 rows with data
Sheet "Chart53": 0 rows with data
Sheet "Chart52": 0 rows with data
Sheet "Chart51": 0 rows with data
Sheet "Chart50": 0 rows with data
Sheet "Chart49": 0 rows with data
Sheet "Chart48": 0 rows with data
Sheet "Chart47": 0 rows with data
Sheet "Chart46": 0 rows with data
Sheet "Chart45": 0 rows with data
Sheet "Chart44": 0 rows with data
Sheet "Chart43": 0 rows with data
Sheet "Chart42": 0 rows with data
Sheet "Chart41": 0 rows with data
Sheet "Chart40": 0 rows with data
Sheet "Chart39": 0 rows with data
Sheet "Chart38": 0 rows with data
Sheet "Chart37": 0 rows with data
Sheet "Chart36": 0 rows with data
Sheet "Chart35": 0 rows with data
Sheet "Chart34": 0 rows with data
Sheet "Chart33": 0 rows with data
Sheet "Chart32": 0 rows with data
Sheet "Chart31": 0 rows with data
Sheet "Chart30": 0 rows with data
Sheet "Chart29": 0 rows with data
Sheet "Chart28": 0 rows with data
Sheet "Chart27": 0 rows with data
Sheet "Chart26": 0 rows with data
Sheet "Chart25": 0 rows with data
Sheet "Chart24": 0 rows with data
Sheet "Chart23": 0 rows with data
Sheet "Chart22": 0 rows with data
Sheet "Chart21": 0 rows with data
Sheet "Chart20": 0 rows with data
Sheet "Chart19": 0 rows with data
Sheet "Chart18": 0 rows with data
Sheet "Chart17": 0 rows with data
Sheet "Chart16": 0 rows with data
Sheet "Chart15": 0 rows with data
Sheet "Chart14": 0 rows with data
Sheet "Chart13": 0 rows with data
Sheet "Chart12": 0 rows with data
Sheet "Chart11": 0 rows with data
Sheet "Chart10": 0 rows with data
Sheet "Chart9": 0 rows with data
Sheet "Chart8": 0 rows with data
Sheet "Chart7": 0 rows with data
Sheet "Chart6": 0 rows with data
Sheet "Chart5": 0 rows with data
Sheet "Chart4": 0 rows with data
Sheet "Chart3": 0 rows with data
Sheet "Chart2": 0 rows with data
Sheet "Chart1": 0 rows with data
Sheet "Chart94": 0 rows with data
Sheet "Chart93": 0 rows with data
Sheet "Chart92": 0 rows with data
Sheet "Chart91": 0 rows with data
Sheet "Chart90": 0 rows with data
Sheet "Chart89": 0 rows with data
Sheet "Chart88": 0 rows with data
Sheet "Chart87": 0 rows with data
Sheet "Chart86": 0 rows with data
Sheet "Macro2": 0 rows with data
Sheet "Macro1": 0 rows with data
Sheet "Chart472": 0 rows with data
Sheet "Chart471": 0 rows with data
Sheet "Chart470": 0 rows with data
Sheet "Chart469": 0 rows with data
Sheet "Chart468": 0 rows with data
Sheet "Chart467": 0 rows with data
Sheet "Chart466": 0 rows with data
Sheet "Chart465": 0 rows with data
Sheet "Chart464": 0 rows with data
Sheet "Chart463": 0 rows with data
Sheet "Chart462": 0 rows with data
Sheet "Chart461": 0 rows with data
Sheet "Chart460": 0 rows with data
Sheet "Chart459": 0 rows with data
Sheet "Chart458": 0 rows with data
Sheet "Chart457": 0 rows with data
Sheet "Chart456": 0 rows with data
Sheet "Chart455": 0 rows with data
Sheet "Chart454": 0 rows with data
Sheet "Chart453": 0 rows with data
Sheet "Chart452": 0 rows with data
Sheet "Chart451": 0 rows with data
Sheet "Chart450": 0 rows with data
Sheet "Chart449": 0 rows with data
Sheet "Chart448": 0 rows with data
Sheet "Chart447": 0 rows with data
Sheet "Chart446": 0 rows with data
Sheet "Chart445": 0 rows with data
Sheet "Chart444": 0 rows with data
Sheet "Chart443": 0 rows with data
Sheet "Chart442": 0 rows with data
Sheet "Chart441": 0 rows with data
Sheet "Chart440": 0 rows with data
Sheet "Chart439": 0 rows with data
Sheet "Chart438": 0 rows with data
Sheet "Chart437": 0 rows with data
Sheet "Chart436": 0 rows with data
Sheet "Chart435": 0 rows with data
Sheet "Chart434": 0 rows with data
Sheet "Chart433": 0 rows with data
Sheet "Chart432": 0 rows with data
Sheet "Chart431": 0 rows with data
Sheet "Chart430": 0 rows with data
Sheet "Chart429": 0 rows with data
Sheet "Chart428": 0 rows with data
Sheet "Chart427": 0 rows with data
Sheet "Chart426": 0 rows with data
Sheet "Chart425": 0 rows with data
Sheet "Chart424": 0 rows with data
Sheet "Chart423": 0 rows with data
Sheet "Chart422": 0 rows with data
Sheet "Chart421": 0 rows with data
Sheet "Chart420": 0 rows with data
Sheet "Chart419": 0 rows with data
Sheet "Chart418": 0 rows with data
Sheet "Chart417": 0 rows with data
Sheet "Chart416": 0 rows with data
Sheet "Chart415": 0 rows with data
Sheet "Chart414": 0 rows with data
Sheet "Chart413": 0 rows with data
Sheet "Chart412": 0 rows with data
Sheet "Chart411": 0 rows with data
Sheet "Chart410": 0 rows with data
Sheet "Chart409": 0 rows with data
Sheet "Chart408": 0 rows with data
Sheet "Chart407": 0 rows with data
Sheet "Chart406": 0 rows with data
Sheet "Chart405": 0 rows with data
Sheet "Chart404": 0 rows with data
Sheet "Chart403": 0 rows with data
Sheet "Chart402": 0 rows with data
Sheet "Chart401": 0 rows with data
Sheet "Chart400": 0 rows with data
Sheet "Chart399": 0 rows with data
Sheet "Chart398": 0 rows with data
Sheet "Chart397": 0 rows with data
Sheet "Chart396": 0 rows with data
Sheet "Chart395": 0 rows with data
Sheet "Chart394": 0 rows with data
Sheet "Chart393": 0 rows with data
Sheet "Chart392": 0 rows with data
Sheet "Chart391": 0 rows with data
Sheet "Chart390": 0 rows with data
Sheet "Chart389": 0 rows with data
Sheet "Chart388": 0 rows with data
Sheet "Chart387": 0 rows with data
Sheet "Chart386": 0 rows with data
Sheet "Chart385": 0 rows with data
Sheet "Chart384": 0 rows with data
Sheet "Chart383": 0 rows with data
Sheet "Chart382": 0 rows with data
Sheet "Chart381": 0 rows with data
Sheet "Chart380": 0 rows with data
Sheet "Chart379": 0 rows with data
Sheet "Chart378": 0 rows with data
Sheet "Chart377": 0 rows with data
Sheet "Chart376": 0 rows with data
Sheet "Chart375": 0 rows with data
Sheet "Chart374": 0 rows with data
Sheet "Chart373": 0 rows with data
Sheet "Chart372": 0 rows with data
Sheet "Chart371": 0 rows with data
Sheet "Chart370": 0 rows with data
Sheet "Chart369": 0 rows with data
Sheet "Chart368": 0 rows with data
Sheet "Chart367": 0 rows with data
Sheet "Chart366": 0 rows with data
Sheet "Chart365": 0 rows with data
Sheet "Chart364": 0 rows with data
Sheet "Chart363": 0 rows with data
Sheet "Chart362": 0 rows with data
Sheet "Chart361": 0 rows with data
Sheet "Chart360": 0 rows with data
Sheet "Chart359": 0 rows with data
Sheet "Chart358": 0 rows with data
Sheet "Chart357": 0 rows with data
Sheet "Chart356": 0 rows with data
Sheet "Chart355": 0 rows with data
Sheet "Chart354": 0 rows with data
Sheet "Chart353": 0 rows with data
Sheet "Chart352": 0 rows with data
Sheet "Chart351": 0 rows with data
Sheet "Chart350": 0 rows with data
Sheet "Chart349": 0 rows with data
Sheet "Chart348": 0 rows with data
Sheet "Chart347": 0 rows with data
Sheet "Chart346": 0 rows with data
Sheet "Chart345": 0 rows with data
Sheet "Chart344": 0 rows with data
Sheet "Chart343": 0 rows with data
Sheet "Chart342": 0 rows with data
Sheet "Chart341": 0 rows with data
Sheet "Chart340": 0 rows with data
Sheet "Chart339": 0 rows with data
Sheet "Chart338": 0 rows with data
Sheet "Chart337": 0 rows with data
Sheet "Chart336": 0 rows with data
Sheet "Chart335": 0 rows with data
Sheet "Chart334": 0 rows with data
Sheet "Chart333": 0 rows with data
Sheet "Chart332": 0 rows with data
Sheet "Chart331": 0 rows with data
Sheet "Chart330": 0 rows with data
Sheet "Chart329": 0 rows with data
Sheet "Chart328": 0 rows with data
Sheet "Chart327": 0 rows with data
Sheet "Chart326": 0 rows with data
Sheet "Chart325": 0 rows with data
Sheet "Chart324": 0 rows with data
Sheet "Chart323": 0 rows with data
Sheet "Chart322": 0 rows with data
Sheet "Chart321": 0 rows with data
Sheet "Chart320": 0 rows with data
Sheet "Chart319": 0 rows with data
Sheet "Chart318": 0 rows with data
Sheet "Chart317": 0 rows with data
Sheet "Chart316": 0 rows with data
Sheet "Chart315": 0 rows with data
Sheet "Chart314": 0 rows with data
Sheet "Chart313": 0 rows with data
Sheet "Chart312": 0 rows with data
Sheet "Chart311": 0 rows with data
Sheet "Chart310": 0 rows with data
Sheet "Chart309": 0 rows with data
Sheet "Chart308": 0 rows with data
Sheet "Chart307": 0 rows with data
Sheet "Chart306": 0 rows with data
Sheet "Chart305": 0 rows with data
Sheet "Chart304": 0 rows with data
Sheet "Chart303": 0 rows with data
Sheet "Chart302": 0 rows with data
Sheet "Chart301": 0 rows with data
Sheet "Chart300": 0 rows with data
Sheet "Chart299": 0 rows with data
Sheet "Chart298": 0 rows with data
Sheet "Chart297": 0 rows with data
Sheet "Chart296": 0 rows with data
Sheet "Chart295": 0 rows with data
Sheet "Chart294": 0 rows with data
Sheet "Chart293": 0 rows with data
Sheet "Chart292": 0 rows with data
Sheet "Chart291": 0 rows with data
Sheet "Chart290": 0 rows with data
Sheet "Chart289": 0 rows with data
Sheet "Chart288": 0 rows with data
Sheet "Chart287": 0 rows with data
Sheet "Chart286": 0 rows with data
Sheet "Chart285": 0 rows with data
Sheet "Chart284": 0 rows with data
Sheet "Chart283": 0 rows with data
Sheet "Chart282": 0 rows with data
Sheet "Chart281": 0 rows with data
Sheet "Chart280": 0 rows with data
Sheet "Chart279": 0 rows with data
Sheet "Chart278": 0 rows with data
Sheet "Chart277": 0 rows with data
Sheet "Chart276": 0 rows with data
Sheet "Chart275": 0 rows with data
Sheet "Chart274": 0 rows with data
Sheet "Chart273": 0 rows with data
Sheet "Chart272": 0 rows with data
Sheet "Chart271": 0 rows with data
Sheet "Chart270": 0 rows with data
Sheet "Chart269": 0 rows with data
Sheet "Chart268": 0 rows with data
Sheet "Chart267": 0 rows with data
Sheet "Chart266": 0 rows with data
Sheet "Chart265": 0 rows with data
Sheet "Chart264": 0 rows with data
Sheet "Chart263": 0 rows with data
Sheet "Chart262": 0 rows with data
Sheet "Chart261": 0 rows with data
Sheet "Chart260": 0 rows with data
Sheet "Chart259": 0 rows with data
Sheet "Chart258": 0 rows with data
Sheet "Chart257": 0 rows with data
Sheet "Chart256": 0 rows with data
Sheet "Chart255": 0 rows with data
Sheet "Chart254": 0 rows with data
Sheet "Chart253": 0 rows with data
Sheet "Chart252": 0 rows with data
Sheet "Chart251": 0 rows with data
Sheet "Chart250": 0 rows with data
Sheet "Chart249": 0 rows with data
Sheet "Chart248": 0 rows with data
Sheet "Chart247": 0 rows with data
Sheet "Chart246": 0 rows with data
Sheet "Chart245": 0 rows with data
Sheet "Chart244": 0 rows with data
Sheet "Chart243": 0 rows with data
Sheet "Chart242": 0 rows with data
Sheet "Chart241": 0 rows with data
Sheet "Chart240": 0 rows with data
Sheet "Chart239": 0 rows with data
Sheet "Chart238": 0 rows with data
Sheet "Chart237": 0 rows with data
Sheet "Chart236": 0 rows with data
Sheet "Chart235": 0 rows with data
Sheet "Chart234": 0 rows with data
Sheet "Chart233": 0 rows with data
Sheet "Chart232": 0 rows with data
Sheet "Chart231": 0 rows with data
Sheet "Chart230": 0 rows with data
Sheet "Chart229": 0 rows with data
Sheet "Chart228": 0 rows with data
Sheet "Chart227": 0 rows with data
Sheet "Chart226": 0 rows with data
Sheet "Chart225": 0 rows with data
Sheet "Chart224": 0 rows with data
Sheet "Chart223": 0 rows with data
Sheet "Chart222": 0 rows with data
Sheet "Chart221": 0 rows with data
Sheet "Chart220": 0 rows with data
Sheet "Chart219": 0 rows with data
Sheet "Chart218": 0 rows with data
Sheet "Chart217": 0 rows with data
Sheet "Chart216": 0 rows with data
Sheet "Chart215": 0 rows with data
Sheet "Chart214": 0 rows with data
Sheet "Chart213": 0 rows with data
Sheet "Chart212": 0 rows with data
Sheet "Chart211": 0 rows with data
Sheet "Chart210": 0 rows with data
Sheet "Chart209": 0 rows with data
Sheet "Chart208": 0 rows with data
Sheet "Chart207": 0 rows with data
Sheet "Chart206": 0 rows with data
Sheet "Chart205": 0 rows with data
Sheet "Chart204": 0 rows with data
Sheet "Chart203": 0 rows with data
Sheet "Chart202": 0 rows with data
Sheet "Chart201": 0 rows with data
Sheet "Chart200": 0 rows with data
Sheet "Chart199": 0 rows with data
Sheet "Chart198": 0 rows with data
Sheet "Chart197": 0 rows with data
Sheet "Chart196": 0 rows with data
Sheet "Chart195": 0 rows with data
Sheet "Chart194": 0 rows with data
Sheet "Chart193": 0 rows with data
Sheet "Chart192": 0 rows with data
Sheet "Chart191": 0 rows with data
Sheet "Chart190": 0 rows with data
Sheet "Chart189": 0 rows with data
Sheet "Chart188": 0 rows with data
Sheet "Chart187": 0 rows with data
Sheet "Chart186": 0 rows with data
Sheet "Chart185": 0 rows with data
Sheet "Chart184": 0 rows with data
Sheet "Chart183": 0 rows with data
Sheet "Chart182": 0 rows with data
Sheet "Chart181": 0 rows with data
Sheet "Chart180": 0 rows with data
Sheet "Chart179": 0 rows with data
Sheet "Chart178": 0 rows with data
Sheet "Chart177": 0 rows with data
Sheet "Chart176": 0 rows with data
Sheet "Chart175": 0 rows with data
Sheet "Chart174": 0 rows with data
Sheet "Chart173": 0 rows with data
Sheet "Chart172": 0 rows with data
Sheet "Chart171": 0 rows with data
Sheet "Chart170": 0 rows with data
Sheet "Chart169": 0 rows with data
Sheet "Chart168": 0 rows with data
Sheet "Chart167": 0 rows with data
Sheet "Chart166": 0 rows with data
Sheet "Chart165": 0 rows with data
Sheet "Chart164": 0 rows with data
Sheet "Chart163": 0 rows with data
Sheet "Chart162": 0 rows with data
Sheet "Chart161": 0 rows with data
Sheet "Chart160": 0 rows with data
Sheet "Chart159": 0 rows with data
Sheet "Chart158": 0 rows with data
Sheet "Chart157": 0 rows with data
Sheet "Chart156": 0 rows with data
Sheet "Chart155": 0 rows with data
Sheet "Chart154": 0 rows with data
Sheet "Chart153": 0 rows with data
Sheet "Chart152": 0 rows with data
Sheet "Chart151": 0 rows with data
Sheet "Chart150": 0 rows with data
Sheet "Chart149": 0 rows with data
Sheet "Chart148": 0 rows with data
Sheet "Chart147": 0 rows with data
Sheet "Chart146": 0 rows with data
Sheet "Chart145": 0 rows with data
Sheet "Chart144": 0 rows with data
Sheet "Chart143": 0 rows with data
Sheet "Chart142": 0 rows with data
Sheet "Chart141": 0 rows with data
Sheet "Chart140": 0 rows with data
Sheet "Chart139": 0 rows with data
Sheet "Chart138": 0 rows with data
Sheet "Chart137": 0 rows with data
Sheet "Chart136": 0 rows with data
Sheet "Chart135": 0 rows with data
Sheet "Chart134": 0 rows with data
Sheet "Chart133": 0 rows with data
Sheet "Chart132": 0 rows with data
Sheet "Chart131": 0 rows with data
Sheet "Chart130": 0 rows with data
Sheet "Chart129": 0 rows with data
Sheet "Chart128": 0 rows with data
Sheet "Chart127": 0 rows with data
Sheet "Chart126": 0 rows with data
Sheet "Chart125": 0 rows with data
Sheet "Chart124": 0 rows with data
Sheet "Chart123": 0 rows with data
Sheet "Chart122": 0 rows with data
Sheet "Chart121": 0 rows with data
Sheet "Chart120": 0 rows with data
Sheet "Chart119": 0 rows with data
Sheet "Chart118": 0 rows with data
Sheet "Chart117": 0 rows with data
Sheet "Chart116": 0 rows with data
Sheet "Chart115": 0 rows with data
Sheet "Chart114": 0 rows with data
Sheet "Chart113": 0 rows with data
Sheet "Chart112": 0 rows with data
Sheet "Chart111": 0 rows with data
Sheet "Chart110": 0 rows with data
Sheet "Chart109": 0 rows with data
Sheet "Chart108": 0 rows with data
Sheet "Chart107": 0 rows with data
Sheet "Chart106": 0 rows with data
Sheet "Chart105": 0 rows with data
Sheet "Chart104": 0 rows with data
Sheet "Chart103": 0 rows with data
Sheet "Chart102": 0 rows with data
Sheet "Chart101": 0 rows with data
Sheet "Chart100": 0 rows with data
Sheet "Chart99": 0 rows with data
Sheet "Chart98": 0 rows with data
Sheet "Chart97": 0 rows with data
Sheet "Chart96": 0 rows with data
Sheet "Chart95": 0 rows with data
Sheet "Sheet1": 134 rows with data
Sheet "Sheet2": 0 rows with data
Sheet "Sheet3": 0 rows with data
Found 1 sheets with data: Sheet1(134)
Processing sheet "Sheet1" with 134 rows...
Sheet "Sheet1": Processing 134 rows with data
Large sheet detected (134 rows), processing in chunks...
Processing chunk 1 with 30 rows...
 ✓ Compiled / in 16ms
 GET / 200 in 27ms
 GET / 200 in 12ms
Rate limit hit in extractWithAI, retrying in 4000ms (attempt 1/3)
Rate limit hit in extractWithAI, retrying in 8000ms (attempt 2/3)
 ✓ Compiled / in 5ms
 GET / 200 in 11ms
 ✓ Compiled / in 5ms
 GET / 200 in 13ms
Rate limit hit in extractWithAI, retrying in 16000ms (attempt 3/3)
Error with AI extraction (attempt 3): Error: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, read the docs: https://platform.openai.com/docs/guides/error-codes/api-errors.
    at async extractWithAI (app/services/fileProcessor.ts:542:23)
    at async processSheetData (app/services/fileProcessor.ts:228:28)
    at async processExcel (app/services/fileProcessor.ts:331:26)
    at async processFile (app/services/fileProcessor.ts:46:22)
    at async processFileInBackground (app/api/upload-smart/route.ts:104:4)
    at async processQueueSequentially (app/api/upload-smart/route.ts:133:8)
  540 |       await new Promise(resolve => setTimeout(resolve, 500));
  541 |       
> 542 |       const response = await openai.chat.completions.create({
      |                       ^
  543 |         model: 'gpt-4o', 
  544 |         messages: [{ role: 'user', content: prompt }],
  545 |         temperature: 0.1, {
  status: 429,
  headers: Headers {
    date: 'Sat, 07 Jun 2025 11:42:24 GMT',
    'content-type': 'application/json; charset=utf-8',
    'content-length': '337',
    connection: 'keep-alive',
    vary: 'Origin',
    'x-request-id': 'req_34e44875e166017d3c44c4e9fc592266',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'cf-cache-status': 'DYNAMIC',
    'set-cookie': '__cf_bm=CGxKpVe9626dXjwiruUzkq1F4d07ehmUF6.Edo0kVbI-1749296544-1.0.1.1-4Uh.k.kMkwhUxjpYGkZyv_7UHNHiBd3LLJhDSQova8YP062p85KM9eUKQocAqS.E7Dc8rl9Y9gdzvAkYotubpisrt7SdP8XrNTdAIqkjr.0; path=/; expires=Sat, 07-Jun-25 12:12:24 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None, _cfuvid=8GCUZRCKXEo7Eu5zlFs9c8mCPzCHYOZKYM71du768yk-1749296544583-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None',
    'x-content-type-options': 'nosniff',
    server: 'cloudflare',
    'cf-ray': '94bfe2ca0eab9185-DPS',
    'alt-svc': 'h3=":443"; ma=86400'
  },
  requestID: 'req_34e44875e166017d3c44c4e9fc592266',
  error: [Object],
  code: 'insufficient_quota',
  param: null,
  type: 'insufficient_quota'
}
Max retries reached in extractWithAI, returning empty result
Processing chunk 2 with 30 rows...
Rate limit hit in extractWithAI, retrying in 4000ms (attempt 1/3)
Rate limit hit in extractWithAI, retrying in 8000ms (attempt 2/3)
Rate limit hit in extractWithAI, retrying in 16000ms (attempt 3/3)
Error with AI extraction (attempt 3): Error: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, read the docs: https://platform.openai.com/docs/guides/error-codes/api-errors.
    at async extractWithAI (app/services/fileProcessor.ts:542:23)
    at async processSheetData (app/services/fileProcessor.ts:228:28)
    at async processExcel (app/services/fileProcessor.ts:331:26)
    at async processFile (app/services/fileProcessor.ts:46:22)
    at async processFileInBackground (app/api/upload-smart/route.ts:104:4)
    at async processQueueSequentially (app/api/upload-smart/route.ts:133:8)
  540 |       await new Promise(resolve => setTimeout(resolve, 500));
  541 |       
> 542 |       const response = await openai.chat.completions.create({
      |                       ^
  543 |         model: 'gpt-4o', 
  544 |         messages: [{ role: 'user', content: prompt }],
  545 |         temperature: 0.1, {
  status: 429,
  headers: Headers {
    date: 'Sat, 07 Jun 2025 11:42:46 GMT',
    'content-type': 'application/json; charset=utf-8',
    'content-length': '337',
    connection: 'keep-alive',
    vary: 'Origin',
    'x-request-id': 'req_11039c09d92dac55e97bf8219aa57a5a',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'cf-cache-status': 'DYNAMIC',
    'set-cookie': '__cf_bm=xGaXfd.W.pDDIz.iSIrDKLbMI16aXt33V55ItDS8_jk-1749296566-1.0.1.1-1PtYSWZeV6xQuIZFfOy2sLpwjRN6sjLckqzHO_gTYkoaZYKr8ex_Btze_UmhqylmSJUTTX4IOYbEZ_py6qGr4C9RDmwFJks35Xxd7W9bFj0; path=/; expires=Sat, 07-Jun-25 12:12:46 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None, _cfuvid=C7o6JX0P2ARUxxTqbR4N0OwiMW7DNqKOSoUPoWHJZPw-1749296566030-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None',
    'x-content-type-options': 'nosniff',
    server: 'cloudflare',
    'cf-ray': '94bfe3501cf32dee-DPS',
    'alt-svc': 'h3=":443"; ma=86400'
  },
  requestID: 'req_11039c09d92dac55e97bf8219aa57a5a',
  error: [Object],
  code: 'insufficient_quota',
  param: null,
  type: 'insufficient_quota'
}
Max retries reached in extractWithAI, returning empty result
Processing chunk 3 with 30 rows...
Rate limit hit in extractWithAI, retrying in 4000ms (attempt 1/3)
Rate limit hit in extractWithAI, retrying in 8000ms (attempt 2/3)
Rate limit hit in extractWithAI, retrying in 16000ms (attempt 3/3)
Error with AI extraction (attempt 3): Error: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, read the docs: https://platform.openai.com/docs/guides/error-codes/api-errors.
    at async extractWithAI (app/services/fileProcessor.ts:542:23)
    at async processSheetData (app/services/fileProcessor.ts:228:28)
    at async processExcel (app/services/fileProcessor.ts:331:26)
    at async processFile (app/services/fileProcessor.ts:46:22)
    at async processFileInBackground (app/api/upload-smart/route.ts:104:4)
    at async processQueueSequentially (app/api/upload-smart/route.ts:133:8)
  540 |       await new Promise(resolve => setTimeout(resolve, 500));
  541 |       
> 542 |       const response = await openai.chat.completions.create({
      |                       ^
  543 |         model: 'gpt-4o', 
  544 |         messages: [{ role: 'user', content: prompt }],
  545 |         temperature: 0.1, {
  status: 429,
  headers: Headers {
    date: 'Sat, 07 Jun 2025 11:43:07 GMT',
    'content-type': 'application/json; charset=utf-8',
    'content-length': '337',
    connection: 'keep-alive',
    vary: 'Origin',
    'x-request-id': 'req_159715e42c45af4fd216201e7a54b81d',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'cf-cache-status': 'DYNAMIC',
    'set-cookie': '__cf_bm=GWrA.CtDD9atvKf8gvgs0Vwd_5fd6x4yJBWnDt4HjS4-1749296587-1.0.1.1-NClVaRem4HwoipWTPCn4610epsL1RS5o4ZawCh4AJjbD7HK6a8zPktQ6UAjbfli_apYKyq9RZ9ucynANWjRF25VHQPAA8SMeQnIa0MISQHc; path=/; expires=Sat, 07-Jun-25 12:13:07 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None, _cfuvid=TF74Iz6aqnmIE3sITvzbvy7cR9sCgmZ1GBDZNiK6o7I-1749296587879-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None',
    'x-content-type-options': 'nosniff',
    server: 'cloudflare',
    'cf-ray': '94bfe3d5a8c12dee-DPS',
    'alt-svc': 'h3=":443"; ma=86400'
  },
  requestID: 'req_159715e42c45af4fd216201e7a54b81d',
  error: [Object],
  code: 'insufficient_quota',
  param: null,
  type: 'insufficient_quota'
}
Max retries reached in extractWithAI, returning empty result
Processing chunk 4 with 30 rows...
Rate limit hit in extractWithAI, retrying in 4000ms (attempt 1/3)
Rate limit hit in extractWithAI, retrying in 8000ms (attempt 2/3)
Rate limit hit in extractWithAI, retrying in 16000ms (attempt 3/3)
Error with AI extraction (attempt 3): Error: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, read the docs: https://platform.openai.com/docs/guides/error-codes/api-errors.
    at async extractWithAI (app/services/fileProcessor.ts:542:23)
    at async processSheetData (app/services/fileProcessor.ts:228:28)
    at async processExcel (app/services/fileProcessor.ts:331:26)
    at async processFile (app/services/fileProcessor.ts:46:22)
    at async processFileInBackground (app/api/upload-smart/route.ts:104:4)
    at async processQueueSequentially (app/api/upload-smart/route.ts:133:8)
  540 |       await new Promise(resolve => setTimeout(resolve, 500));
  541 |       
> 542 |       const response = await openai.chat.completions.create({
      |                       ^
  543 |         model: 'gpt-4o', 
  544 |         messages: [{ role: 'user', content: prompt }],
  545 |         temperature: 0.1, {
  status: 429,
  headers: Headers {
    date: 'Sat, 07 Jun 2025 11:43:29 GMT',
    'content-type': 'application/json; charset=utf-8',
    'content-length': '337',
    connection: 'keep-alive',
    vary: 'Origin',
    'x-request-id': 'req_771e42d664f824b77723ba3ac2254ba2',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'cf-cache-status': 'DYNAMIC',
    'set-cookie': '__cf_bm=.lWTIeJbLJHqqkg_Sj8x8072mqbU6CgZC7rTI4Lrxks-1749296609-1.0.1.1-SG00b.UYz1A_504JnopAKatiRDI4Oqkd4qwgHTvC6ia7YcWO6kxbud6Hk7XEd4Cdo73pKN9O5OeGW.p1GvBe6OvIoJyk6g.U.tKawmzqYUU; path=/; expires=Sat, 07-Jun-25 12:13:29 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None, _cfuvid=dguuZ6izTmm8JTT1mvLCeplkSP.ZBCYe4scbx_2EoWE-1749296609056-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None',
    'x-content-type-options': 'nosniff',
    server: 'cloudflare',
    'cf-ray': '94bfe45cfbe12df8-DPS',
    'alt-svc': 'h3=":443"; ma=86400'
  },
  requestID: 'req_771e42d664f824b77723ba3ac2254ba2',
  error: [Object],
  code: 'insufficient_quota',
  param: null,
  type: 'insufficient_quota'
}
Max retries reached in extractWithAI, returning empty result
Processing chunk 5 with 14 rows...
Rate limit hit in extractWithAI, retrying in 4000ms (attempt 1/3)
 ✓ Compiled / in 5ms
 GET / 200 in 14ms
Rate limit hit in extractWithAI, retrying in 8000ms (attempt 2/3)
 ✓ Compiled / in 5ms
 GET / 200 in 12ms
Rate limit hit in extractWithAI, retrying in 16000ms (attempt 3/3)
Error with AI extraction (attempt 3): Error: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, read the docs: https://platform.openai.com/docs/guides/error-codes/api-errors.
    at async extractWithAI (app/services/fileProcessor.ts:542:23)
    at async processSheetData (app/services/fileProcessor.ts:228:28)
    at async processExcel (app/services/fileProcessor.ts:331:26)
    at async processFile (app/services/fileProcessor.ts:46:22)
    at async processFileInBackground (app/api/upload-smart/route.ts:104:4)
    at async processQueueSequentially (app/api/upload-smart/route.ts:133:8)
  540 |       await new Promise(resolve => setTimeout(resolve, 500));
  541 |       
> 542 |       const response = await openai.chat.completions.create({
      |                       ^
  543 |         model: 'gpt-4o', 
  544 |         messages: [{ role: 'user', content: prompt }],
  545 |         temperature: 0.1, {
  status: 429,
  headers: Headers {
    date: 'Sat, 07 Jun 2025 11:43:51 GMT',
    'content-type': 'application/json; charset=utf-8',
    'content-length': '337',
    connection: 'keep-alive',
    vary: 'Origin',
    'x-request-id': 'req_335b39657eb05799b0720f93f79322a5',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'cf-cache-status': 'DYNAMIC',
    'set-cookie': '__cf_bm=3hU6gdBkgR.ku46Du5rblOdUSWlZbRMopehuJaXm1iU-1749296631-1.0.1.1-1oM0lD5xEYqgF3Fv5rFuEnWKkVSOWLrANcPztxhCqSU9o3PtOllngdkonSP0bVMR4jNvdiOKzhmyb0GDdynJVBCLmMIdWX6XfPyWqXc33rA; path=/; expires=Sat, 07-Jun-25 12:13:51 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None, _cfuvid=nisXkfF8ITmKndgNEaeDU0xiD97RcHhzBFTxLoMxRNk-1749296631423-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None',
    'x-content-type-options': 'nosniff',
    server: 'cloudflare',
    'cf-ray': '94bfe4e8bb6fc02e-DPS',
    'alt-svc': 'h3=":443"; ma=86400'
  },
  requestID: 'req_335b39657eb05799b0720f93f79322a5',
  error: [Object],
  code: 'insufficient_quota',
  param: null,
  type: 'insufficient_quota'
}
Max retries reached in extractWithAI, returning empty result
Sheet "Sheet1": Merged 5 chunks into 0 products
Processed 1 sheets, extracted 0 total products
Successfully processed 0 products from Oka veg supplier.xlsx
Processing file cmbm5srr8000houstdet9l88l (2 remaining in queue)
Processing file: sai fresh.xlsx
Processing Excel: https://cdc1w79ssc4kg6xh.public.blob.vercel-storage.com/sai%20fresh-0iM0SrjS1CYdk8Wo0gdOiQP2DCmfsK.xlsx
Excel file has 4 sheets: Sheet1, Lembar1, Sheet2, Sheet3
Sheet "Sheet1": 154 rows with data
Sheet "Lembar1": 0 rows with data
Sheet "Sheet2": 0 rows with data
Sheet "Sheet3": 0 rows with data
Found 1 sheets with data: Sheet1(154)
Processing sheet "Sheet1" with 154 rows...
Sheet "Sheet1": Processing 154 rows with data
Large sheet detected (154 rows), processing in chunks...
Processing chunk 1 with 30 rows...
 ✓ Compiled / in 15ms
 GET / 200 in 24ms
 GET / 200 in 11ms
Rate limit hit in extractWithAI, retrying in 4000ms (attempt 1/3)
Rate limit hit in extractWithAI, retrying in 8000ms (attempt 2/3)
Rate limit hit in extractWithAI, retrying in 16000ms (attempt 3/3)
Error with AI extraction (attempt 3): Error: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, read the docs: https://platform.openai.com/docs/guides/error-codes/api-errors.
    at async extractWithAI (app/services/fileProcessor.ts:542:23)
    at async processSheetData (app/services/fileProcessor.ts:228:28)
    at async processExcel (app/services/fileProcessor.ts:331:26)
    at async processFile (app/services/fileProcessor.ts:46:22)
    at async processFileInBackground (app/api/upload-smart/route.ts:104:4)
    at async processQueueSequentially (app/api/upload-smart/route.ts:133:8)
  540 |       await new Promise(resolve => setTimeout(resolve, 500));
  541 |       
> 542 |       const response = await openai.chat.completions.create({
      |                       ^
  543 |         model: 'gpt-4o', 
  544 |         messages: [{ role: 'user', content: prompt }],
  545 |         temperature: 0.1, {
  status: 429,
  headers: Headers {
    date: 'Sat, 07 Jun 2025 11:44:16 GMT',
    'content-type': 'application/json; charset=utf-8',
    'content-length': '337',
    connection: 'keep-alive',
    vary: 'Origin',
    'x-request-id': 'req_b8c927dd26bd863c13ba627d9bfc858f',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'cf-cache-status': 'DYNAMIC',
    'set-cookie': '__cf_bm=Lu7JbNhuRovUj.VKYTbwdyTtz5ml3OAx4Kp8zuE9qtU-1749296656-1.0.1.1-DXfOmp6z9g469C_I3HOV_GUJ3xLnHgqwRAOEHMrpykviB1UHrARsp2tK9vL_vIDm.kQwq4AL8LHkh2v74b2T0KCzXGeW.kO2OgXnBqlMcEI; path=/; expires=Sat, 07-Jun-25 12:14:16 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None, _cfuvid=N9Px7fCYwK33BDx3JrgnCldQejm1KGBpQVEAqQIfcJk-1749296656835-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None',
    'x-content-type-options': 'nosniff',
    server: 'cloudflare',
    'cf-ray': '94bfe5849cd99185-DPS',
    'alt-svc': 'h3=":443"; ma=86400'
  },
  requestID: 'req_b8c927dd26bd863c13ba627d9bfc858f',
  error: [Object],
  code: 'insufficient_quota',
  param: null,
  type: 'insufficient_quota'
}
Max retries reached in extractWithAI, returning empty result
Processing chunk 2 with 30 rows...
Rate limit hit in extractWithAI, retrying in 4000ms (attempt 1/3)
Rate limit hit in extractWithAI, retrying in 8000ms (attempt 2/3)
Rate limit hit in extractWithAI, retrying in 16000ms (attempt 3/3)
Error with AI extraction (attempt 3): Error: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, read the docs: https://platform.openai.com/docs/guides/error-codes/api-errors.
    at async extractWithAI (app/services/fileProcessor.ts:542:23)
    at async processSheetData (app/services/fileProcessor.ts:228:28)
    at async processExcel (app/services/fileProcessor.ts:331:26)
    at async processFile (app/services/fileProcessor.ts:46:22)
    at async processFileInBackground (app/api/upload-smart/route.ts:104:4)
    at async processQueueSequentially (app/api/upload-smart/route.ts:133:8)
  540 |       await new Promise(resolve => setTimeout(resolve, 500));
  541 |       
> 542 |       const response = await openai.chat.completions.create({
      |                       ^
  543 |         model: 'gpt-4o', 
  544 |         messages: [{ role: 'user', content: prompt }],
  545 |         temperature: 0.1, {
  status: 429,
  headers: Headers {
    date: 'Sat, 07 Jun 2025 11:44:38 GMT',
    'content-type': 'application/json; charset=utf-8',
    'content-length': '337',
    connection: 'keep-alive',
    vary: 'Origin',
    'x-request-id': 'req_3f2c41a3a0b1099f741b99f3c01e9d59',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'cf-cache-status': 'DYNAMIC',
    'set-cookie': '__cf_bm=2kPXH8.ANbk7UUJ1NHl6zUfeO9a0ERqnujYRrAQOPvg-1749296678-1.0.1.1-4iPQIERtaEgB.vmUBNzuHg.ZNItA3C4uYAIfG3p8iy.30kHiqJe4sAus4d_S.KLqHzWoxA9zDSVXNARi3zC4DcVo_SMFGcKnNXSfBH7Tz9Y; path=/; expires=Sat, 07-Jun-25 12:14:38 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None, _cfuvid=9ODwWL6gSQPSeej6P3HVeWziJkwtt_tf_MSAI1x3xLk-1749296678720-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None',
    'x-content-type-options': 'nosniff',
    server: 'cloudflare',
    'cf-ray': '94bfe6105e73c02e-DPS',
    'alt-svc': 'h3=":443"; ma=86400'
  },
  requestID: 'req_3f2c41a3a0b1099f741b99f3c01e9d59',
  error: [Object],
  code: 'insufficient_quota',
  param: null,
  type: 'insufficient_quota'
}
Max retries reached in extractWithAI, returning empty result
Processing chunk 3 with 30 rows...
Rate limit hit in extractWithAI, retrying in 4000ms (attempt 1/3)
Rate limit hit in extractWithAI, retrying in 8000ms (attempt 2/3)
Rate limit hit in extractWithAI, retrying in 16000ms (attempt 3/3)
Error with AI extraction (attempt 3): Error: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, read the docs: https://platform.openai.com/docs/guides/error-codes/api-errors.
    at async extractWithAI (app/services/fileProcessor.ts:542:23)
    at async processSheetData (app/services/fileProcessor.ts:228:28)
    at async processExcel (app/services/fileProcessor.ts:331:26)
    at async processFile (app/services/fileProcessor.ts:46:22)
    at async processFileInBackground (app/api/upload-smart/route.ts:104:4)
    at async processQueueSequentially (app/api/upload-smart/route.ts:133:8)
  540 |       await new Promise(resolve => setTimeout(resolve, 500));
  541 |       
> 542 |       const response = await openai.chat.completions.create({
      |                       ^
  543 |         model: 'gpt-4o', 
  544 |         messages: [{ role: 'user', content: prompt }],
  545 |         temperature: 0.1, {
  status: 429,
  headers: Headers {
    date: 'Sat, 07 Jun 2025 11:45:03 GMT',
    'content-type': 'application/json; charset=utf-8',
    'content-length': '337',
    connection: 'keep-alive',
    vary: 'Origin',
    'x-request-id': 'req_11d65ea95e71ad69257c1ee4f634dbc3',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'cf-cache-status': 'DYNAMIC',
    'set-cookie': '__cf_bm=0xWX6WCPVG2Z_Z6vFSyj3HISAGVVZK.l36CELX8P.I8-1749296703-1.0.1.1-BwgN12X.D_nfDdaVWdw63I3aHDZ9rmhH2QmvUTDEz_nluKiPo1ZV2P.whsqPUhdVUzSVNFpNB_Gn5Jzu7XWZJ7RMhl_Q2aICIzN0H3MPUjA; path=/; expires=Sat, 07-Jun-25 12:15:03 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None, _cfuvid=Hr6VvaYwIkqs__vJuPsSQkixCES0yBIcRE1Fy_OlZAY-1749296703254-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None',
    'x-content-type-options': 'nosniff',
    server: 'cloudflare',
    'cf-ray': '94bfe6a6cfc62df9-DPS',
    'alt-svc': 'h3=":443"; ma=86400'
  },
  requestID: 'req_11d65ea95e71ad69257c1ee4f634dbc3',
  error: [Object],
  code: 'insufficient_quota',
  param: null,
  type: 'insufficient_quota'
}
Max retries reached in extractWithAI, returning empty result
Processing chunk 4 with 30 rows...
Rate limit hit in extractWithAI, retrying in 4000ms (attempt 1/3)
Rate limit hit in extractWithAI, retrying in 8000ms (attempt 2/3)
Rate limit hit in extractWithAI, retrying in 16000ms (attempt 3/3)
Error with AI extraction (attempt 3): Error: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, read the docs: https://platform.openai.com/docs/guides/error-codes/api-errors.
    at async extractWithAI (app/services/fileProcessor.ts:542:23)
    at async processSheetData (app/services/fileProcessor.ts:228:28)
    at async processExcel (app/services/fileProcessor.ts:331:26)
    at async processFile (app/services/fileProcessor.ts:46:22)
    at async processFileInBackground (app/api/upload-smart/route.ts:104:4)
    at async processQueueSequentially (app/api/upload-smart/route.ts:133:8)
  540 |       await new Promise(resolve => setTimeout(resolve, 500));
  541 |       
> 542 |       const response = await openai.chat.completions.create({
      |                       ^
  543 |         model: 'gpt-4o', 
  544 |         messages: [{ role: 'user', content: prompt }],
  545 |         temperature: 0.1, {
  status: 429,
  headers: Headers {
    date: 'Sat, 07 Jun 2025 11:45:24 GMT',
    'content-type': 'application/json; charset=utf-8',
    'content-length': '337',
    connection: 'keep-alive',
    vary: 'Origin',
    'x-request-id': 'req_215e8eea3f7a641d3444c11b54b34f82',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'cf-cache-status': 'DYNAMIC',
    'set-cookie': '__cf_bm=Kgnx8VfIQ2DhmvN_k_MHwOPWypVlpaym9N75yzPmYs4-1749296724-1.0.1.1-3We4PkWbSfQMoa8J.y.rhWKNGJyBzUvADP7uNLkzkfGJXYds6JSrStlpcfzYgzhXn3eIXPalr7itLJmP_U82f3Z5pP4yDRkupZ_RjP2kdB4; path=/; expires=Sat, 07-Jun-25 12:15:24 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None, _cfuvid=ZdjvDUgXAVqSXxApgE6pgm_mtXe68Ouvh5FILZWZYcw-1749296724560-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None',
    'x-content-type-options': 'nosniff',
    server: 'cloudflare',
    'cf-ray': '94bfe72eefb12df8-DPS',
    'alt-svc': 'h3=":443"; ma=86400'
  },
  requestID: 'req_215e8eea3f7a641d3444c11b54b34f82',
  error: [Object],
  code: 'insufficient_quota',
  param: null,
  type: 'insufficient_quota'
}
Max retries reached in extractWithAI, returning empty result
Processing chunk 5 with 30 rows...
Rate limit hit in extractWithAI, retrying in 4000ms (attempt 1/3)
Rate limit hit in extractWithAI, retrying in 8000ms (attempt 2/3)
Rate limit hit in extractWithAI, retrying in 16000ms (attempt 3/3)
Error with AI extraction (attempt 3): Error: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, read the docs: https://platform.openai.com/docs/guides/error-codes/api-errors.
    at async extractWithAI (app/services/fileProcessor.ts:542:23)
    at async processSheetData (app/services/fileProcessor.ts:228:28)
    at async processExcel (app/services/fileProcessor.ts:331:26)
    at async processFile (app/services/fileProcessor.ts:46:22)
    at async processFileInBackground (app/api/upload-smart/route.ts:104:4)
    at async processQueueSequentially (app/api/upload-smart/route.ts:133:8)
  540 |       await new Promise(resolve => setTimeout(resolve, 500));
  541 |       
> 542 |       const response = await openai.chat.completions.create({
      |                       ^
  543 |         model: 'gpt-4o', 
  544 |         messages: [{ role: 'user', content: prompt }],
  545 |         temperature: 0.1, {
  status: 429,
  headers: Headers {
    date: 'Sat, 07 Jun 2025 11:45:46 GMT',
    'content-type': 'application/json; charset=utf-8',
    'content-length': '337',
    connection: 'keep-alive',
    vary: 'Origin',
    'x-request-id': 'req_3324378f1d2323a2afb6c5c79ffa0b5f',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'cf-cache-status': 'DYNAMIC',
    'set-cookie': '__cf_bm=zfYB9OCBrQ1fcRLOrPdI4.Ofglh20p8Y.W_VB5fDAX0-1749296746-1.0.1.1-stAHwQn9Cmm8qKC8vXcGq2yEiLA5Uyf97QGsyy4LXWLqoHFNbuSoxzTtRW9annm6eLPtBU4yVukXSxuGKZ555JO73kb5USpdQ9grbKZTOmI; path=/; expires=Sat, 07-Jun-25 12:15:46 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None, _cfuvid=gOwkhk9E3aszspeN.J6s2RpK1nj1TaMswOBGyXHtot8-1749296746541-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None',
    'x-content-type-options': 'nosniff',
    server: 'cloudflare',
    'cf-ray': '94bfe7b84af1c02e-DPS',
    'alt-svc': 'h3=":443"; ma=86400'
  },
  requestID: 'req_3324378f1d2323a2afb6c5c79ffa0b5f',
  error: [Object],
  code: 'insufficient_quota',
  param: null,
  type: 'insufficient_quota'
}
Max retries reached in extractWithAI, returning empty result
Processing chunk 6 with 4 rows...
Rate limit hit in extractWithAI, retrying in 4000ms (attempt 1/3)
Rate limit hit in extractWithAI, retrying in 8000ms (attempt 2/3)
 ✓ Compiled / in 5ms
 GET / 200 in 13ms
 ✓ Compiled / in 5ms
 GET / 200 in 12ms
 ✓ Compiled / in 19ms
 GET / 200 in 27ms
 GET / 200 in 12ms
Rate limit hit in extractWithAI, retrying in 16000ms (attempt 3/3)
Error with AI extraction (attempt 3): Error: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, read the docs: https://platform.openai.com/docs/guides/error-codes/api-errors.
    at async extractWithAI (app/services/fileProcessor.ts:542:23)
    at async processSheetData (app/services/fileProcessor.ts:228:28)
    at async processExcel (app/services/fileProcessor.ts:331:26)
    at async processFile (app/services/fileProcessor.ts:46:22)
    at async processFileInBackground (app/api/upload-smart/route.ts:104:4)
    at async processQueueSequentially (app/api/upload-smart/route.ts:133:8)
  540 |       await new Promise(resolve => setTimeout(resolve, 500));
  541 |       
> 542 |       const response = await openai.chat.completions.create({
      |                       ^
  543 |         model: 'gpt-4o', 
  544 |         messages: [{ role: 'user', content: prompt }],
  545 |         temperature: 0.1, {
  status: 429,
  headers: Headers {
    date: 'Sat, 07 Jun 2025 11:46:09 GMT',
    'content-type': 'application/json; charset=utf-8',
    'content-length': '337',
    connection: 'keep-alive',
    vary: 'Origin',
    'x-request-id': 'req_da08d0e4d3697fe8f1a498fe7be328fa',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'cf-cache-status': 'DYNAMIC',
    'set-cookie': '__cf_bm=jthEaLmfCfM7Aw9OFJ8ydqbXZ7TFmEhgzcWM2nHtiZo-1749296769-1.0.1.1-IHXlhKOjZIn2irNhqaf4SZuE6cD1oCbcDTrKOPq0j0OY7HJ1_wdccGS4YIxLsO7MvVcP7upxNFI9jhlqHMbP0BAlxtykDemL3okPyooaQ.M; path=/; expires=Sat, 07-Jun-25 12:16:09 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None, _cfuvid=W3ZaZm4vPVZzyS4kust9a80KzLuPI1r.NK7bDclOguU-1749296769467-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None',
    'x-content-type-options': 'nosniff',
    server: 'cloudflare',
    'cf-ray': '94bfe8445ce02dee-DPS',
    'alt-svc': 'h3=":443"; ma=86400'
  },
  requestID: 'req_da08d0e4d3697fe8f1a498fe7be328fa',
  error: [Object],
  code: 'insufficient_quota',
  param: null,
  type: 'insufficient_quota'
}
Max retries reached in extractWithAI, returning empty result
Sheet "Sheet1": Merged 6 chunks into 0 products
Processed 1 sheets, extracted 0 total products
Successfully processed 0 products from sai fresh.xlsx
Processing file cmbm5ssa8000koustccgjelmo (1 remaining in queue)
Processing file: sri 2 vegetables supplier.xlsx
Processing Excel: https://cdc1w79ssc4kg6xh.public.blob.vercel-storage.com/sri%202%20vegetables%20supplier-1Estz344qf2Ttht7FSIVQd32g76S06.xlsx
Excel file has 1 sheets: Sheet1
Sheet "Sheet1": 247 rows with data
Found 1 sheets with data: Sheet1(247)
Processing sheet "Sheet1" with 247 rows...
Sheet "Sheet1": Processing 247 rows with data
Large sheet detected (247 rows), processing in chunks...
Processing chunk 1 with 30 rows...
 ✓ Compiled / in 5ms
 GET / 200 in 11ms
Rate limit hit in extractWithAI, retrying in 4000ms (attempt 1/3)
 ✓ Compiled / in 4ms
 GET / 200 in 13ms
Rate limit hit in extractWithAI, retrying in 8000ms (attempt 2/3)
Rate limit hit in extractWithAI, retrying in 16000ms (attempt 3/3)
Error with AI extraction (attempt 3): Error: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, read the docs: https://platform.openai.com/docs/guides/error-codes/api-errors.
    at async extractWithAI (app/services/fileProcessor.ts:542:23)
    at async processSheetData (app/services/fileProcessor.ts:228:28)
    at async processExcel (app/services/fileProcessor.ts:331:26)
    at async processFile (app/services/fileProcessor.ts:46:22)
    at async processFileInBackground (app/api/upload-smart/route.ts:104:4)
    at async processQueueSequentially (app/api/upload-smart/route.ts:133:8)
  540 |       await new Promise(resolve => setTimeout(resolve, 500));
  541 |       
> 542 |       const response = await openai.chat.completions.create({
      |                       ^
  543 |         model: 'gpt-4o', 
  544 |         messages: [{ role: 'user', content: prompt }],
  545 |         temperature: 0.1, {
  status: 429,
  headers: Headers {
    date: 'Sat, 07 Jun 2025 11:46:34 GMT',
    'content-type': 'application/json; charset=utf-8',
    'content-length': '337',
    connection: 'keep-alive',
    vary: 'Origin',
    'x-request-id': 'req_d9d3309355beb3551d6dcae53cc9b9c9',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'cf-cache-status': 'DYNAMIC',
    'set-cookie': '__cf_bm=gTl7up0tLcn0XzKgOLbgjjnFSRT6gsgfV6Azj_FUqJY-1749296794-1.0.1.1-tcvuxmtXITkJ_tYvfGWCpByKYqyHmYr7xc9dD8h4hF3.qJrbW2mihH7guzadLmJWMx5I3zBnKoA1zbXrVb1Xf3.L3paPiBUOIIsCxnSyf3g; path=/; expires=Sat, 07-Jun-25 12:16:34 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None, _cfuvid=RFzOL3g2bL2bpR_3ks9YP1rmHC4.c6Ioa.j02QNo7w8-1749296794696-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None',
    'x-content-type-options': 'nosniff',
    server: 'cloudflare',
    'cf-ray': '94bfe8e53b55c02e-DPS',
    'alt-svc': 'h3=":443"; ma=86400'
  },
  requestID: 'req_d9d3309355beb3551d6dcae53cc9b9c9',
  error: [Object],
  code: 'insufficient_quota',
  param: null,
  type: 'insufficient_quota'
}
Max retries reached in extractWithAI, returning empty result
Processing chunk 2 with 30 rows...
Rate limit hit in extractWithAI, retrying in 4000ms (attempt 1/3)
Rate limit hit in extractWithAI, retrying in 8000ms (attempt 2/3)
Rate limit hit in extractWithAI, retrying in 16000ms (attempt 3/3)
Error with AI extraction (attempt 3): Error: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, read the docs: https://platform.openai.com/docs/guides/error-codes/api-errors.
    at async extractWithAI (app/services/fileProcessor.ts:542:23)
    at async processSheetData (app/services/fileProcessor.ts:228:28)
    at async processExcel (app/services/fileProcessor.ts:331:26)
    at async processFile (app/services/fileProcessor.ts:46:22)
    at async processFileInBackground (app/api/upload-smart/route.ts:104:4)
    at async processQueueSequentially (app/api/upload-smart/route.ts:133:8)
  540 |       await new Promise(resolve => setTimeout(resolve, 500));
  541 |       
> 542 |       const response = await openai.chat.completions.create({
      |                       ^
  543 |         model: 'gpt-4o', 
  544 |         messages: [{ role: 'user', content: prompt }],
  545 |         temperature: 0.1, {
  status: 429,
  headers: Headers {
    date: 'Sat, 07 Jun 2025 11:46:56 GMT',
    'content-type': 'application/json; charset=utf-8',
    'content-length': '337',
    connection: 'keep-alive',
    vary: 'Origin',
    'x-request-id': 'req_06552c1df5df019fc4246c3e41f9823e',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'cf-cache-status': 'DYNAMIC',
    'set-cookie': '__cf_bm=07y6dxA4yN_j58ilbsB6oent7zR7s7jMsQHCClkxAu0-1749296816-1.0.1.1-5Ncf3fgn.U6mQgLWpgpRcCTeYjlLxWOHUp_xmryY7HNQgnIxs1w8a54HSnW7MFtPCljXhpAHhp.tZhg_.hvD1SiGoX5v.O4jn2wpVRRuB0Y; path=/; expires=Sat, 07-Jun-25 12:16:56 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None, _cfuvid=I5h.FrgqKBEYmTqRvTopCHDIxIMd5NXQ761OKciPsNw-1749296816153-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None',
    'x-content-type-options': 'nosniff',
    server: 'cloudflare',
    'cf-ray': '94bfe96b4c83c02e-DPS',
    'alt-svc': 'h3=":443"; ma=86400'
  },
  requestID: 'req_06552c1df5df019fc4246c3e41f9823e',
  error: [Object],
  code: 'insufficient_quota',
  param: null,
  type: 'insufficient_quota'
}
Max retries reached in extractWithAI, returning empty result
Processing chunk 3 with 30 rows...
Rate limit hit in extractWithAI, retrying in 4000ms (attempt 1/3)
Rate limit hit in extractWithAI, retrying in 8000ms (attempt 2/3)
Rate limit hit in extractWithAI, retrying in 16000ms (attempt 3/3)
Error with AI extraction (attempt 3): Error: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, read the docs: https://platform.openai.com/docs/guides/error-codes/api-errors.
    at async extractWithAI (app/services/fileProcessor.ts:542:23)
    at async processSheetData (app/services/fileProcessor.ts:228:28)
    at async processExcel (app/services/fileProcessor.ts:331:26)
    at async processFile (app/services/fileProcessor.ts:46:22)
    at async processFileInBackground (app/api/upload-smart/route.ts:104:4)
    at async processQueueSequentially (app/api/upload-smart/route.ts:133:8)
  540 |       await new Promise(resolve => setTimeout(resolve, 500));
  541 |       
> 542 |       const response = await openai.chat.completions.create({
      |                       ^
  543 |         model: 'gpt-4o', 
  544 |         messages: [{ role: 'user', content: prompt }],
  545 |         temperature: 0.1, {
  status: 429,
  headers: Headers {
    date: 'Sat, 07 Jun 2025 11:47:18 GMT',
    'content-type': 'application/json; charset=utf-8',
    'content-length': '337',
    connection: 'keep-alive',
    vary: 'Origin',
    'x-request-id': 'req_569d228e5f5da280487d9023466772d6',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'cf-cache-status': 'DYNAMIC',
    'set-cookie': '__cf_bm=4OlQlT0AtmdNNSESg8FC4LVz.dD.JNIsxoQCpeXhQHw-1749296838-1.0.1.1-swLrBubTSIWxgZVDEnyPypdbKlaWHwcadcpeFZ.Rl1ms0Y.tj5h.xcXQgwbbwK1SGrp2F8vNBmTk3ScqoGIJYRer7YBTEtJlpCWSzHSnWSc; path=/; expires=Sat, 07-Jun-25 12:17:18 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None, _cfuvid=QeTd4xpDOlVsYrK.DKBhzZLDQK.OEPlG6_SFg99JuDQ-1749296838044-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None',
    'x-content-type-options': 'nosniff',
    server: 'cloudflare',
    'cf-ray': '94bfe9f42d172df8-DPS',
    'alt-svc': 'h3=":443"; ma=86400'
  },
  requestID: 'req_569d228e5f5da280487d9023466772d6',
  error: [Object],
  code: 'insufficient_quota',
  param: null,
  type: 'insufficient_quota'
}
Max retries reached in extractWithAI, returning empty result
Processing chunk 4 with 30 rows...
Rate limit hit in extractWithAI, retrying in 4000ms (attempt 1/3)
Rate limit hit in extractWithAI, retrying in 8000ms (attempt 2/3)
 ✓ Compiled / in 5ms
 GET / 200 in 12ms
Rate limit hit in extractWithAI, retrying in 16000ms (attempt 3/3)
Error with AI extraction (attempt 3): Error: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, read the docs: https://platform.openai.com/docs/guides/error-codes/api-errors.
    at async extractWithAI (app/services/fileProcessor.ts:542:23)
    at async processSheetData (app/services/fileProcessor.ts:228:28)
    at async processExcel (app/services/fileProcessor.ts:331:26)
    at async processFile (app/services/fileProcessor.ts:46:22)
    at async processFileInBackground (app/api/upload-smart/route.ts:104:4)
    at async processQueueSequentially (app/api/upload-smart/route.ts:133:8)
  540 |       await new Promise(resolve => setTimeout(resolve, 500));
  541 |       
> 542 |       const response = await openai.chat.completions.create({
      |                       ^
  543 |         model: 'gpt-4o', 
  544 |         messages: [{ role: 'user', content: prompt }],
  545 |         temperature: 0.1, {
  status: 429,
  headers: Headers {
    date: 'Sat, 07 Jun 2025 11:47:39 GMT',
    'content-type': 'application/json; charset=utf-8',
    'content-length': '337',
    connection: 'keep-alive',
    vary: 'Origin',
    'x-request-id': 'req_aaf33201dce725e9fa448d32eeb02273',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'cf-cache-status': 'DYNAMIC',
    'set-cookie': '__cf_bm=Orwdbp7Bh9Jak0DpSgaO27UhaZxTxvIQjUZHmMN1Pyg-1749296859-1.0.1.1-cAbGJmSplU.yrKeE9m6eUFn2C12iaHdHW459iDULCJnCCFNoohkKZgo_i4zVALBlJl.Et_97xAIhn5p.9wlVFRunodE_gpxixhCCdIIT7Mo; path=/; expires=Sat, 07-Jun-25 12:17:39 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None, _cfuvid=GitzGSydZbM1TwvMwL7rSWHf_4gzpULyg1O0IPhccTY-1749296859026-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None',
    'x-content-type-options': 'nosniff',
    server: 'cloudflare',
    'cf-ray': '94bfea7459fa9185-DPS',
    'alt-svc': 'h3=":443"; ma=86400'
  },
  requestID: 'req_aaf33201dce725e9fa448d32eeb02273',
  error: [Object],
  code: 'insufficient_quota',
  param: null,
  type: 'insufficient_quota'
}
Max retries reached in extractWithAI, returning empty result
Processing chunk 5 with 30 rows...
Rate limit hit in extractWithAI, retrying in 4000ms (attempt 1/3)
 ✓ Compiled / in 5ms
 GET / 200 in 13ms
 ✓ Compiled / in 5ms
 GET / 200 in 13ms
Rate limit hit in extractWithAI, retrying in 8000ms (attempt 2/3)
Rate limit hit in extractWithAI, retrying in 16000ms (attempt 3/3)
Error with AI extraction (attempt 3): Error: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, read the docs: https://platform.openai.com/docs/guides/error-codes/api-errors.
    at async extractWithAI (app/services/fileProcessor.ts:542:23)
    at async processSheetData (app/services/fileProcessor.ts:228:28)
    at async processExcel (app/services/fileProcessor.ts:331:26)
    at async processFile (app/services/fileProcessor.ts:46:22)
    at async processFileInBackground (app/api/upload-smart/route.ts:104:4)
    at async processQueueSequentially (app/api/upload-smart/route.ts:133:8)
  540 |       await new Promise(resolve => setTimeout(resolve, 500));
  541 |       
> 542 |       const response = await openai.chat.completions.create({
      |                       ^
  543 |         model: 'gpt-4o', 
  544 |         messages: [{ role: 'user', content: prompt }],
  545 |         temperature: 0.1, {
  status: 429,
  headers: Headers {
    date: 'Sat, 07 Jun 2025 11:48:00 GMT',
    'content-type': 'application/json; charset=utf-8',
    'content-length': '337',
    connection: 'keep-alive',
    vary: 'Origin',
    'x-request-id': 'req_8054ce39a12f28385de79144ce26493e',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'cf-cache-status': 'DYNAMIC',
    'set-cookie': '__cf_bm=Rrm1cxg_RK9rl8oX174sOljwg5zye20EJe19K4dCFTc-1749296880-1.0.1.1-gq_dIEaTj8vW7zpC5WL8CR065lkZpyb2lvDk3HQMgK2nGhnhJS6NyooP.VKhTqLVqvkC14Ef_goJD.zYRkcXaG5eX7j0pW9PX1l0UAQ5LTc; path=/; expires=Sat, 07-Jun-25 12:18:00 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None, _cfuvid=leXMjI5cBVZMRUZdGy4oQ43tj6Vy3xsfaZQUAlqaVY8-1749296880350-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None',
    'x-content-type-options': 'nosniff',
    server: 'cloudflare',
    'cf-ray': '94bfeafc88719185-DPS',
    'alt-svc': 'h3=":443"; ma=86400'
  },
  requestID: 'req_8054ce39a12f28385de79144ce26493e',
  error: [Object],
  code: 'insufficient_quota',
  param: null,
  type: 'insufficient_quota'
}
Max retries reached in extractWithAI, returning empty result
Processing chunk 6 with 30 rows...
Rate limit hit in extractWithAI, retrying in 4000ms (attempt 1/3)
 ✓ Compiled in 15ms
 ✓ Compiled in 18ms
Rate limit hit in extractWithAI, retrying in 8000ms (attempt 2/3)
 ✓ Compiled in 17ms
Rate limit hit in extractWithAI, retrying in 16000ms (attempt 3/3)
Error with AI extraction (attempt 3): Error: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, read the docs: https://platform.openai.com/docs/guides/error-codes/api-errors.
    at async extractWithAI (app/services/fileProcessor.ts:542:23)
    at async processSheetData (app/services/fileProcessor.ts:228:28)
    at async processExcel (app/services/fileProcessor.ts:331:26)
    at async processFile (app/services/fileProcessor.ts:46:22)
    at async processFileInBackground (app/api/upload-smart/route.ts:104:4)
    at async processQueueSequentially (app/api/upload-smart/route.ts:133:8)
  540 |       await new Promise(resolve => setTimeout(resolve, 500));
  541 |       
> 542 |       const response = await openai.chat.completions.create({
      |                       ^
  543 |         model: 'gpt-4o', 
  544 |         messages: [{ role: 'user', content: prompt }],
  545 |         temperature: 0.1, {
  status: 429,
  headers: Headers {
    date: 'Sat, 07 Jun 2025 11:48:21 GMT',
    'content-type': 'application/json; charset=utf-8',
    'content-length': '337',
    connection: 'keep-alive',
    vary: 'Origin',
    'x-request-id': 'req_f4036558579bd90021bcaa95012d623a',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'cf-cache-status': 'DYNAMIC',
    'set-cookie': '__cf_bm=gKzhCb5rV94WPk8P1IPOyFF.1wHOjWwkbrcaqb6BACU-1749296901-1.0.1.1-MsMbWcbccdsvFV6TFUCMcxFASNnJPIrMKT6YIz1xAoskIC2lHl_nJfqhRbTZr4yx.CKRC.OoYVDOBOQhBkQ9ainOUkAsJGxnF0ZgC21NKFA; path=/; expires=Sat, 07-Jun-25 12:18:21 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None, _cfuvid=gF3d_E5VSXPrOfhHAwC3CXW_FuID1Dy1NsWQ82DhxP4-1749296901776-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None',
    'x-content-type-options': 'nosniff',
    server: 'cloudflare',
    'cf-ray': '94bfeb827d762dee-DPS',
    'alt-svc': 'h3=":443"; ma=86400'
  },
  requestID: 'req_f4036558579bd90021bcaa95012d623a',
  error: [Object],
  code: 'insufficient_quota',
  param: null,
  type: 'insufficient_quota'
}
Max retries reached in extractWithAI, returning empty result
Processing chunk 7 with 30 rows...
Rate limit hit in extractWithAI, retrying in 4000ms (attempt 1/3)
Rate limit hit in extractWithAI, retrying in 8000ms (attempt 2/3)
Rate limit hit in extractWithAI, retrying in 16000ms (attempt 3/3)
Error with AI extraction (attempt 3): Error: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, read the docs: https://platform.openai.com/docs/guides/error-codes/api-errors.
    at async extractWithAI (app/services/fileProcessor.ts:542:23)
    at async processSheetData (app/services/fileProcessor.ts:228:28)
    at async processExcel (app/services/fileProcessor.ts:331:26)
    at async processFile (app/services/fileProcessor.ts:46:22)
    at async processFileInBackground (app/api/upload-smart/route.ts:104:4)
    at async processQueueSequentially (app/api/upload-smart/route.ts:133:8)
  540 |       await new Promise(resolve => setTimeout(resolve, 500));
  541 |       
> 542 |       const response = await openai.chat.completions.create({
      |                       ^
  543 |         model: 'gpt-4o', 
  544 |         messages: [{ role: 'user', content: prompt }],
  545 |         temperature: 0.1, {
  status: 429,
  headers: Headers {
    date: 'Sat, 07 Jun 2025 11:48:43 GMT',
    'content-type': 'application/json; charset=utf-8',
    'content-length': '337',
    connection: 'keep-alive',
    vary: 'Origin',
    'x-request-id': 'req_0b329b4d7a5012b402ba5b44621a46bc',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'cf-cache-status': 'DYNAMIC',
    'set-cookie': '__cf_bm=YDc1ZxXGsSKJpktuY1y.1TbcGn9iUFJQrLQLWaPSj9I-1749296923-1.0.1.1-_UyJCZq49jObrjH3l3loivtZfgCJgtexvaiuX977.TCBcdyalklAyQSV_VmbmlFaBUG1AtBM1tYTFZEQtckuPKEBteMFW.wS8txkmElCH24; path=/; expires=Sat, 07-Jun-25 12:18:43 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None, _cfuvid=79elIyJLvISz8f4F0qUR1D0q8xS5al7HgpTXIQv3NPk-1749296923931-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None',
    'x-content-type-options': 'nosniff',
    server: 'cloudflare',
    'cf-ray': '94bfec0cfda12dee-DPS',
    'alt-svc': 'h3=":443"; ma=86400'
  },
  requestID: 'req_0b329b4d7a5012b402ba5b44621a46bc',
  error: [Object],
  code: 'insufficient_quota',
  param: null,
  type: 'insufficient_quota'
}
Max retries reached in extractWithAI, returning empty result
Processing chunk 8 with 30 rows...
Rate limit hit in extractWithAI, retrying in 4000ms (attempt 1/3)
Rate limit hit in extractWithAI, retrying in 8000ms (attempt 2/3)
Rate limit hit in extractWithAI, retrying in 16000ms (attempt 3/3)
Error with AI extraction (attempt 3): Error: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, read the docs: https://platform.openai.com/docs/guides/error-codes/api-errors.
    at async extractWithAI (app/services/fileProcessor.ts:542:23)
    at async processSheetData (app/services/fileProcessor.ts:228:28)
    at async processExcel (app/services/fileProcessor.ts:331:26)
    at async processFile (app/services/fileProcessor.ts:46:22)
    at async processFileInBackground (app/api/upload-smart/route.ts:104:4)
    at async processQueueSequentially (app/api/upload-smart/route.ts:133:8)
  540 |       await new Promise(resolve => setTimeout(resolve, 500));
  541 |       
> 542 |       const response = await openai.chat.completions.create({
      |                       ^
  543 |         model: 'gpt-4o', 
  544 |         messages: [{ role: 'user', content: prompt }],
  545 |         temperature: 0.1, {
  status: 429,
  headers: Headers {
    date: 'Sat, 07 Jun 2025 11:49:07 GMT',
    'content-type': 'application/json; charset=utf-8',
    'content-length': '337',
    connection: 'keep-alive',
    vary: 'Origin',
    'x-request-id': 'req_d0b3bcc8c15f64b0aec7ca5c8f8ea64c',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'cf-cache-status': 'DYNAMIC',
    'set-cookie': '__cf_bm=EPaMY4uYW03q18h6ypqhi3a.yMA3smPdS4DzdYqG6_o-1749296947-1.0.1.1-CxF8_3.Lk8erNljMOXZvhWXQMQnRwpeXF4zb1_dXxIpAyp5cfcuWPU3JzOaGd3RooJ.LxAo3zQoL23kBM0tfZjnAopTjwn86t8UD7XU4HPQ; path=/; expires=Sat, 07-Jun-25 12:19:07 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None, _cfuvid=kHNqm7rmDk.5.7PU7xh5NcnH5fKhZXUn5nHMcnaGvSU-1749296947642-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None',
    'x-content-type-options': 'nosniff',
    server: 'cloudflare',
    'cf-ray': '94bfec9e1f292df8-DPS',
    'alt-svc': 'h3=":443"; ma=86400'
  },
  requestID: 'req_d0b3bcc8c15f64b0aec7ca5c8f8ea64c',
  error: [Object],
  code: 'insufficient_quota',
  param: null,
  type: 'insufficient_quota'
}
Max retries reached in extractWithAI, returning empty result
Processing chunk 9 with 7 rows...
Rate limit hit in extractWithAI, retrying in 4000ms (attempt 1/3)
Rate limit hit in extractWithAI, retrying in 8000ms (attempt 2/3)
 ✓ Compiled / in 12ms
 GET / 200 in 26ms
 GET / 200 in 15ms
 GET / 200 in 14ms
 GET / 200 in 55ms
 GET /api/suppliers 200 in 624ms
 GET /api/uploads/status?limit=5 200 in 709ms
 GET /api/stats 200 in 888ms
Rate limit hit in extractWithAI, retrying in 16000ms (attempt 3/3)
Error with AI extraction (attempt 3): Error: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, read the docs: https://platform.openai.com/docs/guides/error-codes/api-errors.
    at async extractWithAI (app/services/fileProcessor.ts:542:23)
    at async processSheetData (app/services/fileProcessor.ts:228:28)
    at async processExcel (app/services/fileProcessor.ts:331:26)
    at async processFile (app/services/fileProcessor.ts:46:22)
    at async processFileInBackground (app/api/upload-smart/route.ts:104:4)
    at async processQueueSequentially (app/api/upload-smart/route.ts:133:8)
  540 |       await new Promise(resolve => setTimeout(resolve, 500));
  541 |       
> 542 |       const response = await openai.chat.completions.create({
      |                       ^
  543 |         model: 'gpt-4o', 
  544 |         messages: [{ role: 'user', content: prompt }],
  545 |         temperature: 0.1, {
  status: 429,
  headers: Headers {
    date: 'Sat, 07 Jun 2025 11:49:30 GMT',
    'content-type': 'application/json; charset=utf-8',
    'content-length': '337',
    connection: 'keep-alive',
    vary: 'Origin',
    'x-request-id': 'req_06bf1538326fcd92e9bb879c4dc0a295',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'cf-cache-status': 'DYNAMIC',
    'set-cookie': '__cf_bm=9Nh_EPPHOOyhDfkJep4T9maP5SGVaN6zB4g6WHVINwQ-1749296970-1.0.1.1-2VPnrGGcFGK4TVRvtePLAYI9pAAVIIy.BLvS1yYYCSoUSnrdyjGFOYaG64BtpHbr4CwkskOMBrJRL9nN7gkxy7B0dwsAepIxTZUp_GLHUSM; path=/; expires=Sat, 07-Jun-25 12:19:30 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None, _cfuvid=WR2JMWkjAY7F.UXRp63ZTpHmFIqpV_nzb_yqET5rnZk-1749296970841-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None',
    'x-content-type-options': 'nosniff',
    server: 'cloudflare',
    'cf-ray': '94bfed322f94c02e-DPS',
    'alt-svc': 'h3=":443"; ma=86400'
  },
  requestID: 'req_06bf1538326fcd92e9bb879c4dc0a295',
  error: [Object],
  code: 'insufficient_quota',
  param: null,
  type: 'insufficient_quota'
}
Max retries reached in extractWithAI, returning empty result
Sheet "Sheet1": Merged 9 chunks into 0 products
Processed 1 sheets, extracted 0 total products
Successfully processed 0 products from sri 2 vegetables supplier.xlsx
 GET /api/products?category=All%20Categories&limit=50&page=1&sortBy=name&sortOrder=asc 200 in 1707ms
Processing file cmbm5stex000noustpo7t7bwp (0 remaining in queue)
Processing file: widi wiguna.xlsx
Processing Excel: https://cdc1w79ssc4kg6xh.public.blob.vercel-storage.com/widi%20wiguna-P1b8xNEMThnCgTOThqdsDx95mrmFfh.xlsx
Excel file has 3 sheets: Sheet1, Sheet2, Sheet3
Sheet "Sheet1": 242 rows with data
Sheet "Sheet2": 0 rows with data
Sheet "Sheet3": 0 rows with data
Found 1 sheets with data: Sheet1(242)
Processing sheet "Sheet1" with 242 rows...
Sheet "Sheet1": Processing 242 rows with data
Large sheet detected (242 rows), processing in chunks...
Processing chunk 1 with 30 rows...
Rate limit hit in extractWithAI, retrying in 4000ms (attempt 1/3)
Rate limit hit in extractWithAI, retrying in 8000ms (attempt 2/3)
Rate limit hit in extractWithAI, retrying in 16000ms (attempt 3/3)
Error with AI extraction (attempt 3): Error: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, read the docs: https://platform.openai.com/docs/guides/error-codes/api-errors.
    at async extractWithAI (app/services/fileProcessor.ts:542:23)
    at async processSheetData (app/services/fileProcessor.ts:228:28)
    at async processExcel (app/services/fileProcessor.ts:331:26)
    at async processFile (app/services/fileProcessor.ts:46:22)
    at async processFileInBackground (app/api/upload-smart/route.ts:104:4)
    at async processQueueSequentially (app/api/upload-smart/route.ts:133:8)
  540 |       await new Promise(resolve => setTimeout(resolve, 500));
  541 |       
> 542 |       const response = await openai.chat.completions.create({
      |                       ^
  543 |         model: 'gpt-4o', 
  544 |         messages: [{ role: 'user', content: prompt }],
  545 |         temperature: 0.1, {
  status: 429,
  headers: Headers {
    date: 'Sat, 07 Jun 2025 11:50:02 GMT',
    'content-type': 'application/json; charset=utf-8',
    'content-length': '337',
    connection: 'keep-alive',
    vary: 'Origin',
    'x-request-id': 'req_e66c4c1bbbd8f4832ffacdf7ee5485c3',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'cf-cache-status': 'DYNAMIC',
    'set-cookie': '__cf_bm=dguUxZblY6W_cJ7EwXeg5rPfhdiUewqxQHg46aLzPZw-1749297002-1.0.1.1-D3.hF9X9ffcTamELgqlqJo5A6ymoBDzFyjI3i665tAEYJm0ER7vRdWwPv8Z..UqKJCkaOYHrYKkc_AP5Y5kkW5Y4IAZvYXsh.74ZAgPmpjI; path=/; expires=Sat, 07-Jun-25 12:20:02 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None, _cfuvid=fy4CMrDeTURk2iksYmsI1r5JGBFSBOXwbviWvEKdb5E-1749297002151-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None',
    'x-content-type-options': 'nosniff',
    server: 'cloudflare',
    'cf-ray': '94bfedf2d9032df8-DPS',
    'alt-svc': 'h3=":443"; ma=86400'
  },
  requestID: 'req_e66c4c1bbbd8f4832ffacdf7ee5485c3',
  error: [Object],
  code: 'insufficient_quota',
  param: null,
  type: 'insufficient_quota'
}
Max retries reached in extractWithAI, returning empty result
Processing chunk 2 with 30 rows...
Rate limit hit in extractWithAI, retrying in 4000ms (attempt 1/3)
Rate limit hit in extractWithAI, retrying in 8000ms (attempt 2/3)
Rate limit hit in extractWithAI, retrying in 16000ms (attempt 3/3)
Error with AI extraction (attempt 3): Error: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, read the docs: https://platform.openai.com/docs/guides/error-codes/api-errors.
    at async extractWithAI (app/services/fileProcessor.ts:542:23)
    at async processSheetData (app/services/fileProcessor.ts:228:28)
    at async processExcel (app/services/fileProcessor.ts:331:26)
    at async processFile (app/services/fileProcessor.ts:46:22)
    at async processFileInBackground (app/api/upload-smart/route.ts:104:4)
    at async processQueueSequentially (app/api/upload-smart/route.ts:133:8)
  540 |       await new Promise(resolve => setTimeout(resolve, 500));
  541 |       
> 542 |       const response = await openai.chat.completions.create({
      |                       ^
  543 |         model: 'gpt-4o', 
  544 |         messages: [{ role: 'user', content: prompt }],
  545 |         temperature: 0.1, {
  status: 429,
  headers: Headers {
    date: 'Sat, 07 Jun 2025 11:50:24 GMT',
    'content-type': 'application/json; charset=utf-8',
    'content-length': '337',
    connection: 'keep-alive',
    vary: 'Origin',
    'x-request-id': 'req_691358041297a65cca20acfc0fdcfe8f',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'cf-cache-status': 'DYNAMIC',
    'set-cookie': '__cf_bm=2oXaxmg6_iVQFkv86Lf0cYeycVjgX_MWVNkAM2mLP.Y-1749297024-1.0.1.1-SxO6T6EsQTu17CbPhCsG4zDNsJniuOt8DtQK3QiYI4x3CKaJ_8hxEKDNLjgNQbjmXpCsayOcSA5TCmWttt8pQ4Vp9FWbtdxIw8OkJvorMt4; path=/; expires=Sat, 07-Jun-25 12:20:24 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None, _cfuvid=UEuq7pH9NgXxjhG3QN0AS0box4ng.t9yvpUF6FAkJm4-1749297024425-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None',
    'x-content-type-options': 'nosniff',
    server: 'cloudflare',
    'cf-ray': '94bfee810f0b9185-DPS',
    'alt-svc': 'h3=":443"; ma=86400'
  },
  requestID: 'req_691358041297a65cca20acfc0fdcfe8f',
  error: [Object],
  code: 'insufficient_quota',
  param: null,
  type: 'insufficient_quota'
}
Max retries reached in extractWithAI, returning empty result
Processing chunk 3 with 30 rows...
Rate limit hit in extractWithAI, retrying in 4000ms (attempt 1/3)
 GET / 200 in 47ms
 GET /api/suppliers 200 in 116ms
 GET /api/uploads/status?limit=5 200 in 157ms
 GET /api/stats 200 in 482ms
 GET /api/products?category=All%20Categories&limit=50&page=1&sortBy=name&sortOrder=asc 200 in 1042ms
Rate limit hit in extractWithAI, retrying in 8000ms (attempt 2/3)
Rate limit hit in extractWithAI, retrying in 16000ms (attempt 3/3)
Error with AI extraction (attempt 3): Error: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, read the docs: https://platform.openai.com/docs/guides/error-codes/api-errors.
    at async extractWithAI (app/services/fileProcessor.ts:542:23)
    at async processSheetData (app/services/fileProcessor.ts:228:28)
    at async processExcel (app/services/fileProcessor.ts:331:26)
    at async processFile (app/services/fileProcessor.ts:46:22)
    at async processFileInBackground (app/api/upload-smart/route.ts:104:4)
    at async processQueueSequentially (app/api/upload-smart/route.ts:133:8)
  540 |       await new Promise(resolve => setTimeout(resolve, 500));
  541 |       
> 542 |       const response = await openai.chat.completions.create({
      |                       ^
  543 |         model: 'gpt-4o', 
  544 |         messages: [{ role: 'user', content: prompt }],
  545 |         temperature: 0.1, {
  status: 429,
  headers: Headers {
    date: 'Sat, 07 Jun 2025 11:50:47 GMT',
    'content-type': 'application/json; charset=utf-8',
    'content-length': '337',
    connection: 'keep-alive',
    vary: 'Origin',
    'x-request-id': 'req_fabea9ace06d2eefc2b3591d266c6731',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'cf-cache-status': 'DYNAMIC',
    'set-cookie': '__cf_bm=XtMqLzScRU.JaF8m3z_iA9ix9lRdWMdi_k.F7VRUsYo-1749297047-1.0.1.1-E.HdowEFcgGoViPOREXHuJeks1WYji48jdSxBE2VbEooEp.UaAFeeCNqS1E3WEdHfRUKl3t4MvWphgkWhjTPUNukLayDpJjjC26GeJSjMdA; path=/; expires=Sat, 07-Jun-25 12:20:47 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None, _cfuvid=Sjzhbr.bUE2Y_cTd7JVnOE8NFg.caJazNFOB3piuHxE-1749297047648-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None',
    'x-content-type-options': 'nosniff',
    server: 'cloudflare',
    'cf-ray': '94bfef122d722df9-DPS',
    'alt-svc': 'h3=":443"; ma=86400'
  },
  requestID: 'req_fabea9ace06d2eefc2b3591d266c6731',
  error: [Object],
  code: 'insufficient_quota',
  param: null,
  type: 'insufficient_quota'
}
Max retries reached in extractWithAI, returning empty result
Processing chunk 4 with 30 rows...
Rate limit hit in extractWithAI, retrying in 4000ms (attempt 1/3)
Rate limit hit in extractWithAI, retrying in 8000ms (attempt 2/3)
Rate limit hit in extractWithAI, retrying in 16000ms (attempt 3/3)
Error with AI extraction (attempt 3): Error: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, read the docs: https://platform.openai.com/docs/guides/error-codes/api-errors.
    at async extractWithAI (app/services/fileProcessor.ts:542:23)
    at async processSheetData (app/services/fileProcessor.ts:228:28)
    at async processExcel (app/services/fileProcessor.ts:331:26)
    at async processFile (app/services/fileProcessor.ts:46:22)
    at async processFileInBackground (app/api/upload-smart/route.ts:104:4)
    at async processQueueSequentially (app/api/upload-smart/route.ts:133:8)
  540 |       await new Promise(resolve => setTimeout(resolve, 500));
  541 |       
> 542 |       const response = await openai.chat.completions.create({
      |                       ^
  543 |         model: 'gpt-4o', 
  544 |         messages: [{ role: 'user', content: prompt }],
  545 |         temperature: 0.1, {
  status: 429,
  headers: Headers {
    date: 'Sat, 07 Jun 2025 11:51:11 GMT',
    'content-type': 'application/json; charset=utf-8',
    'content-length': '337',
    connection: 'keep-alive',
    vary: 'Origin',
    'x-request-id': 'req_b70b805430d3e18874cac75869f12af8',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'cf-cache-status': 'DYNAMIC',
    'set-cookie': '__cf_bm=Yl0WZneIdOkK9Ua34K4GhazMVf48lpz37Rb8r3HnDVM-1749297071-1.0.1.1-vP8eE0U0B3c2Y1s.lftfuGzAjfAoxjwD1Rvbhb9PhyOENuR6SdiM_LYZiUjHBSqjKV75fJXr9dSiyEd_lHjIWZK2ugMAsTcuEXfVVrvv_1c; path=/; expires=Sat, 07-Jun-25 12:21:11 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None, _cfuvid=nXx9FtqDQDlhKL4QI_BNHuu3r_HWrzWI67x0bJMYI_M-1749297071350-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None',
    'x-content-type-options': 'nosniff',
    server: 'cloudflare',
    'cf-ray': '94bfefa35aab2df8-DPS',
    'alt-svc': 'h3=":443"; ma=86400'
  },
  requestID: 'req_b70b805430d3e18874cac75869f12af8',
  error: [Object],
  code: 'insufficient_quota',
  param: null,
  type: 'insufficient_quota'
}
Max retries reached in extractWithAI, returning empty result
Processing chunk 5 with 30 rows...
Rate limit hit in extractWithAI, retrying in 4000ms (attempt 1/3)
Rate limit hit in extractWithAI, retrying in 8000ms (attempt 2/3)
Rate limit hit in extractWithAI, retrying in 16000ms (attempt 3/3)
Error with AI extraction (attempt 3): Error: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, read the docs: https://platform.openai.com/docs/guides/error-codes/api-errors.
    at async extractWithAI (app/services/fileProcessor.ts:542:23)
    at async processSheetData (app/services/fileProcessor.ts:228:28)
    at async processExcel (app/services/fileProcessor.ts:331:26)
    at async processFile (app/services/fileProcessor.ts:46:22)
    at async processFileInBackground (app/api/upload-smart/route.ts:104:4)
    at async processQueueSequentially (app/api/upload-smart/route.ts:133:8)
  540 |       await new Promise(resolve => setTimeout(resolve, 500));
  541 |       
> 542 |       const response = await openai.chat.completions.create({
      |                       ^
  543 |         model: 'gpt-4o', 
  544 |         messages: [{ role: 'user', content: prompt }],
  545 |         temperature: 0.1, {
  status: 429,
  headers: Headers {
    date: 'Sat, 07 Jun 2025 11:51:34 GMT',
    'content-type': 'application/json; charset=utf-8',
    'content-length': '337',
    connection: 'keep-alive',
    vary: 'Origin',
    'x-request-id': 'req_b9b0481997afc8d3830a8528028b1e83',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'cf-cache-status': 'DYNAMIC',
    'set-cookie': '__cf_bm=onCzvLdblRonQGZg1ImGrhO_OYiWsNtM2_Ampmx7nBM-1749297094-1.0.1.1-Ox4VRBfMX412Htz34yi3likxU30R.yN9xSjNqYJRClRwzecOVWfg9P620pbhH96oU63dZ5R_X8gUcJdXS8kBVqq3v8qOH_o3TcyLjeKYork; path=/; expires=Sat, 07-Jun-25 12:21:34 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None, _cfuvid=5cj31v8S0Ss4Bu6DeNiw0sDx33fZqymhycjMB0ekgZc-1749297094431-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None',
    'x-content-type-options': 'nosniff',
    server: 'cloudflare',
    'cf-ray': '94bff033aab42df8-DPS',
    'alt-svc': 'h3=":443"; ma=86400'
  },
  requestID: 'req_b9b0481997afc8d3830a8528028b1e83',
  error: [Object],
  code: 'insufficient_quota',
  param: null,
  type: 'insufficient_quota'
}
Max retries reached in extractWithAI, returning empty result
Processing chunk 6 with 30 rows...
Rate limit hit in extractWithAI, retrying in 4000ms (attempt 1/3)
Rate limit hit in extractWithAI, retrying in 8000ms (attempt 2/3)
Rate limit hit in extractWithAI, retrying in 16000ms (attempt 3/3)
Error with AI extraction (attempt 3): Error: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, read the docs: https://platform.openai.com/docs/guides/error-codes/api-errors.
    at async extractWithAI (app/services/fileProcessor.ts:542:23)
    at async processSheetData (app/services/fileProcessor.ts:228:28)
    at async processExcel (app/services/fileProcessor.ts:331:26)
    at async processFile (app/services/fileProcessor.ts:46:22)
    at async processFileInBackground (app/api/upload-smart/route.ts:104:4)
    at async processQueueSequentially (app/api/upload-smart/route.ts:133:8)
  540 |       await new Promise(resolve => setTimeout(resolve, 500));
  541 |       
> 542 |       const response = await openai.chat.completions.create({
      |                       ^
  543 |         model: 'gpt-4o', 
  544 |         messages: [{ role: 'user', content: prompt }],
  545 |         temperature: 0.1, {
  status: 429,
  headers: Headers {
    date: 'Sat, 07 Jun 2025 11:51:55 GMT',
    'content-type': 'application/json; charset=utf-8',
    'content-length': '337',
    connection: 'keep-alive',
    vary: 'Origin',
    'x-request-id': 'req_f843f085237bbb2725c2be8ab0ad9f75',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'cf-cache-status': 'DYNAMIC',
    'set-cookie': '__cf_bm=zFp4oSTDZ3hANawtusIfBT1ydWrdW8P6V03ggamNm8g-1749297115-1.0.1.1-6BeksJlFDNFF9CxUCQ7OeeyOleYK7nMKoQdRMSMClqDwfCA9CDxrXhhSs8EQIsZfHo07wPchilR8pn6zg2kyVOBNrT36aWevfFr1uRkP5QE; path=/; expires=Sat, 07-Jun-25 12:21:55 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None, _cfuvid=cUV.KiTuMxWLpQpoKpflqLoG5K8Wa4COJvrtgSgshAc-1749297115628-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None',
    'x-content-type-options': 'nosniff',
    server: 'cloudflare',
    'cf-ray': '94bff0bb1a699185-DPS',
    'alt-svc': 'h3=":443"; ma=86400'
  },
  requestID: 'req_f843f085237bbb2725c2be8ab0ad9f75',
  error: [Object],
  code: 'insufficient_quota',
  param: null,
  type: 'insufficient_quota'
}
Max retries reached in extractWithAI, returning empty result
Processing chunk 7 with 30 rows...
Rate limit hit in extractWithAI, retrying in 4000ms (attempt 1/3)
Rate limit hit in extractWithAI, retrying in 8000ms (attempt 2/3)
Rate limit hit in extractWithAI, retrying in 16000ms (attempt 3/3)
Error with AI extraction (attempt 3): Error: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, read the docs: https://platform.openai.com/docs/guides/error-codes/api-errors.
    at async extractWithAI (app/services/fileProcessor.ts:542:23)
    at async processSheetData (app/services/fileProcessor.ts:228:28)
    at async processExcel (app/services/fileProcessor.ts:331:26)
    at async processFile (app/services/fileProcessor.ts:46:22)
    at async processFileInBackground (app/api/upload-smart/route.ts:104:4)
    at async processQueueSequentially (app/api/upload-smart/route.ts:133:8)
  540 |       await new Promise(resolve => setTimeout(resolve, 500));
  541 |       
> 542 |       const response = await openai.chat.completions.create({
      |                       ^
  543 |         model: 'gpt-4o', 
  544 |         messages: [{ role: 'user', content: prompt }],
  545 |         temperature: 0.1, {
  status: 429,
  headers: Headers {
    date: 'Sat, 07 Jun 2025 11:52:17 GMT',
    'content-type': 'application/json; charset=utf-8',
    'content-length': '337',
    connection: 'keep-alive',
    vary: 'Origin',
    'x-request-id': 'req_bcd2f8e9b47b9ffb6ee1667f6843ee33',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'cf-cache-status': 'DYNAMIC',
    'set-cookie': '__cf_bm=nOedNMNjfxAUoO_yMk7F1EOSaUEG.ely6kzxoQcS4d4-1749297137-1.0.1.1-hz1lD3gX7opK72AN7uxFm4VuZN0vwW0X15G9NStG1Amg4WmuktgP4Z_b7AV4ZAnN2kx7_Kbb9Nalyob4X3lsdjScL6TEc0z.1VHp0ZFCIG4; path=/; expires=Sat, 07-Jun-25 12:22:17 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None, _cfuvid=bbKmDGslBpqAvg6BHQS5wyjgncLoqfl9OsoxUxMSwRU-1749297137460-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None',
    'x-content-type-options': 'nosniff',
    server: 'cloudflare',
    'cf-ray': '94bff1438daa9185-DPS',
    'alt-svc': 'h3=":443"; ma=86400'
  },
  requestID: 'req_bcd2f8e9b47b9ffb6ee1667f6843ee33',
  error: [Object],
  code: 'insufficient_quota',
  param: null,
  type: 'insufficient_quota'
}
Max retries reached in extractWithAI, returning empty result
Processing chunk 8 with 30 rows...
Rate limit hit in extractWithAI, retrying in 4000ms (attempt 1/3)
Rate limit hit in extractWithAI, retrying in 8000ms (attempt 2/3)
Rate limit hit in extractWithAI, retrying in 16000ms (attempt 3/3)
Error with AI extraction (attempt 3): Error: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, read the docs: https://platform.openai.com/docs/guides/error-codes/api-errors.
    at async extractWithAI (app/services/fileProcessor.ts:542:23)
    at async processSheetData (app/services/fileProcessor.ts:228:28)
    at async processExcel (app/services/fileProcessor.ts:331:26)
    at async processFile (app/services/fileProcessor.ts:46:22)
    at async processFileInBackground (app/api/upload-smart/route.ts:104:4)
    at async processQueueSequentially (app/api/upload-smart/route.ts:133:8)
  540 |       await new Promise(resolve => setTimeout(resolve, 500));
  541 |       
> 542 |       const response = await openai.chat.completions.create({
      |                       ^
  543 |         model: 'gpt-4o', 
  544 |         messages: [{ role: 'user', content: prompt }],
  545 |         temperature: 0.1, {
  status: 429,
  headers: Headers {
    date: 'Sat, 07 Jun 2025 11:52:39 GMT',
    'content-type': 'application/json; charset=utf-8',
    'content-length': '337',
    connection: 'keep-alive',
    vary: 'Origin',
    'x-request-id': 'req_292326a3b11256992add008ee491cb09',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'cf-cache-status': 'DYNAMIC',
    'set-cookie': '__cf_bm=xSGoUPybc_OqBKBF2Aop9IqXqla4QdA.n2kq.SRIRio-1749297159-1.0.1.1-QRjAYLDjPsb1G4Toa9EbrxvdwcsCYCnqBJLW4r.2WKYHCmrruYJTZ6gV2VI3AFfSa1fj1F3r467uW0MNvb3Cb_uHtN93AkCbCyC63gM0MMU; path=/; expires=Sat, 07-Jun-25 12:22:39 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None, _cfuvid=L2PqG41uYeAUAR77zdoLj1vPq65hTnBRmPgDLuivP9Y-1749297159332-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None',
    'x-content-type-options': 'nosniff',
    server: 'cloudflare',
    'cf-ray': '94bff1c9393b2df8-DPS',
    'alt-svc': 'h3=":443"; ma=86400'
  },
  requestID: 'req_292326a3b11256992add008ee491cb09',
  error: [Object],
  code: 'insufficient_quota',
  param: null,
  type: 'insufficient_quota'
}
Max retries reached in extractWithAI, returning empty result
Processing chunk 9 with 2 rows...
Rate limit hit in extractWithAI, retrying in 4000ms (attempt 1/3)
Rate limit hit in extractWithAI, retrying in 8000ms (attempt 2/3)
Rate limit hit in extractWithAI, retrying in 16000ms (attempt 3/3)
Error with AI extraction (attempt 3): Error: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, read the docs: https://platform.openai.com/docs/guides/error-codes/api-errors.
    at async extractWithAI (app/services/fileProcessor.ts:542:23)
    at async processSheetData (app/services/fileProcessor.ts:228:28)
    at async processExcel (app/services/fileProcessor.ts:331:26)
    at async processFile (app/services/fileProcessor.ts:46:22)
    at async processFileInBackground (app/api/upload-smart/route.ts:104:4)
    at async processQueueSequentially (app/api/upload-smart/route.ts:133:8)
  540 |       await new Promise(resolve => setTimeout(resolve, 500));
  541 |       
> 542 |       const response = await openai.chat.completions.create({
      |                       ^
  543 |         model: 'gpt-4o', 
  544 |         messages: [{ role: 'user', content: prompt }],
  545 |         temperature: 0.1, {
  status: 429,
  headers: Headers {
    date: 'Sat, 07 Jun 2025 11:53:01 GMT',
    'content-type': 'application/json; charset=utf-8',
    'content-length': '337',
    connection: 'keep-alive',
    vary: 'Origin',
    'x-request-id': 'req_64b2294d4efce2b0aebbcf0fa5106bc5',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'cf-cache-status': 'DYNAMIC',
    'set-cookie': '__cf_bm=gNVTC6eLRTkYg6a2EavIxEFYD.QLnF_bw9tdqB41vFg-1749297181-1.0.1.1-nHuN.57RYYQWpBIvby.EFT9XmS7gbjeecL5lMcGpWny_5vSSykrMhf44BHnBdbXBonpbESXbh1YN9b.HdtJnHCodli6Mr9aEjDymuVhz7PA; path=/; expires=Sat, 07-Jun-25 12:23:01 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None, _cfuvid=qHUyMDnnOhtBZsYaQbGr9CD6Vjw1TS_YmUy.cR0eSC4-1749297181430-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None',
    'x-content-type-options': 'nosniff',
    server: 'cloudflare',
    'cf-ray': '94bff2565df29185-DPS',
    'alt-svc': 'h3=":443"; ma=86400'
  },
  requestID: 'req_64b2294d4efce2b0aebbcf0fa5106bc5',
  error: [Object],
  code: 'insufficient_quota',
  param: null,
  type: 'insufficient_quota'
}
Max retries reached in extractWithAI, returning empty result
Sheet "Sheet1": Merged 9 chunks into 0 products
Processed 1 sheets, extracted 0 total products
Successfully processed 0 products from widi wiguna.xlsx
Queue processing completed
 ✓ Compiled in 17ms
 ✓ Compiled in 16ms
 ✓ Compiled in 18ms
 ✓ Compiled in 16ms
 ✓ Compiled in 16ms
 ✓ Compiled /api/embedding/stats in 76ms
📚 Loading reference products from database...
 GET /api/embedding/stats 200 in 134ms
Error loading reference products: Error [PrismaClientValidationError]: 
Invalid `prisma.product.findMany()` invocation in
/Users/denisdomashenko/monito-web/.next/server/chunks/[root of the server]__17a0c6._.js:199:59

  196 try {
  197     console.log('📚 Loading reference products from database...');
  198     // Загружаем из БД существующие стандартизированные продукты
→ 199     const existingProducts = await prisma.product.findMany({
            select: {
              id: true,
              standardizedName: true,
              category: true,
              name: true
            },
            where: {
              standardizedName: {
          +     not: String
              }
            }
          })

Argument `not` must not be null.
    at <unknown> (app/services/embeddingService.ts:181:52)
    at async EmbeddingService.loadReferenceProducts (app/services/embeddingService.ts:181:31)
  179 |       
  180 |       // Загружаем из БД существующие стандартизированные продукты
> 181 |       const existingProducts = await prisma.product.findMany({
      |                                                    ^
  182 |         select: {
  183 |           id: true,
  184 |           standardizedName: true, {
  clientVersion: '6.9.0'
}
🏗️ Initializing basic reference base...
✅ Initialized 24 basic reference products
 ✓ Compiled / in 18ms
 GET / 200 in 75ms
 GET / 200 in 13ms
 GET / 200 in 12ms
 GET / 200 in 13ms
 GET / 200 in 11ms
 GET / 200 in 10ms
 GET / 200 in 12ms
 GET / 200 in 11ms
 GET / 200 in 11ms
 GET / 200 in 77ms
 GET /api/suppliers 200 in 648ms
 GET /api/uploads/status?limit=5 200 in 895ms
 GET /api/stats 200 in 1217ms
 GET /api/products?category=All%20Categories&limit=50&page=1&sortBy=name&sortOrder=asc 200 in 2212ms
Starting sequential processing of 1 files in queue
Processing file cmbm7eyop000qoustbtnbc3w6 (0 remaining in queue)
📚 Loading reference products from database...
Error loading reference products: Error [PrismaClientValidationError]: 
Invalid `prisma.product.findMany()` invocation in
/Users/denisdomashenko/monito-web/.next/server/chunks/[root of the server]__e3d0ae._.js:399:59

  396 try {
  397     console.log('📚 Loading reference products from database...');
  398     // Загружаем из БД существующие стандартизированные продукты
→ 399     const existingProducts = await prisma.product.findMany({
            select: {
              id: true,
              standardizedName: true,
              category: true,
              name: true
            },
            where: {
              standardizedName: {
          +     not: String
              }
            }
          })

Argument `not` must not be null.
    at <unknown> (app/services/embeddingService.ts:181:52)
    at async EmbeddingService.loadReferenceProducts (app/services/embeddingService.ts:181:31)
  179 |       
  180 |       // Загружаем из БД существующие стандартизированные продукты
> 181 |       const existingProducts = await prisma.product.findMany({
      |                                                    ^
  182 |         select: {
  183 |           id: true,
  184 |           standardizedName: true, {
  clientVersion: '6.9.0'
}
🏗️ Initializing basic reference base...
Processing file: 1. PT. Global Anugrah Pasifik (groceries item).pdf
Processing PDF: https://cdc1w79ssc4kg6xh.public.blob.vercel-storage.com/1.%20PT.%20Global%20Anugrah%20Pasifik%20%28groceries%20item%29-YNW3B9vfApcdDK6VzolMGhKn9ubfOq.pdf
Warning: Please use the `legacy` build in Node.js environments.
PDF parsing failed, falling back to mock data: ReferenceError: DOMMatrix is not defined
    at <unknown> (.next/server/chunks/_8a34ee._.js:21:16)
    at async processPDF (app/services/fileProcessor.ts:120:23)
    at async processFile (app/services/fileProcessor.ts:50:22)
    at async processFileInBackground (app/api/upload-smart/route.ts:104:4)
    at async processQueueSequentially (app/api/upload-smart/route.ts:133:8)
  118 |       
  119 |       // Dynamic import of pdfjs-dist
> 120 |       const pdfjsLib = await import('pdfjs-dist');
      |                       ^
  121 |       
  122 |       // Load the PDF document
  123 |       const pdf = await pdfjsLib.getDocument({
✅ Initialized 24 basic reference products
🔍 Standardizing: "Sample Product 1" (category: Other)
🔍 No similar product found for "Sample Product 1" (best similarity: 0.000, threshold: 0.8)
🤖 Using GPT-4o for: "Sample Product 1"
🎯 GPT-4o standardized: "Sample Product 1" → "product sample"
💾 Saving reference product: product sample
➕ Added to reference base: "product sample" (category: Other)
Processing: "Sample Product 1" → cleaned: "Sample Product 1" → standardized: "product sample"
Found existing product: "Sample Product 1" (standardized: "product sample")
🔍 Standardizing: "Sample Product 2" (category: Other)
🔍 No similar product found for "Sample Product 2" (best similarity: 0.719, threshold: 0.8)
🤖 Using GPT-4o for: "Sample Product 2"
🎯 GPT-4o standardized: "Sample Product 2" → "product sample"
💾 Saving reference product: product sample
➕ Added to reference base: "product sample" (category: Other)
Processing: "Sample Product 2" → cleaned: "Sample Product 2" → standardized: "product sample"
Found existing product: "Sample Product 2" (standardized: "product sample")
🔍 Standardizing: "Sample Product 3" (category: Other)
🔍 No similar product found for "Sample Product 3" (best similarity: 0.728, threshold: 0.8)
🤖 Using GPT-4o for: "Sample Product 3"
🎯 GPT-4o standardized: "Sample Product 3" → "product sample"
💾 Saving reference product: product sample
➕ Added to reference base: "product sample" (category: Other)
Processing: "Sample Product 3" → cleaned: "Sample Product 3" → standardized: "product sample"
Found existing product: "Sample Product 3" (standardized: "product sample")
Successfully processed 3 products from 1. PT. Global Anugrah Pasifik (groceries item).pdf
Processing file cmbm7ezqj000toustgnfah3rk (5 remaining in queue)
Processing file: DOC-20250428-WA0004..xlsx
Processing Excel: https://cdc1w79ssc4kg6xh.public.blob.vercel-storage.com/DOC-20250428-WA0004.-0MPjCa2MkhsUipLVUj631xwfLtUmK9.xlsx
Excel file has 4 sheets: Sheet1, Lembar1, Sheet2, Sheet3
Sheet "Sheet1": 154 rows with data
Sheet "Lembar1": 0 rows with data
Sheet "Sheet2": 0 rows with data
Sheet "Sheet3": 0 rows with data
Found 1 sheets with data: Sheet1(154)
Processing sheet "Sheet1" with 154 rows...
Sheet "Sheet1": Processing 154 rows with data
Large sheet detected (154 rows), processing in chunks...
Processing chunk 1 with 30 rows...
 POST /api/upload-smart 200 in 37126ms
 GET /api/suppliers 200 in 135ms
 GET /api/uploads/status?limit=5 200 in 173ms
 GET /api/stats 200 in 479ms
 GET /api/products?category=All%20Categories&limit=50&page=1&sortBy=name&sortOrder=asc 200 in 991ms
Processing chunk 2 with 30 rows...
Processing chunk 3 with 30 rows...
Processing chunk 4 with 30 rows...
Processing chunk 5 with 30 rows...
Processing chunk 6 with 4 rows...
Sheet "Sheet1": Merged 6 chunks into 131 products
Processed 1 sheets, extracted 131 total products
Found existing supplier: SAI Fresh
Document indicates supplier "SAI Fresh" but upload was assigned to different supplier. Using detected supplier.
🔍 Standardizing: "Basil Green Fresh" (category: Fresh Herbs & Spices)
🔍 No similar product found for "Basil Green Fresh" (best similarity: 0.000, threshold: 0.8)
🤖 Using GPT-4o for: "Basil Green Fresh"
🎯 GPT-4o standardized: "Basil Green Fresh" → "herb basil"
💾 Saving reference product: herb basil
➕ Added to reference base: "herb basil" (category: Fresh Herbs & Spices)
Processing: "Basil Green Fresh" → cleaned: "Basil Green Fresh" → standardized: "herb basil"
Created new product: "Basil Green Fresh" (standardized: "herb basil")
🔍 Standardizing: "Capsicum Green" (category: Fresh Herbs & Spices)
🔍 No similar product found for "Capsicum Green" (best similarity: 0.434, threshold: 0.8)
🤖 Using GPT-4o for: "Capsicum Green"
🎯 GPT-4o standardized: "Capsicum Green" → "capsicum green"
💾 Saving reference product: capsicum green
➕ Added to reference base: "capsicum green" (category: Fresh Herbs & Spices)
Processing: "Capsicum Green" → cleaned: "Capsicum Green" → standardized: "capsicum green"
Found existing product: "Capsicum Green" (standardized: "capsicum green")
🔍 Standardizing: "Capsicum Red" (category: Fresh Herbs & Spices)
🎯 Found similar product: "Capsicum Red" → "capsicum green" (similarity: 0.812)
✅ Found via embedding: "Capsicum Red" → "capsicum green" (similarity: 0.812)
Processing: "Capsicum Red" → cleaned: "Capsicum Red" → standardized: "capsicum green"
Found existing product: "Capsicum Green" (standardized: "capsicum green")
🔍 Standardizing: "Capsicum Yellow" (category: Fresh Herbs & Spices)
🎯 Found similar product: "Capsicum Yellow" → "capsicum green" (similarity: 0.802)
✅ Found via embedding: "Capsicum Yellow" → "capsicum green" (similarity: 0.802)
Processing: "Capsicum Yellow" → cleaned: "Capsicum Yellow" → standardized: "capsicum green"
Found existing product: "Capsicum Green" (standardized: "capsicum green")
🔍 Standardizing: "Chili Green large" (category: Fresh Herbs & Spices)
🔍 No similar product found for "Chili Green large" (best similarity: 0.597, threshold: 0.8)
🤖 Using GPT-4o for: "Chili Green large"
🎯 GPT-4o standardized: "Chili Green large" → "chili green large"
💾 Saving reference product: chili green large
➕ Added to reference base: "chili green large" (category: Fresh Herbs & Spices)
Processing: "Chili Green large" → cleaned: "Chili Green large" → standardized: "chili green large"
Created new product: "Chili Green large" (standardized: "chili green large")
🔍 Standardizing: "Chili Hot Green small" (category: Fresh Herbs & Spices)
🎯 Found similar product: "Chili Hot Green small" → "chili green large" (similarity: 0.828)
✅ Found via embedding: "Chili Hot Green small" → "chili green large" (similarity: 0.828)
Processing: "Chili Hot Green small" → cleaned: "Chili Hot Green small" → standardized: "chili green large"
Found existing product: "Chili Green large" (standardized: "chili green large")
🔍 Standardizing: "Chili Hot Red small" (category: Fresh Herbs & Spices)
🔍 No similar product found for "Chili Hot Red small" (best similarity: 0.738, threshold: 0.8)
🤖 Using GPT-4o for: "Chili Hot Red small"
🎯 GPT-4o standardized: "Chili Hot Red small" → "chili red small"
💾 Saving reference product: chili red small
➕ Added to reference base: "chili red small" (category: Fresh Herbs & Spices)
Processing: "Chili Hot Red small" → cleaned: "Chili Hot Red small" → standardized: "chili red small"
Found existing product: "Chili Hot Red small" (standardized: "chili red small")
🔍 Standardizing: "Chili Red large" (category: Fresh Herbs & Spices)
🎯 Found similar product: "Chili Red large" → "chili red small" (similarity: 0.930)
✅ Found via embedding: "Chili Red large" → "chili red small" (similarity: 0.930)
Processing: "Chili Red large" → cleaned: "Chili Red large" → standardized: "chili red small"
Found existing product: "Chili Hot Red small" (standardized: "chili red small")
🔍 Standardizing: "Chives Fresh" (category: Fresh Herbs & Spices)
🔍 No similar product found for "Chives Fresh" (best similarity: 0.418, threshold: 0.8)
🤖 Using GPT-4o for: "Chives Fresh"
🎯 GPT-4o standardized: "Chives Fresh" → "chive fresh"
💾 Saving reference product: chive fresh
➕ Added to reference base: "chive fresh" (category: Fresh Herbs & Spices)
Processing: "Chives Fresh" → cleaned: "Chives Fresh" → standardized: "chive fresh"
Found existing product: "Chives Fresh" (standardized: "chive fresh")
🔍 Standardizing: "Coriander leaf" (category: Fresh Herbs & Spices)
🔍 No similar product found for "Coriander leaf" (best similarity: 0.510, threshold: 0.8)
🤖 Using GPT-4o for: "Coriander leaf"
🎯 GPT-4o standardized: "Coriander leaf" → "leaf coriander"
💾 Saving reference product: leaf coriander
➕ Added to reference base: "leaf coriander" (category: Fresh Herbs & Spices)
Processing: "Coriander leaf" → cleaned: "Coriander leaf" → standardized: "leaf coriander"
Found existing product: "Coriander leaf" (standardized: "leaf coriander")
🔍 Standardizing: "Dill fresh" (category: Fresh Herbs & Spices)
🔍 No similar product found for "Dill fresh" (best similarity: 0.538, threshold: 0.8)
🤖 Using GPT-4o for: "Dill fresh"
🎯 GPT-4o standardized: "Dill fresh" → "herb dill"
💾 Saving reference product: herb dill
➕ Added to reference base: "herb dill" (category: Fresh Herbs & Spices)
Processing: "Dill fresh" → cleaned: "Dill fresh" → standardized: "herb dill"
Created new product: "Dill fresh" (standardized: "herb dill")
🔍 Standardizing: "Galangal Root (Isen/Laos)" (category: Fresh Herbs & Spices)
🔍 No similar product found for "Galangal Root (Isen/Laos)" (best similarity: 0.359, threshold: 0.8)
🤖 Using GPT-4o for: "Galangal Root (Isen/Laos)"
🎯 GPT-4o standardized: "Galangal Root (Isen/Laos)" → "root galangal"
💾 Saving reference product: root galangal
➕ Added to reference base: "root galangal" (category: Fresh Herbs & Spices)
Processing: "Galangal Root (Isen/Laos)" → cleaned: "Galangal Root (Isen/Laos)" → standardized: "root galangal"
Found existing product: "Galangal Root (Isen/Laos)" (standardized: "root galangal")
🔍 Standardizing: "Garlic kupas" (category: Fresh Herbs & Spices)
🔍 No similar product found for "Garlic kupas" (best similarity: 0.456, threshold: 0.8)
🤖 Using GPT-4o for: "Garlic kupas"
🎯 GPT-4o standardized: "Garlic kupas" → "garlic peeled"
💾 Saving reference product: garlic peeled
➕ Added to reference base: "garlic peeled" (category: Fresh Herbs & Spices)
Processing: "Garlic kupas" → cleaned: "Garlic kupas" → standardized: "garlic peeled"
Found existing product: "Garlic kupas" (standardized: "garlic peeled")
🔍 Standardizing: "Ginger (Jahe)" (category: Fresh Herbs & Spices)
🔍 No similar product found for "Ginger (Jahe)" (best similarity: 0.465, threshold: 0.8)
🤖 Using GPT-4o for: "Ginger (Jahe)"
🎯 GPT-4o standardized: "Ginger (Jahe)" → "ginger"
💾 Saving reference product: ginger
➕ Added to reference base: "ginger" (category: Fresh Herbs & Spices)
Processing: "Ginger (Jahe)" → cleaned: "Ginger (Jahe)" → standardized: "ginger"
Found existing product: "Ginger (Jahe)" (standardized: "ginger")
🔍 Standardizing: "Parsley curly" (category: Fresh Herbs & Spices)
🔍 No similar product found for "Parsley curly" (best similarity: 0.497, threshold: 0.8)
🤖 Using GPT-4o for: "Parsley curly"
🎯 GPT-4o standardized: "Parsley curly" → "parsley curly"
💾 Saving reference product: parsley curly
➕ Added to reference base: "parsley curly" (category: Fresh Herbs & Spices)
Processing: "Parsley curly" → cleaned: "Parsley curly" → standardized: "parsley curly"
Found existing product: "Parsley curly" (standardized: "parsley curly")
🔍 Standardizing: "Kencur" (category: Fresh Herbs & Spices)
🔍 No similar product found for "Kencur" (best similarity: 0.307, threshold: 0.8)
🤖 Using GPT-4o for: "Kencur"
🎯 GPT-4o standardized: "Kencur" → "kencur"
💾 Saving reference product: kencur
➕ Added to reference base: "kencur" (category: Fresh Herbs & Spices)
Processing: "Kencur" → cleaned: "Kencur" → standardized: "kencur"
Found existing product: "Kencur" (standardized: "kencur")
🔍 Standardizing: "Leaf Kemangi" (category: Fresh Herbs & Spices)
🔍 No similar product found for "Leaf Kemangi" (best similarity: 0.443, threshold: 0.8)
🤖 Using GPT-4o for: "Leaf Kemangi"
🎯 GPT-4o standardized: "Leaf Kemangi" → "basil leaf"
💾 Saving reference product: basil leaf
➕ Added to reference base: "basil leaf" (category: Fresh Herbs & Spices)
Processing: "Leaf Kemangi" → cleaned: "Leaf Kemangi" → standardized: "basil leaf"
Found existing product: "Leaf Kemangi" (standardized: "basil leaf")
🔍 Standardizing: "Leaf Lime" (category: Fresh Herbs & Spices)
🔍 No similar product found for "Leaf Lime" (best similarity: 0.485, threshold: 0.8)
🤖 Using GPT-4o for: "Leaf Lime"
🎯 GPT-4o standardized: "Leaf Lime" → "lime leaf"
💾 Saving reference product: lime leaf
➕ Added to reference base: "lime leaf" (category: Fresh Herbs & Spices)
Processing: "Leaf Lime" → cleaned: "Leaf Lime" → standardized: "lime leaf"
Found existing product: "Leaf Lime" (standardized: "lime leaf")
🔍 Standardizing: "Leaf Pandan" (category: Fresh Herbs & Spices)
🔍 No similar product found for "Leaf Pandan" (best similarity: 0.484, threshold: 0.8)
🤖 Using GPT-4o for: "Leaf Pandan"
 GET / 200 in 53ms
 GET /api/suppliers 200 in 116ms
 GET /api/uploads/status?limit=5 200 in 164ms
 GET /api/stats 200 in 485ms
🎯 GPT-4o standardized: "Leaf Pandan" → "pandan leaf"
 GET /api/products?category=All%20Categories&limit=50&page=1&sortBy=name&sortOrder=asc 200 in 826ms
💾 Saving reference product: pandan leaf
➕ Added to reference base: "pandan leaf" (category: Fresh Herbs & Spices)
Processing: "Leaf Pandan" → cleaned: "Leaf Pandan" → standardized: "pandan leaf"
Found existing product: "Leaf Pandan" (standardized: "pandan leaf")
🔍 Standardizing: "Leaf Salam" (category: Fresh Herbs & Spices)
🔍 No similar product found for "Leaf Salam" (best similarity: 0.490, threshold: 0.8)
🤖 Using GPT-4o for: "Leaf Salam"
🎯 GPT-4o standardized: "Leaf Salam" → "salam leaf"
💾 Saving reference product: salam leaf
➕ Added to reference base: "salam leaf" (category: Fresh Herbs & Spices)
Processing: "Leaf Salam" → cleaned: "Leaf Salam" → standardized: "salam leaf"
Created new product: "Leaf Salam" (standardized: "salam leaf")
🔍 Standardizing: "Lemon Grass (Sereh)" (category: Fresh Herbs & Spices)
🔍 No similar product found for "Lemon Grass (Sereh)" (best similarity: 0.497, threshold: 0.8)
🤖 Using GPT-4o for: "Lemon Grass (Sereh)"
🎯 GPT-4o standardized: "Lemon Grass (Sereh)" → "grass lemon"
💾 Saving reference product: grass lemon
➕ Added to reference base: "grass lemon" (category: Fresh Herbs & Spices)
Processing: "Lemon Grass (Sereh)" → cleaned: "Lemon Grass (Sereh)" → standardized: "grass lemon"
Found existing product: "Lemon Grass (Sereh)" (standardized: "grass lemon")
🔍 Standardizing: "Limo" (category: vegetables)
🔍 No similar product found for "Limo" (best similarity: 0.000, threshold: 0.8)
🤖 Using GPT-4o for: "Limo"
🎯 GPT-4o standardized: "Limo" → "lemon"
💾 Saving reference product: lemon
➕ Added to reference base: "lemon" (category: vegetables)
Processing: "Limo" → cleaned: "Limo" → standardized: "lemon"
Created new product: "Limo" (standardized: "lemon")
🔍 Standardizing: "Mint Fresh" (category: vegetables)
🔍 No similar product found for "Mint Fresh" (best similarity: 0.345, threshold: 0.8)
🤖 Using GPT-4o for: "Mint Fresh"
🎯 GPT-4o standardized: "Mint Fresh" → "mint fresh"
💾 Saving reference product: mint fresh
➕ Added to reference base: "mint fresh" (category: vegetables)
Processing: "Mint Fresh" → cleaned: "Mint Fresh" → standardized: "mint fresh"
Found existing product: "Mint Fresh" (standardized: "mint fresh")
🔍 Standardizing: "Onion Brown" (category: vegetables)
🔍 No similar product found for "Onion Brown" (best similarity: 0.364, threshold: 0.8)
🤖 Using GPT-4o for: "Onion Brown"
🎯 GPT-4o standardized: "Onion Brown" → "onion brown"
💾 Saving reference product: onion brown
➕ Added to reference base: "onion brown" (category: vegetables)
Processing: "Onion Brown" → cleaned: "Onion Brown" → standardized: "onion brown"
Found existing product: "Onion Brown" (standardized: "onion brown")
🔍 Standardizing: "Onion Spring" (category: vegetables)
🔍 No similar product found for "Onion Spring" (best similarity: 0.539, threshold: 0.8)
🤖 Using GPT-4o for: "Onion Spring"
🎯 GPT-4o standardized: "Onion Spring" → "onion spring"
💾 Saving reference product: onion spring
➕ Added to reference base: "onion spring" (category: vegetables)
Processing: "Onion Spring" → cleaned: "Onion Spring" → standardized: "onion spring"
Found existing product: "Onion Spring" (standardized: "onion spring")
🔍 Standardizing: "Oregano Fresh" (category: vegetables)
🔍 No similar product found for "Oregano Fresh" (best similarity: 0.349, threshold: 0.8)
🤖 Using GPT-4o for: "Oregano Fresh"
🎯 GPT-4o standardized: "Oregano Fresh" → "oregano fresh"
💾 Saving reference product: oregano fresh
➕ Added to reference base: "oregano fresh" (category: vegetables)
Processing: "Oregano Fresh" → cleaned: "Oregano Fresh" → standardized: "oregano fresh"
Found existing product: "Oregano Fresh" (standardized: "oregano fresh")
🔍 Standardizing: "Parsley Italia" (category: vegetables)
🔍 No similar product found for "Parsley Italia" (best similarity: 0.390, threshold: 0.8)
🤖 Using GPT-4o for: "Parsley Italia"
🎯 GPT-4o standardized: "Parsley Italia" → "parsley"
💾 Saving reference product: parsley
➕ Added to reference base: "parsley" (category: vegetables)
Processing: "Parsley Italia" → cleaned: "Parsley Italia" → standardized: "parsley"
Found existing product: "parsley" (standardized: "parsley")
🔍 Standardizing: "Rosemary Fresh" (category: vegetables)
🔍 No similar product found for "Rosemary Fresh" (best similarity: 0.589, threshold: 0.8)
🤖 Using GPT-4o for: "Rosemary Fresh"
🎯 GPT-4o standardized: "Rosemary Fresh" → "rosemary fresh"
💾 Saving reference product: rosemary fresh
➕ Added to reference base: "rosemary fresh" (category: vegetables)
Processing: "Rosemary Fresh" → cleaned: "Rosemary Fresh" → standardized: "rosemary fresh"
Found existing product: "Rosemary Fresh" (standardized: "rosemary fresh")
🔍 Standardizing: "Sage" (category: vegetables)
🔍 No similar product found for "Sage" (best similarity: 0.444, threshold: 0.8)
🤖 Using GPT-4o for: "Sage"
🎯 GPT-4o standardized: "Sage" → "sage"
💾 Saving reference product: sage
➕ Added to reference base: "sage" (category: vegetables)
Processing: "Sage" → cleaned: "Sage" → standardized: "sage"
Found existing product: "Sage" (standardized: "sage")
🔍 Standardizing: "Shallot Kupas" (category: vegetables)
🔍 No similar product found for "Shallot Kupas" (best similarity: 0.371, threshold: 0.8)
🤖 Using GPT-4o for: "Shallot Kupas"
🎯 GPT-4o standardized: "Shallot Kupas" → "shallot peeled"
💾 Saving reference product: shallot peeled
➕ Added to reference base: "shallot peeled" (category: vegetables)
Processing: "Shallot Kupas" → cleaned: "Shallot Kupas" → standardized: "shallot peeled"
Found existing product: "Shallot Kupas" (standardized: "shallot peeled")
🔍 Standardizing: "Taragon" (category: vegetables)
🔍 No similar product found for "Taragon" (best similarity: 0.457, threshold: 0.8)
🤖 Using GPT-4o for: "Taragon"
🎯 GPT-4o standardized: "Taragon" → "tarragon"
💾 Saving reference product: tarragon
➕ Added to reference base: "tarragon" (category: vegetables)
Processing: "Taragon" → cleaned: "Taragon" → standardized: "tarragon"
Found existing product: "Taragon" (standardized: "tarragon")
🔍 Standardizing: "Thyme" (category: vegetables)
🔍 No similar product found for "Thyme" (best similarity: 0.529, threshold: 0.8)
🤖 Using GPT-4o for: "Thyme"
🎯 GPT-4o standardized: "Thyme" → "herb thyme"
💾 Saving reference product: herb thyme
➕ Added to reference base: "herb thyme" (category: vegetables)
Processing: "Thyme" → cleaned: "Thyme" → standardized: "herb thyme"
Created new product: "Thyme" (standardized: "herb thyme")
🔍 Standardizing: "Turmeric" (category: vegetables)
🔍 No similar product found for "Turmeric" (best similarity: 0.484, threshold: 0.8)
🤖 Using GPT-4o for: "Turmeric"
🎯 GPT-4o standardized: "Turmeric" → "turmeric"
💾 Saving reference product: turmeric
➕ Added to reference base: "turmeric" (category: vegetables)
Processing: "Turmeric" → cleaned: "Turmeric" → standardized: "turmeric"
Found existing product: "Turmeric" (standardized: "turmeric")
🔍 Standardizing: "Asparagus Green" (category: vegetables)
🔍 No similar product found for "Asparagus Green" (best similarity: 0.522, threshold: 0.8)
🤖 Using GPT-4o for: "Asparagus Green"
🎯 GPT-4o standardized: "Asparagus Green" → "asparagus green"
💾 Saving reference product: asparagus green
➕ Added to reference base: "asparagus green" (category: vegetables)
Processing: "Asparagus Green" → cleaned: "Asparagus Green" → standardized: "asparagus green"
Found existing product: "Asparagus Green" (standardized: "asparagus green")
🔍 Standardizing: "Bean Asparagus (Kecipir)" (category: vegetables)
🔍 No similar product found for "Bean Asparagus (Kecipir)" (best similarity: 0.568, threshold: 0.8)
🤖 Using GPT-4o for: "Bean Asparagus (Kecipir)"
🎯 GPT-4o standardized: "Bean Asparagus (Kecipir)" → "asparagus bean"
💾 Saving reference product: asparagus bean
➕ Added to reference base: "asparagus bean" (category: vegetables)
Processing: "Bean Asparagus (Kecipir)" → cleaned: "Bean Asparagus (Kecipir)" → standardized: "asparagus bean"
Found existing product: "Bean Asparagus (Kecipir)" (standardized: "asparagus bean")
🔍 Standardizing: "Bean Long (Kacang Panjang)" (category: vegetables)
🔍 No similar product found for "Bean Long (Kacang Panjang)" (best similarity: 0.475, threshold: 0.8)
🤖 Using GPT-4o for: "Bean Long (Kacang Panjang)"
🎯 GPT-4o standardized: "Bean Long (Kacang Panjang)" → "bean long"
💾 Saving reference product: bean long
➕ Added to reference base: "bean long" (category: vegetables)
Processing: "Bean Long (Kacang Panjang)" → cleaned: "Bean Long (Kacang Panjang)" → standardized: "bean long"
Found existing product: "Bean Long (Kacang Panjang)" (standardized: "bean long")
🔍 Standardizing: "Toge" (category: vegetables)
🔍 No similar product found for "Toge" (best similarity: 0.363, threshold: 0.8)
🤖 Using GPT-4o for: "Toge"
🎯 GPT-4o standardized: "Toge" → "sprout"
💾 Saving reference product: sprout
➕ Added to reference base: "sprout" (category: vegetables)
Processing: "Toge" → cleaned: "Toge" → standardized: "sprout"
Created new product: "Toge" (standardized: "sprout")
🔍 Standardizing: "Buncis" (category: vegetables)
🔍 No similar product found for "Buncis" (best similarity: 0.307, threshold: 0.8)
🤖 Using GPT-4o for: "Buncis"
🎯 GPT-4o standardized: "Buncis" → "bean"
💾 Saving reference product: bean
➕ Added to reference base: "bean" (category: vegetables)
Processing: "Buncis" → cleaned: "Buncis" → standardized: "bean"
Found existing product: "Buncis" (standardized: "bean")
🔍 Standardizing: "Baby Buncis" (category: vegetables)
🔍 No similar product found for "Baby Buncis" (best similarity: 0.347, threshold: 0.8)
🤖 Using GPT-4o for: "Baby Buncis"
🎯 GPT-4o standardized: "Baby Buncis" → "bean baby"
💾 Saving reference product: bean baby
➕ Added to reference base: "bean baby" (category: vegetables)
Processing: "Baby Buncis" → cleaned: "Baby Buncis" → standardized: "bean baby"
Found existing product: "Baby Buncis" (standardized: "bean baby")
🔍 Standardizing: "Beetroot" (category: vegetables)
🔍 No similar product found for "Beetroot" (best similarity: 0.510, threshold: 0.8)
🤖 Using GPT-4o for: "Beetroot"
🎯 GPT-4o standardized: "Beetroot" → "beetroot"
💾 Saving reference product: beetroot
➕ Added to reference base: "beetroot" (category: vegetables)
Processing: "Beetroot" → cleaned: "Beetroot" → standardized: "beetroot"
Found existing product: "Beetroot" (standardized: "beetroot")
🔍 Standardizing: "Bok Choi" (category: vegetables)
🔍 No similar product found for "Bok Choi" (best similarity: 0.424, threshold: 0.8)
🤖 Using GPT-4o for: "Bok Choi"
🎯 GPT-4o standardized: "Bok Choi" → "choi bok"
💾 Saving reference product: choi bok
➕ Added to reference base: "choi bok" (category: vegetables)
Processing: "Bok Choi" → cleaned: "Bok Choi" → standardized: "choi bok"
Found existing product: "Bok Choi" (standardized: "choi bok")
🔍 Standardizing: "Broccoli" (category: vegetables)
🔍 No similar product found for "Broccoli" (best similarity: 0.501, threshold: 0.8)
🤖 Using GPT-4o for: "Broccoli"
🎯 GPT-4o standardized: "Broccoli" → "broccoli"
💾 Saving reference product: broccoli
➕ Added to reference base: "broccoli" (category: vegetables)
Processing: "Broccoli" → cleaned: "Broccoli" → standardized: "broccoli"
Found existing product: "Broccoli" (standardized: "broccoli")
🔍 Standardizing: "Cabbage Chinese / Sawi Putih" (category: vegetables)
🔍 No similar product found for "Cabbage Chinese / Sawi Putih" (best similarity: 0.425, threshold: 0.8)
🤖 Using GPT-4o for: "Cabbage Chinese / Sawi Putih"
🎯 GPT-4o standardized: "Cabbage Chinese / Sawi Putih" → "cabbage chinese"
💾 Saving reference product: cabbage chinese
➕ Added to reference base: "cabbage chinese" (category: vegetables)
Processing: "Cabbage Chinese / Sawi Putih" → cleaned: "Cabbage Chinese / Sawi Putih" → standardized: "cabbage chinese"
Found existing product: "Cabbage Chinese / Sawi Putih" (standardized: "cabbage chinese")
🔍 Standardizing: "Cabbage Red / Kol Merah" (category: vegetables)
🔍 No similar product found for "Cabbage Red / Kol Merah" (best similarity: 0.578, threshold: 0.8)
🤖 Using GPT-4o for: "Cabbage Red / Kol Merah"
🎯 GPT-4o standardized: "Cabbage Red / Kol Merah" → "cabbage red"
💾 Saving reference product: cabbage red
➕ Added to reference base: "cabbage red" (category: vegetables)
Processing: "Cabbage Red / Kol Merah" → cleaned: "Cabbage Red / Kol Merah" → standardized: "cabbage red"
Found existing product: "Cabbage Red / Kol Merah" (standardized: "cabbage red")
🔍 Standardizing: "Cabbage White / Kol" (category: vegetables)
🔍 No similar product found for "Cabbage White / Kol" (best similarity: 0.683, threshold: 0.8)
🤖 Using GPT-4o for: "Cabbage White / Kol"
🎯 GPT-4o standardized: "Cabbage White / Kol" → "cabbage white"
💾 Saving reference product: cabbage white
➕ Added to reference base: "cabbage white" (category: vegetables)
Processing: "Cabbage White / Kol" → cleaned: "Cabbage White / Kol" → standardized: "cabbage white"
Found existing product: "Cabbage White / Kol" (standardized: "cabbage white")
🔍 Standardizing: "Caisin / Sayur Hijau" (category: vegetables)
🔍 No similar product found for "Caisin / Sayur Hijau" (best similarity: 0.551, threshold: 0.8)
🤖 Using GPT-4o for: "Caisin / Sayur Hijau"
🎯 GPT-4o standardized: "Caisin / Sayur Hijau" → "vegetable caisin"
💾 Saving reference product: vegetable caisin
➕ Added to reference base: "vegetable caisin" (category: vegetables)
Processing: "Caisin / Sayur Hijau" → cleaned: "Caisin / Sayur Hijau" → standardized: "vegetable caisin"
Created new product: "Caisin / Sayur Hijau" (standardized: "vegetable caisin")
🔍 Standardizing: "Carrot Baby Import" (category: vegetables)
🔍 No similar product found for "Carrot Baby Import" (best similarity: 0.530, threshold: 0.8)
🤖 Using GPT-4o for: "Carrot Baby Import"
🎯 GPT-4o standardized: "Carrot Baby Import" → "carrot baby"
💾 Saving reference product: carrot baby
➕ Added to reference base: "carrot baby" (category: vegetables)
Processing: "Carrot Baby Import" → cleaned: "Carrot Baby Import" → standardized: "carrot baby"
Found existing product: "Carrot Baby Import" (standardized: "carrot baby")
🔍 Standardizing: "Carrot Import" (category: vegetables)
🔍 No similar product found for "Carrot Import" (best similarity: 0.689, threshold: 0.8)
🤖 Using GPT-4o for: "Carrot Import"
🎯 GPT-4o standardized: "Carrot Import" → "carrot import"
💾 Saving reference product: carrot import
➕ Added to reference base: "carrot import" (category: vegetables)
Processing: "Carrot Import" → cleaned: "Carrot Import" → standardized: "carrot import"
Found existing product: "Carrot Import" (standardized: "carrot import")
🔍 Standardizing: "Carrot Lokal / Baby and Big" (category: vegetables)
🔍 No similar product found for "Carrot Lokal / Baby and Big" (best similarity: 0.794, threshold: 0.8)
🤖 Using GPT-4o for: "Carrot Lokal / Baby and Big"
🎯 GPT-4o standardized: "Carrot Lokal / Baby and Big" → "carrot baby big"
💾 Saving reference product: carrot baby big
➕ Added to reference base: "carrot baby big" (category: vegetables)
Processing: "Carrot Lokal / Baby and Big" → cleaned: "Carrot Lokal / Baby and Big" → standardized: "carrot baby big"
Found existing product: "Carrot Lokal / Baby and Big" (standardized: "carrot baby big")
🔍 Standardizing: "Cauli Flower" (category: vegetables)
🔍 No similar product found for "Cauli Flower" (best similarity: 0.531, threshold: 0.8)
🤖 Using GPT-4o for: "Cauli Flower"
🎯 GPT-4o standardized: "Cauli Flower" → "cauliflower"
💾 Saving reference product: cauliflower
➕ Added to reference base: "cauliflower" (category: vegetables)
Processing: "Cauli Flower" → cleaned: "Cauli Flower" → standardized: "cauliflower"
Found existing product: "Cauli Flower" (standardized: "cauliflower")
🔍 Standardizing: "Celery Local" (category: vegetables)
🔍 No similar product found for "Celery Local" (best similarity: 0.432, threshold: 0.8)
🤖 Using GPT-4o for: "Celery Local"
🎯 GPT-4o standardized: "Celery Local" → "celery local"
💾 Saving reference product: celery local
➕ Added to reference base: "celery local" (category: vegetables)
Processing: "Celery Local" → cleaned: "Celery Local" → standardized: "celery local"
Found existing product: "Celery local" (standardized: "celery local")
🔍 Standardizing: "Celery Stik" (category: vegetables)
🔍 No similar product found for "Celery Stik" (best similarity: 0.697, threshold: 0.8)
🤖 Using GPT-4o for: "Celery Stik"
🎯 GPT-4o standardized: "Celery Stik" → "celery stick"
💾 Saving reference product: celery stick
➕ Added to reference base: "celery stick" (category: vegetables)
Processing: "Celery Stik" → cleaned: "Celery Stik" → standardized: "celery stick"
Found existing product: "Celery stik" (standardized: "celery stick")
🔍 Standardizing: "Corn Sweet/Jagung" (category: vegetables)
🔍 No similar product found for "Corn Sweet/Jagung" (best similarity: 0.397, threshold: 0.8)
🤖 Using GPT-4o for: "Corn Sweet/Jagung"
🎯 GPT-4o standardized: "Corn Sweet/Jagung" → "corn sweet"
💾 Saving reference product: corn sweet
➕ Added to reference base: "corn sweet" (category: vegetables)
Processing: "Corn Sweet/Jagung" → cleaned: "Corn Sweet/Jagung" → standardized: "corn sweet"
Found existing product: "Corn sweet/jagung" (standardized: "corn sweet")
🔍 Standardizing: "Cucumber Japanese" (category: vegetables)
🔍 No similar product found for "Cucumber Japanese" (best similarity: 0.555, threshold: 0.8)
🤖 Using GPT-4o for: "Cucumber Japanese"
🎯 GPT-4o standardized: "Cucumber Japanese" → "cucumber japanese"
💾 Saving reference product: cucumber japanese
➕ Added to reference base: "cucumber japanese" (category: vegetables)
Processing: "Cucumber Japanese" → cleaned: "Cucumber Japanese" → standardized: "cucumber japanese"
Found existing product: "Cucumber Japanese" (standardized: "cucumber japanese")
🔍 Standardizing: "Cucumber Local" (category: vegetables)
🔍 No similar product found for "Cucumber Local" (best similarity: 0.707, threshold: 0.8)
🤖 Using GPT-4o for: "Cucumber Local"
🎯 GPT-4o standardized: "Cucumber Local" → "cucumber local"
💾 Saving reference product: cucumber local
➕ Added to reference base: "cucumber local" (category: vegetables)
Processing: "Cucumber Local" → cleaned: "Cucumber Local" → standardized: "cucumber local"
Found existing product: "Cucumber Local" (standardized: "cucumber local")
🔍 Standardizing: "Eggplant Large Long" (category: vegetables)
🔍 No similar product found for "Eggplant Large Long" (best similarity: 0.568, threshold: 0.8)
🤖 Using GPT-4o for: "Eggplant Large Long"
🎯 GPT-4o standardized: "Eggplant Large Long" → "eggplant long large"
💾 Saving reference product: eggplant long large
➕ Added to reference base: "eggplant long large" (category: vegetables)
Processing: "Eggplant Large Long" → cleaned: "Eggplant Large Long" → standardized: "eggplant long large"
Created new product: "Eggplant Large Long" (standardized: "eggplant long large")
🔍 Standardizing: "Eggplant Small Round" (category: vegetables)
🔍 No similar product found for "Eggplant Small Round" (best similarity: 0.728, threshold: 0.8)
🤖 Using GPT-4o for: "Eggplant Small Round"
🎯 GPT-4o standardized: "Eggplant Small Round" → "eggplant round small"
💾 Saving reference product: eggplant round small
➕ Added to reference base: "eggplant round small" (category: vegetables)
Processing: "Eggplant Small Round" → cleaned: "Eggplant Small Round" → standardized: "eggplant round small"
Found existing product: "Eggplant Small Round" (standardized: "eggplant round small")
🔍 Standardizing: "Ubi" (category: vegetables)
🔍 No similar product found for "Ubi" (best similarity: 0.332, threshold: 0.8)
🤖 Using GPT-4o for: "Ubi"
🎯 GPT-4o standardized: "Ubi" → "yam"
💾 Saving reference product: yam
➕ Added to reference base: "yam" (category: vegetables)
Processing: "Ubi" → cleaned: "Ubi" → standardized: "yam"
Found existing product: "Ubi" (standardized: "yam")
🔍 Standardizing: "Tempe" (category: vegetables)
🔍 No similar product found for "Tempe" (best similarity: 0.375, threshold: 0.8)
🤖 Using GPT-4o for: "Tempe"
🎯 GPT-4o standardized: "Tempe" → "tempeh"
💾 Saving reference product: tempeh
➕ Added to reference base: "tempeh" (category: vegetables)
Processing: "Tempe" → cleaned: "Tempe" → standardized: "tempeh"
Found existing product: "Tempe" (standardized: "tempeh")
🔍 Standardizing: "Tahu" (category: vegetables)
🔍 No similar product found for "Tahu" (best similarity: 0.542, threshold: 0.8)
🤖 Using GPT-4o for: "Tahu"
🎯 GPT-4o standardized: "Tahu" → "tofu"
💾 Saving reference product: tofu
➕ Added to reference base: "tofu" (category: vegetables)
Processing: "Tahu" → cleaned: "Tahu" → standardized: "tofu"
Found existing product: "Tahu" (standardized: "tofu")
🔍 Standardizing: "Lime" (category: vegetables)
🔍 No similar product found for "Lime" (best similarity: 0.430, threshold: 0.8)
🤖 Using GPT-4o for: "Lime"
🎯 GPT-4o standardized: "Lime" → "lime"
💾 Saving reference product: lime
➕ Added to reference base: "lime" (category: vegetables)
Processing: "Lime" → cleaned: "Lime" → standardized: "lime"
Found existing product: "Limo" (standardized: "lime")
🔍 Standardizing: "Lemon Import" (category: vegetables)
🔍 No similar product found for "Lemon Import" (best similarity: 0.732, threshold: 0.8)
🤖 Using GPT-4o for: "Lemon Import"
🎯 GPT-4o standardized: "Lemon Import" → "lemon import"
💾 Saving reference product: lemon import
➕ Added to reference base: "lemon import" (category: vegetables)
Processing: "Lemon Import" → cleaned: "Lemon Import" → standardized: "lemon import"
Found existing product: "Lemon import" (standardized: "lemon import")
🔍 Standardizing: "Leek" (category: vegetables)
🔍 No similar product found for "Leek" (best similarity: 0.533, threshold: 0.8)
🤖 Using GPT-4o for: "Leek"
🎯 GPT-4o standardized: "Leek" → "leek"
💾 Saving reference product: leek
➕ Added to reference base: "leek" (category: vegetables)
Processing: "Leek" → cleaned: "Leek" → standardized: "leek"
Found existing product: "Leek" (standardized: "leek")
🔍 Standardizing: "Gondo" (category: vegetables)
🔍 No similar product found for "Gondo" (best similarity: 0.324, threshold: 0.8)
🤖 Using GPT-4o for: "Gondo"
🎯 GPT-4o standardized: "Gondo" → "gourd"
💾 Saving reference product: gourd
➕ Added to reference base: "gourd" (category: vegetables)
Processing: "Gondo" → cleaned: "Gondo" → standardized: "gourd"
Created new product: "Gondo" (standardized: "gourd")
🔍 Standardizing: "Lettuce Curly" (category: vegetables)
🔍 No similar product found for "Lettuce Curly" (best similarity: 0.496, threshold: 0.8)
🤖 Using GPT-4o for: "Lettuce Curly"
🎯 GPT-4o standardized: "Lettuce Curly" → "lettuce curly"
💾 Saving reference product: lettuce curly
➕ Added to reference base: "lettuce curly" (category: vegetables)
Processing: "Lettuce Curly" → cleaned: "Lettuce Curly" → standardized: "lettuce curly"
Found existing product: "Lettuce Curly" (standardized: "lettuce curly")
🔍 Standardizing: "Lettuce Frisse" (category: vegetables)
🔍 No similar product found for "Lettuce Frisse" (best similarity: 0.759, threshold: 0.8)
🤖 Using GPT-4o for: "Lettuce Frisse"
🎯 GPT-4o standardized: "Lettuce Frisse" → "lettuce frisée"
💾 Saving reference product: lettuce frisée
➕ Added to reference base: "lettuce frisée" (category: vegetables)
Processing: "Lettuce Frisse" → cleaned: "Lettuce Frisse" → standardized: "lettuce frisée"
Found existing product: "Lettuce Frisse" (standardized: "lettuce frisée")
🔍 Standardizing: "Lettuce Iceberg" (category: vegetables)
🔍 No similar product found for "Lettuce Iceberg" (best similarity: 0.761, threshold: 0.8)
🤖 Using GPT-4o for: "Lettuce Iceberg"
🎯 GPT-4o standardized: "Lettuce Iceberg" → "lettuce iceberg"
💾 Saving reference product: lettuce iceberg
➕ Added to reference base: "lettuce iceberg" (category: vegetables)
Processing: "Lettuce Iceberg" → cleaned: "Lettuce Iceberg" → standardized: "lettuce iceberg"
Found existing product: "Lettuce Iceberg" (standardized: "lettuce iceberg")
🔍 Standardizing: "Lettuce Fenel" (category: vegetables)
🔍 No similar product found for "Lettuce Fenel" (best similarity: 0.751, threshold: 0.8)
🤖 Using GPT-4o for: "Lettuce Fenel"
🎯 GPT-4o standardized: "Lettuce Fenel" → "fennel lettuce"
💾 Saving reference product: fennel lettuce
➕ Added to reference base: "fennel lettuce" (category: vegetables)
Processing: "Lettuce Fenel" → cleaned: "Lettuce Fenel" → standardized: "fennel lettuce"
Created new product: "Lettuce Fenel" (standardized: "fennel lettuce")
🔍 Standardizing: "Lettuce Lollo Rose" (category: vegetables)
🔍 No similar product found for "Lettuce Lollo Rose" (best similarity: 0.717, threshold: 0.8)
🤖 Using GPT-4o for: "Lettuce Lollo Rose"
🎯 GPT-4o standardized: "Lettuce Lollo Rose" → "lettuce lollo rosso"
💾 Saving reference product: lettuce lollo rosso
➕ Added to reference base: "lettuce lollo rosso" (category: vegetables)
Processing: "Lettuce Lollo Rose" → cleaned: "Lettuce Lollo Rose" → standardized: "lettuce lollo rosso"
Found existing product: "lolorosso" (standardized: "lettuce lollo rosso")
🔍 Standardizing: "Lettuce Mix" (category: vegetables)
🔍 No similar product found for "Lettuce Mix" (best similarity: 0.774, threshold: 0.8)
🤖 Using GPT-4o for: "Lettuce Mix"
🎯 GPT-4o standardized: "Lettuce Mix" → "mix lettuce"
💾 Saving reference product: mix lettuce
➕ Added to reference base: "mix lettuce" (category: vegetables)
Processing: "Lettuce Mix" → cleaned: "Lettuce Mix" → standardized: "mix lettuce"
Created new product: "Lettuce Mix" (standardized: "mix lettuce")
🔍 Standardizing: "Lettuce Rucola" (category: vegetables)
🔍 No similar product found for "Lettuce Rucola" (best similarity: 0.741, threshold: 0.8)
🤖 Using GPT-4o for: "Lettuce Rucola"
🎯 GPT-4o standardized: "Lettuce Rucola" → "lettuce arugula"
💾 Saving reference product: lettuce arugula
➕ Added to reference base: "lettuce arugula" (category: vegetables)
Processing: "Lettuce Rucola" → cleaned: "Lettuce Rucola" → standardized: "lettuce arugula"
Found existing product: "Lettuce Rucola" (standardized: "lettuce arugula")
🔍 Standardizing: "Lettuce Radichio" (category: vegetables)
🎯 Found similar product: "Lettuce Radichio" → "lettuce arugula" (similarity: 0.823)
✅ Found via embedding: "Lettuce Radichio" → "lettuce arugula" (similarity: 0.823)
Processing: "Lettuce Radichio" → cleaned: "Lettuce Radichio" → standardized: "lettuce arugula"
Found existing product: "Lettuce Rucola" (standardized: "lettuce arugula")
🔍 Standardizing: "Lettuce Rocket" (category: vegetables)
🔍 No similar product found for "Lettuce Rocket" (best similarity: 0.765, threshold: 0.8)
🤖 Using GPT-4o for: "Lettuce Rocket"
🎯 GPT-4o standardized: "Lettuce Rocket" → "rocket lettuce"
💾 Saving reference product: rocket lettuce
➕ Added to reference base: "rocket lettuce" (category: vegetables)
Processing: "Lettuce Rocket" → cleaned: "Lettuce Rocket" → standardized: "rocket lettuce"
Created new product: "Lettuce Rocket" (standardized: "rocket lettuce")
🔍 Standardizing: "Lettuce Romain Baby" (category: vegetables)
🔍 No similar product found for "Lettuce Romain Baby" (best similarity: 0.716, threshold: 0.8)
🤖 Using GPT-4o for: "Lettuce Romain Baby"
🎯 GPT-4o standardized: "Lettuce Romain Baby" → "lettuce romaine baby"
💾 Saving reference product: lettuce romaine baby
➕ Added to reference base: "lettuce romaine baby" (category: vegetables)
Processing: "Lettuce Romain Baby" → cleaned: "Lettuce Romain Baby" → standardized: "lettuce romaine baby"
Found existing product: "Lettuce Romain baby" (standardized: "lettuce romaine baby")
🔍 Standardizing: "Masroom Simeji" (category: vegetables)
🔍 No similar product found for "Masroom Simeji" (best similarity: 0.344, threshold: 0.8)
🤖 Using GPT-4o for: "Masroom Simeji"
🎯 GPT-4o standardized: "Masroom Simeji" → "mushroom shimeji"
💾 Saving reference product: mushroom shimeji
➕ Added to reference base: "mushroom shimeji" (category: vegetables)
Processing: "Masroom Simeji" → cleaned: "Masroom Simeji" → standardized: "mushroom shimeji"
Found existing product: "Masroom Simeji" (standardized: "mushroom shimeji")
🔍 Standardizing: "Mushroom Button" (category: vegetables)
🔍 No similar product found for "Mushroom Button" (best similarity: 0.672, threshold: 0.8)
🤖 Using GPT-4o for: "Mushroom Button"
🎯 GPT-4o standardized: "Mushroom Button" → "mushroom button"
💾 Saving reference product: mushroom button
➕ Added to reference base: "mushroom button" (category: vegetables)
Processing: "Mushroom Button" → cleaned: "Mushroom Button" → standardized: "mushroom button"
Found existing product: "Mushroom Button" (standardized: "mushroom button")
🔍 Standardizing: "Mushroom Portabelo" (category: vegetables)
🔍 No similar product found for "Mushroom Portabelo" (best similarity: 0.651, threshold: 0.8)
🤖 Using GPT-4o for: "Mushroom Portabelo"
🎯 GPT-4o standardized: "Mushroom Portabelo" → "mushroom portobello"
💾 Saving reference product: mushroom portobello
➕ Added to reference base: "mushroom portobello" (category: vegetables)
Processing: "Mushroom Portabelo" → cleaned: "Mushroom Portabelo" → standardized: "mushroom portobello"
Found existing product: "Mushroom Portabelo" (standardized: "mushroom portobello")
🔍 Standardizing: "Mushroom Enoki" (category: vegetables)
🔍 No similar product found for "Mushroom Enoki" (best similarity: 0.725, threshold: 0.8)
🤖 Using GPT-4o for: "Mushroom Enoki"
🎯 GPT-4o standardized: "Mushroom Enoki" → "mushroom enoki"
💾 Saving reference product: mushroom enoki
➕ Added to reference base: "mushroom enoki" (category: vegetables)
Processing: "Mushroom Enoki" → cleaned: "Mushroom Enoki" → standardized: "mushroom enoki"
Found existing product: "Mushroom Enoki" (standardized: "mushroom enoki")
🔍 Standardizing: "Potato Medium and Big" (category: vegetables)
🔍 No similar product found for "Potato Medium and Big" (best similarity: 0.488, threshold: 0.8)
🤖 Using GPT-4o for: "Potato Medium and Big"
🎯 GPT-4o standardized: "Potato Medium and Big" → "potato medium big"
💾 Saving reference product: potato medium big
➕ Added to reference base: "potato medium big" (category: vegetables)
Processing: "Potato Medium and Big" → cleaned: "Potato Medium and Big" → standardized: "potato medium big"
Found existing product: "Potato Medium and Big" (standardized: "potato medium big")
🔍 Standardizing: "Potato baby" (category: vegetables)
🔍 No similar product found for "Potato baby" (best similarity: 0.658, threshold: 0.8)
🤖 Using GPT-4o for: "Potato baby"
🎯 GPT-4o standardized: "Potato baby" → "potato baby"
💾 Saving reference product: potato baby
➕ Added to reference base: "potato baby" (category: vegetables)
Processing: "Potato baby" → cleaned: "Potato baby" → standardized: "potato baby"
Found existing product: "Potato baby" (standardized: "potato baby")
🔍 Standardizing: "Potato Sweet" (category: vegetables)
🔍 No similar product found for "Potato Sweet" (best similarity: 0.721, threshold: 0.8)
🤖 Using GPT-4o for: "Potato Sweet"
🎯 GPT-4o standardized: "Potato Sweet" → "potato sweet"
💾 Saving reference product: potato sweet
➕ Added to reference base: "potato sweet" (category: vegetables)
Processing: "Potato Sweet" → cleaned: "Potato Sweet" → standardized: "potato sweet"
Found existing product: "Potato Sweet" (standardized: "potato sweet")
🔍 Standardizing: "Pumpkin" (category: vegetables)
🔍 No similar product found for "Pumpkin" (best similarity: 0.587, threshold: 0.8)
🤖 Using GPT-4o for: "Pumpkin"
🎯 GPT-4o standardized: "Pumpkin" → "pumpkin"
💾 Saving reference product: pumpkin
➕ Added to reference base: "pumpkin" (category: vegetables)
Processing: "Pumpkin" → cleaned: "Pumpkin" → standardized: "pumpkin"
Found existing product: "Pumpkin" (standardized: "pumpkin")
🔍 Standardizing: "Radish Red" (category: vegetables)
🔍 No similar product found for "Radish Red" (best similarity: 0.627, threshold: 0.8)
🤖 Using GPT-4o for: "Radish Red"
🎯 GPT-4o standardized: "Radish Red" → "radish red"
💾 Saving reference product: radish red
➕ Added to reference base: "radish red" (category: vegetables)
Processing: "Radish Red" → cleaned: "Radish Red" → standardized: "radish red"
Found existing product: "Radish Red" (standardized: "radish red")
🔍 Standardizing: "Radish White / Turnip" (category: vegetables)
🔍 No similar product found for "Radish White / Turnip" (best similarity: 0.772, threshold: 0.8)
🤖 Using GPT-4o for: "Radish White / Turnip"
🎯 GPT-4o standardized: "Radish White / Turnip" → "radish white"
💾 Saving reference product: radish white
➕ Added to reference base: "radish white" (category: vegetables)
Processing: "Radish White / Turnip" → cleaned: "Radish White / Turnip" → standardized: "radish white"
Found existing product: "Radish White / Turnip" (standardized: "radish white")
🔍 Standardizing: "Spinach lokal potong" (category: vegetables)
🔍 No similar product found for "Spinach lokal potong" (best similarity: 0.446, threshold: 0.8)
🤖 Using GPT-4o for: "Spinach lokal potong"
🎯 GPT-4o standardized: "Spinach lokal potong" → "spinach local cut"
💾 Saving reference product: spinach local cut
➕ Added to reference base: "spinach local cut" (category: vegetables)
Processing: "Spinach lokal potong" → cleaned: "Spinach lokal potong" → standardized: "spinach local cut"
Found existing product: "Spinach lokal potong" (standardized: "spinach local cut")
🔍 Standardizing: "Spinach Baby" (category: vegetables)
🔍 No similar product found for "Spinach Baby" (best similarity: 0.684, threshold: 0.8)
🤖 Using GPT-4o for: "Spinach Baby"
🎯 GPT-4o standardized: "Spinach Baby" → "spinach baby"
💾 Saving reference product: spinach baby
➕ Added to reference base: "spinach baby" (category: vegetables)
Processing: "Spinach Baby" → cleaned: "Spinach Baby" → standardized: "spinach baby"
Found existing product: "Spinach Baby" (standardized: "spinach baby")
🔍 Standardizing: "Spinach English / Horenso" (category: vegetables)
🔍 No similar product found for "Spinach English / Horenso" (best similarity: 0.626, threshold: 0.8)
🤖 Using GPT-4o for: "Spinach English / Horenso"
🎯 GPT-4o standardized: "Spinach English / Horenso" → "spinach horenso"
💾 Saving reference product: spinach horenso
➕ Added to reference base: "spinach horenso" (category: vegetables)
Processing: "Spinach English / Horenso" → cleaned: "Spinach English / Horenso" → standardized: "spinach horenso"
Created new product: "Spinach English / Horenso" (standardized: "spinach horenso")
🔍 Standardizing: "Kangkung" (category: vegetables)
🔍 No similar product found for "Kangkung" (best similarity: 0.341, threshold: 0.8)
🤖 Using GPT-4o for: "Kangkung"
🎯 GPT-4o standardized: "Kangkung" → "water spinach"
💾 Saving reference product: water spinach
➕ Added to reference base: "water spinach" (category: vegetables)
Processing: "Kangkung" → cleaned: "Kangkung" → standardized: "water spinach"
Found existing product: "Kangkung" (standardized: "water spinach")
🔍 Standardizing: "Telur ayam" (category: dairy)
🔍 No similar product found for "Telur ayam" (best similarity: 0.000, threshold: 0.8)
🤖 Using GPT-4o for: "Telur ayam"
🎯 GPT-4o standardized: "Telur ayam" → "egg chicken"
💾 Saving reference product: egg chicken
➕ Added to reference base: "egg chicken" (category: dairy)
Processing: "Telur ayam" → cleaned: "Telur ayam" → standardized: "egg chicken"
Found existing product: "Telur ayam" (standardized: "egg chicken")
🔍 Standardizing: "Tamarilo" (category: fruits)
🔍 No similar product found for "Tamarilo" (best similarity: 0.000, threshold: 0.8)
🤖 Using GPT-4o for: "Tamarilo"
🎯 GPT-4o standardized: "Tamarilo" → "tamarillo"
💾 Saving reference product: tamarillo
➕ Added to reference base: "tamarillo" (category: fruits)
Processing: "Tamarilo" → cleaned: "Tamarilo" → standardized: "tamarillo"
Found existing product: "Tamarilo" (standardized: "tamarillo")
🔍 Standardizing: "Tomato cherry red" (category: vegetables)
🔍 No similar product found for "Tomato cherry red" (best similarity: 0.549, threshold: 0.8)
🤖 Using GPT-4o for: "Tomato cherry red"
🎯 GPT-4o standardized: "Tomato cherry red" → "tomato cherry"
💾 Saving reference product: tomato cherry
➕ Added to reference base: "tomato cherry" (category: vegetables)
Processing: "Tomato cherry red" → cleaned: "Tomato cherry red" → standardized: "tomato cherry"
Found existing product: "Tomato cherry red" (standardized: "tomato cherry")
🔍 Standardizing: "Tomato" (category: vegetables)
🔍 No similar product found for "Tomato" (best similarity: 0.758, threshold: 0.8)
🤖 Using GPT-4o for: "Tomato"
🎯 GPT-4o standardized: "Tomato" → "tomato"
💾 Saving reference product: tomato
➕ Added to reference base: "tomato" (category: vegetables)
Processing: "Tomato" → cleaned: "Tomato" → standardized: "tomato"
Found existing product: "Tomato" (standardized: "tomato")
🔍 Standardizing: "Tomato cherry yellow" (category: vegetables)
🎯 Found similar product: "Tomato cherry yellow" → "tomato cherry" (similarity: 0.886)
✅ Found via embedding: "Tomato cherry yellow" → "tomato cherry" (similarity: 0.886)
Processing: "Tomato cherry yellow" → cleaned: "Tomato cherry yellow" → standardized: "tomato cherry"
Found existing product: "Tomato cherry red" (standardized: "tomato cherry")
🔍 Standardizing: "Kailan" (category: vegetables)
🔍 No similar product found for "Kailan" (best similarity: 0.383, threshold: 0.8)
🤖 Using GPT-4o for: "Kailan"
🎯 GPT-4o standardized: "Kailan" → "kale"
💾 Saving reference product: kale
➕ Added to reference base: "kale" (category: vegetables)
Processing: "Kailan" → cleaned: "Kailan" → standardized: "kale"
Found existing product: "Kailan" (standardized: "kale")
🔍 Standardizing: "Zucchini Green" (category: vegetables)
🔍 No similar product found for "Zucchini Green" (best similarity: 0.672, threshold: 0.8)
🤖 Using GPT-4o for: "Zucchini Green"
🎯 GPT-4o standardized: "Zucchini Green" → "zucchini green"
💾 Saving reference product: zucchini green
➕ Added to reference base: "zucchini green" (category: vegetables)
Processing: "Zucchini Green" → cleaned: "Zucchini Green" → standardized: "zucchini green"
Found existing product: "Zucchini Green" (standardized: "zucchini green")
🔍 Standardizing: "Zucchini Yellow" (category: vegetables)
🔍 No similar product found for "Zucchini Yellow" (best similarity: 0.774, threshold: 0.8)
🤖 Using GPT-4o for: "Zucchini Yellow"
🎯 GPT-4o standardized: "Zucchini Yellow" → "zucchini yellow"
💾 Saving reference product: zucchini yellow
➕ Added to reference base: "zucchini yellow" (category: vegetables)
Processing: "Zucchini Yellow" → cleaned: "Zucchini Yellow" → standardized: "zucchini yellow"
Found existing product: "Zucchini Yellow" (standardized: "zucchini yellow")
🔍 Standardizing: "Kale" (category: vegetables)
🎯 Found similar product: "Kale" → "kale" (similarity: 1.000)
✅ Found via embedding: "Kale" → "kale" (similarity: 1.000)
Processing: "Kale" → cleaned: "Kale" → standardized: "kale"
Found existing product: "Kailan" (standardized: "kale")
🔍 Standardizing: "Kelapa muda" (category: fruits)
🔍 No similar product found for "Kelapa muda" (best similarity: 0.225, threshold: 0.8)
🤖 Using GPT-4o for: "Kelapa muda"
🎯 GPT-4o standardized: "Kelapa muda" → "coconut young"
💾 Saving reference product: coconut young
➕ Added to reference base: "coconut young" (category: fruits)
Processing: "Kelapa muda" → cleaned: "Kelapa muda" → standardized: "coconut young"
Found existing product: "Kelapa muda" (standardized: "coconut young")
🔍 Standardizing: "Water Melon red" (category: fruits)
🔍 No similar product found for "Water Melon red" (best similarity: 0.438, threshold: 0.8)
🤖 Using GPT-4o for: "Water Melon red"
🎯 GPT-4o standardized: "Water Melon red" → "melon red"
💾 Saving reference product: melon red
➕ Added to reference base: "melon red" (category: fruits)
Processing: "Water Melon red" → cleaned: "Water Melon red" → standardized: "melon red"
Found existing product: "Water Melon red" (standardized: "melon red")
🔍 Standardizing: "Papaya" (category: fruits)
🔍 No similar product found for "Papaya" (best similarity: 0.441, threshold: 0.8)
🤖 Using GPT-4o for: "Papaya"
🎯 GPT-4o standardized: "Papaya" → "papaya"
💾 Saving reference product: papaya
➕ Added to reference base: "papaya" (category: fruits)
Processing: "Papaya" → cleaned: "Papaya" → standardized: "papaya"
Found existing product: "Papaya" (standardized: "papaya")
🔍 Standardizing: "Pineaple/ nanas super" (category: fruits)
🔍 No similar product found for "Pineaple/ nanas super" (best similarity: 0.465, threshold: 0.8)
🤖 Using GPT-4o for: "Pineaple/ nanas super"
🎯 GPT-4o standardized: "Pineaple/ nanas super" → "pineapple super"
💾 Saving reference product: pineapple super
➕ Added to reference base: "pineapple super" (category: fruits)
Processing: "Pineaple/ nanas super" → cleaned: "Pineaple/ nanas super" → standardized: "pineapple super"
Found existing product: "Pineapple / Nanas super" (standardized: "pineapple super")
🔍 Standardizing: "Avocado" (category: fruits)
🔍 No similar product found for "Avocado" (best similarity: 0.540, threshold: 0.8)
🤖 Using GPT-4o for: "Avocado"
🎯 GPT-4o standardized: "Avocado" → "avocado"
💾 Saving reference product: avocado
➕ Added to reference base: "avocado" (category: fruits)
Processing: "Avocado" → cleaned: "Avocado" → standardized: "avocado"
Found existing product: "Avocado" (standardized: "avocado")
🔍 Standardizing: "Arum Manis Manggo" (category: fruits)
🔍 No similar product found for "Arum Manis Manggo" (best similarity: 0.395, threshold: 0.8)
🤖 Using GPT-4o for: "Arum Manis Manggo"
 ✓ Compiled / in 7ms
 GET / 200 in 14ms
🎯 GPT-4o standardized: "Arum Manis Manggo" → "mango arum manis"
💾 Saving reference product: mango arum manis
➕ Added to reference base: "mango arum manis" (category: fruits)
Processing: "Arum Manis Manggo" → cleaned: "Arum Manis Manggo" → standardized: "mango arum manis"
Found existing product: "Arum Manis Mango" (standardized: "mango arum manis")
🔍 Standardizing: "Pisang Kepok" (category: fruits)
🔍 No similar product found for "Pisang Kepok" (best similarity: 0.449, threshold: 0.8)
🤖 Using GPT-4o for: "Pisang Kepok"
🎯 GPT-4o standardized: "Pisang Kepok" → "banana kepok"
💾 Saving reference product: banana kepok
➕ Added to reference base: "banana kepok" (category: fruits)
Processing: "Pisang Kepok" → cleaned: "Pisang Kepok" → standardized: "banana kepok"
Found existing product: "Pisang Kepok" (standardized: "banana kepok")
🔍 Standardizing: "Pisang raja" (category: fruits)
🔍 No similar product found for "Pisang raja" (best similarity: 0.463, threshold: 0.8)
🤖 Using GPT-4o for: "Pisang raja"
🎯 GPT-4o standardized: "Pisang raja" → "banana raja"
💾 Saving reference product: banana raja
➕ Added to reference base: "banana raja" (category: fruits)
Processing: "Pisang raja" → cleaned: "Pisang raja" → standardized: "banana raja"
Found existing product: "Pisang Raja" (standardized: "banana raja")
🔍 Standardizing: "Apel malang" (category: fruits)
🔍 No similar product found for "Apel malang" (best similarity: 0.374, threshold: 0.8)
🤖 Using GPT-4o for: "Apel malang"
🎯 GPT-4o standardized: "Apel malang" → "apple malang"
💾 Saving reference product: apple malang
➕ Added to reference base: "apple malang" (category: fruits)
Processing: "Apel malang" → cleaned: "Apel malang" → standardized: "apple malang"
Found existing product: "Apel Malang" (standardized: "apple malang")
🔍 Standardizing: "Buah Naga" (category: Other)
🔍 No similar product found for "Buah Naga" (best similarity: 0.203, threshold: 0.8)
🤖 Using GPT-4o for: "Buah Naga"
🎯 GPT-4o standardized: "Buah Naga" → "dragon fruit"
💾 Saving reference product: dragon fruit
➕ Added to reference base: "dragon fruit" (category: Other)
Processing: "Buah Naga" → cleaned: "Buah Naga" → standardized: "dragon fruit"
Found existing product: "Buah Naga" (standardized: "dragon fruit")
🔍 Standardizing: "Jeruk Sunkist" (category: Other)
🔍 No similar product found for "Jeruk Sunkist" (best similarity: 0.259, threshold: 0.8)
🤖 Using GPT-4o for: "Jeruk Sunkist"
🎯 GPT-4o standardized: "Jeruk Sunkist" → "orange sunkist"
💾 Saving reference product: orange sunkist
➕ Added to reference base: "orange sunkist" (category: Other)
Processing: "Jeruk Sunkist" → cleaned: "Jeruk Sunkist" → standardized: "orange sunkist"
Found existing product: "Jeruk Sunkist" (standardized: "orange sunkist")
🔍 Standardizing: "Pisang Hijau" (category: Other)
🔍 No similar product found for "Pisang Hijau" (best similarity: 0.437, threshold: 0.8)
🤖 Using GPT-4o for: "Pisang Hijau"
🎯 GPT-4o standardized: "Pisang Hijau" → "banana green"
💾 Saving reference product: banana green
➕ Added to reference base: "banana green" (category: Other)
Processing: "Pisang Hijau" → cleaned: "Pisang Hijau" → standardized: "banana green"
Found existing product: "Pisang Hijau" (standardized: "banana green")
🔍 Standardizing: "Markisa" (category: Other)
🔍 No similar product found for "Markisa" (best similarity: 0.267, threshold: 0.8)
🤖 Using GPT-4o for: "Markisa"
 GET / 200 in 69ms
 GET / 200 in 19ms
🎯 GPT-4o standardized: "Markisa" → "passionfruit"
💾 Saving reference product: passionfruit
➕ Added to reference base: "passionfruit" (category: Other)
Processing: "Markisa" → cleaned: "Markisa" → standardized: "passionfruit"
Created new product: "Markisa" (standardized: "passionfruit")
🔍 Standardizing: "Jeruk Tangerine" (category: Other)
🔍 No similar product found for "Jeruk Tangerine" (best similarity: 0.404, threshold: 0.8)
🤖 Using GPT-4o for: "Jeruk Tangerine"
🎯 GPT-4o standardized: "Jeruk Tangerine" → "tangerine jeruk"
💾 Saving reference product: tangerine jeruk
➕ Added to reference base: "tangerine jeruk" (category: Other)
Processing: "Jeruk Tangerine" → cleaned: "Jeruk Tangerine" → standardized: "tangerine jeruk"
Created new product: "Jeruk Tangerine" (standardized: "tangerine jeruk")
🔍 Standardizing: "Lime Lokal" (category: Other)
🔍 No similar product found for "Lime Lokal" (best similarity: 0.319, threshold: 0.8)
🤖 Using GPT-4o for: "Lime Lokal"
🎯 GPT-4o standardized: "Lime Lokal" → "lime local"
💾 Saving reference product: lime local
➕ Added to reference base: "lime local" (category: Other)
Processing: "Lime Lokal" → cleaned: "Lime Lokal" → standardized: "lime local"
Found existing product: "Lime Lokal" (standardized: "lime local")
🔍 Standardizing: "Melon Rock" (category: Other)
🔍 No similar product found for "Melon Rock" (best similarity: 0.453, threshold: 0.8)
🤖 Using GPT-4o for: "Melon Rock"
🎯 GPT-4o standardized: "Melon Rock" → "melon rock"
💾 Saving reference product: melon rock
➕ Added to reference base: "melon rock" (category: Other)
Processing: "Melon Rock" → cleaned: "Melon Rock" → standardized: "melon rock"
Found existing product: "Melon Rock" (standardized: "melon rock")
🔍 Standardizing: "Strowberry" (category: Other)
🔍 No similar product found for "Strowberry" (best similarity: 0.384, threshold: 0.8)
🤖 Using GPT-4o for: "Strowberry"
🎯 GPT-4o standardized: "Strowberry" → "strawberry"
💾 Saving reference product: strawberry
➕ Added to reference base: "strawberry" (category: Other)
Processing: "Strowberry" → cleaned: "Strowberry" → standardized: "strawberry"
Found existing product: "Strawberry" (standardized: "strawberry")
🔍 Standardizing: "Lemon Impor" (category: Other)
🔍 No similar product found for "Lemon Impor" (best similarity: 0.446, threshold: 0.8)
🤖 Using GPT-4o for: "Lemon Impor"
🎯 GPT-4o standardized: "Lemon Impor" → "lemon import"
💾 Saving reference product: lemon import
➕ Added to reference base: "lemon import" (category: Other)
Processing: "Lemon Impor" → cleaned: "Lemon Impor" → standardized: "lemon import"
Found existing product: "Lemon import" (standardized: "lemon import")
🔍 Standardizing: "Apel Fuji" (category: Other)
🔍 No similar product found for "Apel Fuji" (best similarity: 0.348, threshold: 0.8)
🤖 Using GPT-4o for: "Apel Fuji"
🎯 GPT-4o standardized: "Apel Fuji" → "apple fuji"
💾 Saving reference product: apple fuji
➕ Added to reference base: "apple fuji" (category: Other)
Processing: "Apel Fuji" → cleaned: "Apel Fuji" → standardized: "apple fuji"
Found existing product: "Apel Fuji" (standardized: "apple fuji")
🔍 Standardizing: "Guava" (category: Other)
🔍 No similar product found for "Guava" (best similarity: 0.507, threshold: 0.8)
🤖 Using GPT-4o for: "Guava"
🎯 GPT-4o standardized: "Guava" → "guava"
💾 Saving reference product: guava
➕ Added to reference base: "guava" (category: Other)
Processing: "Guava" → cleaned: "Guava" → standardized: "guava"
Found existing product: "Guava" (standardized: "guava")
🔍 Standardizing: "Kiwi" (category: Other)
🔍 No similar product found for "Kiwi" (best similarity: 0.425, threshold: 0.8)
🤖 Using GPT-4o for: "Kiwi"
🎯 GPT-4o standardized: "Kiwi" → "kiwi"
💾 Saving reference product: kiwi
➕ Added to reference base: "kiwi" (category: Other)
Processing: "Kiwi" → cleaned: "Kiwi" → standardized: "kiwi"
Found existing product: "Kiwi" (standardized: "kiwi")
🔍 Standardizing: "Melon Honey" (category: Other)
🔍 No similar product found for "Melon Honey" (best similarity: 0.472, threshold: 0.8)
🤖 Using GPT-4o for: "Melon Honey"
🎯 GPT-4o standardized: "Melon Honey" → "melon honey"
💾 Saving reference product: melon honey
➕ Added to reference base: "melon honey" (category: Other)
Processing: "Melon Honey" → cleaned: "Melon Honey" → standardized: "melon honey"
Found existing product: "Melon Honey" (standardized: "melon honey")
🔍 Standardizing: "Water Melon Yellow" (category: Other)
🔍 No similar product found for "Water Melon Yellow" (best similarity: 0.503, threshold: 0.8)
🤖 Using GPT-4o for: "Water Melon Yellow"
🎯 GPT-4o standardized: "Water Melon Yellow" → "melon yellow"
💾 Saving reference product: melon yellow
➕ Added to reference base: "melon yellow" (category: Other)
Processing: "Water Melon Yellow" → cleaned: "Water Melon Yellow" → standardized: "melon yellow"
Found existing product: "Water Melon Yellow" (standardized: "melon yellow")
🔍 Standardizing: "Sirsak" (category: Other)
🔍 No similar product found for "Sirsak" (best similarity: 0.275, threshold: 0.8)
🤖 Using GPT-4o for: "Sirsak"
🎯 GPT-4o standardized: "Sirsak" → "soursop"
💾 Saving reference product: soursop
➕ Added to reference base: "soursop" (category: Other)
Processing: "Sirsak" → cleaned: "Sirsak" → standardized: "soursop"
Found existing product: "Sirsak" (standardized: "soursop")
🔍 Standardizing: "Belimbing" (category: Other)
🔍 No similar product found for "Belimbing" (best similarity: 0.349, threshold: 0.8)
🤖 Using GPT-4o for: "Belimbing"
🎯 GPT-4o standardized: "Belimbing" → "starfruit"
💾 Saving reference product: starfruit
➕ Added to reference base: "starfruit" (category: Other)
Processing: "Belimbing" → cleaned: "Belimbing" → standardized: "starfruit"
Found existing product: "Belimbing" (standardized: "starfruit")
🔍 Standardizing: "Jackfruit" (category: Other)
🔍 No similar product found for "Jackfruit" (best similarity: 0.608, threshold: 0.8)
🤖 Using GPT-4o for: "Jackfruit"
🎯 GPT-4o standardized: "Jackfruit" → "jackfruit"
💾 Saving reference product: jackfruit
➕ Added to reference base: "jackfruit" (category: Other)
Processing: "Jackfruit" → cleaned: "Jackfruit" → standardized: "jackfruit"
Found existing product: "Jackfruit" (standardized: "jackfruit")
🔍 Standardizing: "Pear Hijau" (category: Other)
🔍 No similar product found for "Pear Hijau" (best similarity: 0.558, threshold: 0.8)
🤖 Using GPT-4o for: "Pear Hijau"
🎯 GPT-4o standardized: "Pear Hijau" → "pear green"
💾 Saving reference product: pear green
➕ Added to reference base: "pear green" (category: Other)
Processing: "Pear Hijau" → cleaned: "Pear Hijau" → standardized: "pear green"
Found existing product: "Pear Hijau" (standardized: "pear green")
🔍 Standardizing: "Pear Kuning" (category: Other)
🔍 No similar product found for "Pear Kuning" (best similarity: 0.472, threshold: 0.8)
🤖 Using GPT-4o for: "Pear Kuning"
🎯 GPT-4o standardized: "Pear Kuning" → "pear yellow"
💾 Saving reference product: pear yellow
➕ Added to reference base: "pear yellow" (category: Other)
Processing: "Pear Kuning" → cleaned: "Pear Kuning" → standardized: "pear yellow"
Found existing product: "Pear Kuning" (standardized: "pear yellow")
🔍 Standardizing: "Manggis" (category: Other)
🔍 No similar product found for "Manggis" (best similarity: 0.457, threshold: 0.8)
🤖 Using GPT-4o for: "Manggis"
🎯 GPT-4o standardized: "Manggis" → "mangosteen"
💾 Saving reference product: mangosteen
➕ Added to reference base: "mangosteen" (category: Other)
Processing: "Manggis" → cleaned: "Manggis" → standardized: "mangosteen"
Found existing product: "Manggis" (standardized: "mangosteen")
🔍 Standardizing: "Kelengkeng" (category: Other)
🔍 No similar product found for "Kelengkeng" (best similarity: 0.326, threshold: 0.8)
🤖 Using GPT-4o for: "Kelengkeng"
🎯 GPT-4o standardized: "Kelengkeng" → "longan"
💾 Saving reference product: longan
➕ Added to reference base: "longan" (category: Other)
Processing: "Kelengkeng" → cleaned: "Kelengkeng" → standardized: "longan"
Found existing product: "Kelengkeng" (standardized: "longan")
🔍 Standardizing: "Pamelo" (category: Other)
🔍 No similar product found for "Pamelo" (best similarity: 0.438, threshold: 0.8)
🤖 Using GPT-4o for: "Pamelo"
🎯 GPT-4o standardized: "Pamelo" → "pomelo"
💾 Saving reference product: pomelo
➕ Added to reference base: "pomelo" (category: Other)
Processing: "Pamelo" → cleaned: "Pamelo" → standardized: "pomelo"
Found existing product: "Pamelo" (standardized: "pomelo")
🔍 Standardizing: "Salak Pondoh" (category: Other)
🔍 No similar product found for "Salak Pondoh" (best similarity: 0.319, threshold: 0.8)
🤖 Using GPT-4o for: "Salak Pondoh"
🎯 GPT-4o standardized: "Salak Pondoh" → "snakefruit pondoh"
💾 Saving reference product: snakefruit pondoh
➕ Added to reference base: "snakefruit pondoh" (category: Other)
Processing: "Salak Pondoh" → cleaned: "Salak Pondoh" → standardized: "snakefruit pondoh"
Found existing product: "Salak Pondoh" (standardized: "snakefruit pondoh")
🔍 Standardizing: "Pumpkin" (category: Other)
🔍 No similar product found for "Pumpkin" (best similarity: 0.435, threshold: 0.8)
🤖 Using GPT-4o for: "Pumpkin"
🎯 GPT-4o standardized: "Pumpkin" → "pumpkin"
💾 Saving reference product: pumpkin
➕ Added to reference base: "pumpkin" (category: Other)
Processing: "Pumpkin" → cleaned: "Pumpkin" → standardized: "pumpkin"
Found existing product: "Pumpkin" (standardized: "pumpkin")
🔍 Standardizing: "Mangga Rujak" (category: Other)
🔍 No similar product found for "Mangga Rujak" (best similarity: 0.550, threshold: 0.8)
🤖 Using GPT-4o for: "Mangga Rujak"
🎯 GPT-4o standardized: "Mangga Rujak" → "mango rujak"
💾 Saving reference product: mango rujak
➕ Added to reference base: "mango rujak" (category: Other)
Processing: "Mangga Rujak" → cleaned: "Mangga Rujak" → standardized: "mango rujak"
Found existing product: "Mangga Rujak" (standardized: "mango rujak")
Successfully processed 131 products from DOC-20250428-WA0004..xlsx
Processing file cmbm7f64z000woust2lj94mj5 (5 remaining in queue)
Processing file: Island Organics Bali.pdf
Processing PDF: https://cdc1w79ssc4kg6xh.public.blob.vercel-storage.com/Island%20Organics%20Bali-ywWEuvZsODuKBVATgMUy9cXdN48q0B.pdf
PDF parsing failed, falling back to mock data: ReferenceError: DOMMatrix is not defined
    at <unknown> (.next/server/chunks/_8a34ee._.js:21:16)
    at async processPDF (app/services/fileProcessor.ts:120:23)
    at async processFile (app/services/fileProcessor.ts:50:22)
    at async processFileInBackground (app/api/upload-smart/route.ts:104:4)
    at async processQueueSequentially (app/api/upload-smart/route.ts:133:8)
  118 |       
  119 |       // Dynamic import of pdfjs-dist
> 120 |       const pdfjsLib = await import('pdfjs-dist');
      |                       ^
  121 |       
  122 |       // Load the PDF document
  123 |       const pdf = await pdfjsLib.getDocument({
Found existing supplier: Island Organics Bali
🔍 Standardizing: "Sample Product 1" (category: Other)
🔍 No similar product found for "Sample Product 1" (best similarity: 0.745, threshold: 0.8)
🤖 Using GPT-4o for: "Sample Product 1"
Rate limit hit for "Sample Product 1", retrying in 4000ms (attempt 1/3)
🎯 GPT-4o standardized: "Sample Product 1" → "product sample"
💾 Saving reference product: product sample
➕ Added to reference base: "product sample" (category: Other)
Processing: "Sample Product 1" → cleaned: "Sample Product 1" → standardized: "product sample"
Found existing product: "Sample Product 1" (standardized: "product sample")
🔍 Standardizing: "Sample Product 2" (category: Other)
🔍 No similar product found for "Sample Product 2" (best similarity: 0.719, threshold: 0.8)
🤖 Using GPT-4o for: "Sample Product 2"
🎯 GPT-4o standardized: "Sample Product 2" → "product sample"
💾 Saving reference product: product sample
➕ Added to reference base: "product sample" (category: Other)
Processing: "Sample Product 2" → cleaned: "Sample Product 2" → standardized: "product sample"
Found existing product: "Sample Product 2" (standardized: "product sample")
🔍 Standardizing: "Sample Product 3" (category: Other)
🔍 No similar product found for "Sample Product 3" (best similarity: 0.728, threshold: 0.8)
🤖 Using GPT-4o for: "Sample Product 3"
🎯 GPT-4o standardized: "Sample Product 3" → "product sample"
💾 Saving reference product: product sample
➕ Added to reference base: "product sample" (category: Other)
Processing: "Sample Product 3" → cleaned: "Sample Product 3" → standardized: "product sample"
Found existing product: "Sample Product 3" (standardized: "product sample")
Successfully processed 3 products from Island Organics Bali.pdf
Processing file cmbm7f6ou0011oustfj9ty9g1 (4 remaining in queue)
Processing file: LIST HARGA UD RAHAYU.xlsx
Processing Excel: https://cdc1w79ssc4kg6xh.public.blob.vercel-storage.com/LIST%20HARGA%20UD%20RAHAYU-JE3oaIN1B5WRrIsVeb76i05sBYhzqj.xlsx
Excel file has 3 sheets: list harga, dry good, Sheet3
Sheet "list harga": 105 rows with data
Sheet "dry good": 39 rows with data
Sheet "Sheet3": 0 rows with data
Found 2 sheets with data: list harga(105), dry good(39)
Processing sheet "list harga" with 105 rows...
Sheet "list harga": Processing 105 rows with data
Large sheet detected (105 rows), processing in chunks...
Processing chunk 1 with 30 rows...
Rate limit hit in extractWithAI, retrying in 4000ms (attempt 1/3)
 GET / 200 in 70ms
 GET / 200 in 13ms
Error parsing AI response: SyntaxError: Expected double-quoted property name in JSON at position 6348 (line 332 column 22)
    at JSON.parse (<anonymous>)
    at extractWithAI (app/services/fileProcessor.ts:610:20)
    at async processSheetData (app/services/fileProcessor.ts:234:28)
    at async processExcel (app/services/fileProcessor.ts:337:26)
    at async processFile (app/services/fileProcessor.ts:52:22)
    at async processFileInBackground (app/api/upload-smart/route.ts:104:4)
    at async processQueueSequentially (app/api/upload-smart/route.ts:133:8)
  608 |         }
  609 |         
> 610 |         return JSON.parse(cleanContent);
      |                    ^
  611 |       } catch (parseError) {
  612 |         console.error('Error parsing AI response:', parseError);
  613 |         console.error('AI Response:', content);
AI Response: ```json
{
  "supplier": {
    "name": "UD RAHAYU SUPPLIER&GROCERY DISTRIBUTOR"
  },
  "products": [
    {
      "name": "tomato super",
      "price": 20000,
      "unit": "kg",
      "category": "vegetable"
    },
    {
      "name": "baby romana",
      "price": 40000,
      "unit": "kg",
      "category": "vegetable"
    },
    {
      "name": "potato medium",
      "price": 20000,
      "unit": "kg",
      "category": "vegetable"
    },
    {
      "name": "romain",
      "price": 40000,
      "unit": "kg",
      "category": "vegetable"
    },
    {
      "name": "baby potato",
      "price": 20000,
      "unit": "kg",
      "category": "vegetable"
    },
    {
      "name": "frizee",
      "price": 45000,
      "unit": "kg",
      "category": "vegetable"
    },
    {
      "name": "red paprika",
      "price": 55000,
      "unit": "kg",
      "category": "vegetable"
    },
    {
      "name": "lolobionda",
      "price": 20000,
      "unit": "kg",
      "category": "vegetable"
    },
    {
      "name": "yellow paprika",
      "price": 65000,
      "unit": "kg",
      "category": "vegetable"
    },
    {
      "name": "lolorosso",
      "price": 140000,
      "unit": "kg",
      "category": "vegetable"
    },
    {
      "name": "green paprika",
      "price": 55000,
      "unit": "kg",
      "category": "vegetable"
    },
    {
      "name": "salada kriting merah",
      "price": 100000,
      "unit": "kg",
      "category": "vegetable"
    },
    {
      "name": "buttom mushroom",
      "price": 43000,
      "unit": "kg",
      "category": "vegetable"
    },
    {
      "name": "iceberg",
      "price": 43000,
      "unit": "kg",
      "category": "vegetable"
    },
    {
      "name": "oyster mushroom",
      "price": 30000,
      "unit": "kg",
      "category": "vegetable"
    },
    {
      "name": "english spinach",
      "price": 35000,
      "unit": "kg",
      "category": "vegetable"
    },
    {
      "name": "white cabbage",
      "price": 6000,
      "unit": "kg",
      "category": "vegetable"
    },
    {
      "name": "local spinach",
      "price": 15000,
      "unit": "kg",
      "category": "vegetable"
    },
    {
      "name": "baby buncis/string been",
      "price": 45000,
      "unit": "kg",
      "category": "vegetable"
    },
    {
      "name": "wild rocket",
      "price": 90000,
      "unit": "kg",
      "category": "vegetable"
    },
    {
      "name": "green bean",
      "price": 15000,
      "unit": "kg",
      "category": "vegetable"
    },
    {
      "name": "rucola",
      "price": 65000,
      "unit": "kg",
      "category": "vegetable"
    },
    {
      "name": "lemon import",
      "price": 38000,
      "unit": "kg",
      "category": "fruit"
    },
    {
      "name": "sayur hijau",
      "price": 14000,
      "unit": "ikat",
      "category": "vegetable"
    },
    {
      "name": "red onion import",
      "price": 110000,
      "unit": "kg",
      "category": "vegetable"
    },
    {
      "name": "pokcoy",
      "price": 18000,
      "unit": "kg",
      "category": "vegetable"
    },
    {
      "name": "white onion",
      "price": 38000,
      "unit": "kg",
      "category": "vegetable"
    },
    {
      "name": "lemon grass/sereh",
      "price": 18000,
      "unit": "kg",
      "category": "vegetable"
    },
    {
      "name": "cucumber jepang",
      "price": 10000,
      "unit": "kg",
      "category": "vegetable"
    },
    {
      "name": "leek jawa",
      "price": 25000,
      "unit": "kg",
      "category": "vegetable"
    },
    {
      "name": "eggplant",
      "price": 12000,
      "unit": "kg",
      "category": "vegetable"
    },
    {
      "name": "leek bali",
      "price": 25000,
      "unit": "kg",
      "category": "vegetable"
    },
    {
      "name": "green zucini",
      "price": 30000,
      "unit": "kg",
      "category": "vegetable"
    },
    {
      "name": "baby kailan",
      "price": 30000,
      "unit": "kg",
      "category": "vegetable"
    },
    {
      "name": "yellow zucini",
      "price": 60000,
      "unit": "kg",
      "category": "vegetable"
    },
    {
      "name": "kale nero",
      "price": 40000,
      "unit": "kg",
      "category": "vegetable"
    },
    {
      "name": "carrot import medium",
      "price": 22000,
      "unit": "kg",
      "category": "vegetable"
    },
    {
      "name": "kale curly",
      "price": 40000,
      "unit": "kg",
      "category": "vegetable"
    },
    {
      "name": "potato jumbo/glondong",
      "price": 25000,
      "unit": "kg",
      "category": "vegetable"
    },
    {
      "name": "mix lettuce",
      "price": 40000,
      "unit": "kg",
      "category": "vegetable"
    },
    {
      "name": "asparagus super",
      "price": 80000,
      "unit": "kg",
      "category": "vegetable"
    },
    {
      "name": "radicio",
      "price": 45000,
      "unit": "kg",
      "category": "vegetable"
    },
    {
      "name": "brocoli",
      "price": 40000,
      "unit": "kg",
      "category": "vegetable"
    },
    {
      "name": "sawi putih",
      "price": 10000,
      "unit": "kg",
      "category": "vegetable"
    },
    {
      "name": "coliflower",
      "price": 35000,
      "unit": "kg",
      "category": "vegetable"
    },
    {
      "name": "parsley italy",
      "price": 40000,
      "unit": "kg",
      "category": "vegetable"
    },
    {
      "name": "beesprout/toge",
      "price": 12000,
      "unit": "kg",
      "category": "vegetable"
    },
    {
      "name": "parsley",
      "price": 50000,
      "unit": "kg",
      "category": "vegetable"
    },
    {
      "name": "red cabbage",
      "price": 35000,
      "unit": "kg",
      "category": "vegetable"
    },
    {
      "name": "basil",
      "price": 130000,
      "unit": "kg",
      "category": "vegetable"
    },
    {
      "name": "potato super",
      "price": 24000,
      "unit": "kg",
      "category": "vegetable"
    },
    {
      "name": "cilantro/corriander",
      "price": 165000,
      "unit": "kg",
      "category": "vegetable"
    },
    {
      "name": "fennel",
      "price": 45000,
      "unit": "kg",
      "category": "vegetable"
    },
    {
      "name": "mint leaf",
      "price": 45000,
      "unit": "kg",
      "category": "vegetable"
    },
    {
      "name": "red cherry tomato",
      "price": 40000,
     
Processing chunk 2 with 30 rows...
Error parsing AI response: SyntaxError: Unterminated string in JSON at position 6256 (line 333 column 17)
    at JSON.parse (<anonymous>)
    at extractWithAI (app/services/fileProcessor.ts:610:20)
    at async processSheetData (app/services/fileProcessor.ts:234:28)
    at async processExcel (app/services/fileProcessor.ts:337:26)
    at async processFile (app/services/fileProcessor.ts:52:22)
    at async processFileInBackground (app/api/upload-smart/route.ts:104:4)
    at async processQueueSequentially (app/api/upload-smart/route.ts:133:8)
  608 |         }
  609 |         
> 610 |         return JSON.parse(cleanContent);
      |                    ^
  611 |       } catch (parseError) {
  612 |         console.error('Error parsing AI response:', parseError);
  613 |         console.error('AI Response:', content);
AI Response: ```json
{
  "supplier": {
    "name": "UD Rahayu"
  },
  "products": [
    {
      "name": "yellow cherry tomato",
      "price": 55000,
      "unit": "kg",
      "category": "vegetables"
    },
    {
      "name": "rosemary",
      "price": 110000,
      "unit": "kg",
      "category": "herbs"
    },
    {
      "name": "butter nut",
      "price": 20000,
      "unit": "kg",
      "category": "vegetables"
    },
    {
      "name": "oregano",
      "price": 110000,
      "unit": "kg",
      "category": "herbs"
    },
    {
      "name": "baby carrot",
      "price": 30000,
      "unit": "kg",
      "category": "vegetables"
    },
    {
      "name": "thyme",
      "price": 110000,
      "unit": "kg",
      "category": "herbs"
    },
    {
      "name": "beetroot",
      "price": 28000,
      "unit": "kg",
      "category": "vegetables"
    },
    {
      "name": "sage",
      "price": 90000,
      "unit": "kg",
      "category": "herbs"
    },
    {
      "name": "casava peeled",
      "price": 16000,
      "unit": "kg",
      "category": "vegetables"
    },
    {
      "name": "edible",
      "price": 25000,
      "unit": "pck"
    },
    {
      "name": "sweet potato",
      "price": 14000,
      "unit": "kg",
      "category": "vegetables"
    },
    {
      "name": "daun jeruk",
      "price": 60000,
      "unit": "kg",
      "category": "herbs"
    },
    {
      "name": "king oyster",
      "price": 20000,
      "unit": "pck",
      "category": "mushrooms"
    },
    {
      "name": "daun pandan iket kecil",
      "price": 3000,
      "unit": "ikat",
      "category": "herbs"
    },
    {
      "name": "pumpkin",
      "price": 8000,
      "unit": "kg",
      "category": "vegetables"
    },
    {
      "name": "daun salam iket kecil",
      "price": 2000,
      "unit": "ikat",
      "category": "herbs"
    },
    {
      "name": "okra",
      "price": 38000,
      "unit": "kg",
      "category": "vegetables"
    },
    {
      "name": "kemangi kecil",
      "price": 3000,
      "unit": "ikat",
      "category": "herbs"
    },
    {
      "name": "tomato ijo",
      "price": 20000,
      "unit": "kg",
      "category": "vegetables"
    },
    {
      "name": "kangkung potong",
      "price": 12000,
      "unit": "ikat",
      "category": "vegetables"
    },
    {
      "name": "sweet corn/jagung manis",
      "price": 8000,
      "unit": "pck",
      "category": "vegetables"
    },
    {
      "name": "kangkung akar",
      "price": 15000,
      "unit": "kg",
      "category": "vegetables"
    },
    {
      "name": "baby corn",
      "price": 40000,
      "unit": "kg",
      "category": "vegetables"
    },
    {
      "name": "bayam potong",
      "price": 15000,
      "unit": "kg",
      "category": "vegetables"
    },
    {
      "name": "tamarilo",
      "price": 25000,
      "unit": "kg",
      "category": "fruits"
    },
    {
      "name": "bayam akar",
      "price": 15000,
      "unit": "kg",
      "category": "vegetables"
    },
    {
      "name": "edamame",
      "price": 30000,
      "unit": "kg",
      "category": "vegetables"
    },
    {
      "name": "seledri",
      "price": 30000,
      "unit": "kg",
      "category": "herbs"
    },
    {
      "name": "kacang panjang",
      "price": 30000,
      "unit": "kg",
      "category": "vegetables"
    },
    {
      "name": "chive/kucai",
      "price": 40000,
      "unit": "kg",
      "category": "herbs"
    },
    {
      "name": "red radish",
      "price": 95000,
      "unit": "kg",
      "category": "vegetables"
    },
    {
      "name": "spring onion",
      "price": 45000,
      "unit": "kg",
      "category": "herbs"
    },
    {
      "name": "erchis",
      "price": 50000,
      "unit": "kg"
    },
    {
      "name": "kecombrong",
      "price": 15000,
      "unit": "kg"
    },
    {
      "name": "celery stick",
      "price": 40000,
      "unit": "kg",
      "category": "vegetables"
    },
    {
      "name": "daun singkong",
      "price": 5000,
      "unit": "ikat",
      "category": "vegetables"
    },
    {
      "name": "shitake mushroom",
      "price": 110000,
      "unit": "kg",
      "category": "mushrooms"
    },
    {
      "name": "daun pisang",
      "price": 5000,
      "unit": "lepit"
    },
    {
      "name": "simeji",
      "price": 15000,
      "unit": "pck",
      "category": "mushrooms"
    },
    {
      "name": "water cress bali",
      "price": 25000,
      "unit": "kg",
      "category": "vegetables"
    },
    {
      "name": "portobello",
      "price": 102000,
      "unit": "kg",
      "category": "mushrooms"
    },
    {
      "name": "taragon",
      "price": 110000,
      "unit": "kg",
      "category": "herbs"
    },
    {
      "name": "shallot peeled",
      "price": 55000,
      "unit": "kg",
      "category": "vegetables"
    },
    {
      "name": "white sugar",
      "price": 20000,
      "unit": "kg",
      "category": "dry goods"
    },
    {
      "name": "shallot whole",
      "price": 45000,
      "unit": "kg",
      "category": "vegetables"
    },
    {
      "name": "brown sugar",
      "price": 35000,
      "unit": "kg",
      "category": "dry goods"
    },
    {
      "name": "garlic peeled",
      "price": 50000,
      "unit": "kg",
      "category": "vegetables"
    },
    {
      "name": "gulaku hijau",
      "price": 23000,
      "unit": "kg",
      "category": "dry goods"
    },
    {
      "name": "garlic whole",
      "price": 40000,
      "unit": "kg",
      "category": "vegetables"
    },
    {
      "name": "salad oil lily",
      "price": 185000,
      "unit": "gln",
      "category": "dry goods"
    },
    {
      "name": "red hot chilli",
      "price": 40000,
      "unit": "kg",
      "category": "vegetables"
    },
    {
      "name": "cooking cream elle",
      "price": 160000,
      "unit": "ltr",
      "category": "dairy"
    },
    {
      "name": "green hot chilli/acar",
      "price": 30000,
      "unit": "kg",
      "category": "vegetables"
    },
    {
      "name": "susu diamond",
      "price": 25000,
      "unit": "ltr",
      "category": "dairy"
    },
    {
      "name": "long red chilli",
      "price": 30000,
      "unit": "kg",
      "category": "vegetables"
    },
    {
      "name": "s
Processing chunk 3 with 30 rows...
Rate limit hit in extractWithAI, retrying in 4000ms (attempt 1/3)
Rate limit hit in extractWithAI, retrying in 8000ms (attempt 2/3)
Processing chunk 4 with 15 rows...
Rate limit hit in extractWithAI, retrying in 4000ms (attempt 1/3)
Sheet "list harga": Merged 4 chunks into 60 products
Processing sheet "dry good" with 39 rows...
Sheet "dry good": Processing 39 rows with data
Sheet "dry good": Processing 39 rows with AI...
Rate limit hit in extractWithAI, retrying in 4000ms (attempt 1/3)
Rate limit hit in extractWithAI, retrying in 8000ms (attempt 2/3)
 GET /api/uploads/status?status=pending 200 in 638ms
Rate limit hit in extractWithAI, retrying in 16000ms (attempt 3/3)
Error with AI extraction (attempt 3): Error: 429 Rate limit reached for gpt-4o in organization org-Qhmib7o6Zoebm2czJSYcPjJQ on tokens per min (TPM): Limit 30000, Used 29287, Requested 1782. Please try again in 2.138s. Visit https://platform.openai.com/account/rate-limits to learn more.
    at async extractWithAI (app/services/fileProcessor.ts:587:23)
    at async processSheetData (app/services/fileProcessor.ts:272:11)
    at async processExcel (app/services/fileProcessor.ts:337:26)
    at async processFile (app/services/fileProcessor.ts:52:22)
    at async processFileInBackground (app/api/upload-smart/route.ts:104:4)
    at async processQueueSequentially (app/api/upload-smart/route.ts:133:8)
  585 |       await new Promise(resolve => setTimeout(resolve, 500));
  586 |       
> 587 |       const response = await openai.chat.completions.create({
      |                       ^
  588 |         model: 'gpt-4o',
  589 |         max_tokens: 2000, // Ограничиваем токены для экономии
  590 |         messages: [{ role: 'user', content: prompt }], {
  status: 429,
  headers: Headers {
    date: 'Sat, 07 Jun 2025 12:31:47 GMT',
    'content-type': 'application/json; charset=utf-8',
    'content-length': '372',
    connection: 'keep-alive',
    'retry-after': '3',
    'retry-after-ms': '2138',
    vary: 'Origin',
    'x-ratelimit-limit-requests': '500',
    'x-ratelimit-limit-tokens': '30000',
    'x-ratelimit-remaining-requests': '499',
    'x-ratelimit-remaining-tokens': '713',
    'x-ratelimit-reset-requests': '120ms',
    'x-ratelimit-reset-tokens': '58.573s',
    'x-request-id': 'req_09efe08c8000e3d1fb43217bdf499878',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'cf-cache-status': 'DYNAMIC',
    'set-cookie': '__cf_bm=c0A1tIZAMR8m7c3eT8Z2cHKrk6hk0v6PicTPZNti0_g-1749299507-1.0.1.1-EkTtsEjCtHS2bk2hOBJ2Idye2UsqxIE3QXVEisaOGAsJi__Fnsn8VN6mp1myz5_kKcVgilVGGeMdT0w_NzQnwx1xfM06rnUWj77iTjLrH7Q; path=/; expires=Sat, 07-Jun-25 13:01:47 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None, _cfuvid=W37OcdNMWl6dit4nMdw4rXYg05s6yk4Rt0BYVba3O40-1749299507944-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None',
    'x-content-type-options': 'nosniff',
    server: 'cloudflare',
    'cf-ray': '94c02b22fca5c02e-DPS',
    'alt-svc': 'h3=":443"; ma=86400'
  },
  requestID: 'req_09efe08c8000e3d1fb43217bdf499878',
  error: [Object],
  code: 'rate_limit_exceeded',
  param: null,
  type: 'tokens'
}
Max retries reached in extractWithAI, returning empty result
Processed 2 sheets, extracted 60 total products
Found existing supplier: UD RAHAYU SUPPLIER&GROCERY DISTRIBUTOR
Document indicates supplier "UD Rahayu" but upload was assigned to different supplier. Using detected supplier.
🔍 Standardizing: "ginger" (category: vegetables)
🔍 No similar product found for "ginger" (best similarity: 0.528, threshold: 0.8)
🤖 Using GPT-4o for: "ginger"
🎯 GPT-4o standardized: "ginger" → "ginger"
💾 Saving reference product: ginger
➕ Added to reference base: "ginger" (category: vegetables)
Processing: "ginger" → cleaned: "ginger" → standardized: "ginger"
Found existing product: "Ginger (Jahe)" (standardized: "ginger")
🔍 Standardizing: "plastik@2kg" (category: Other)
🔍 No similar product found for "plastik@2kg" (best similarity: 0.282, threshold: 0.8)
🤖 Using GPT-4o for: "plastik@2kg"
🎯 GPT-4o standardized: "plastik@2kg" → "plastic"
💾 Saving reference product: plastic
➕ Added to reference base: "plastic" (category: Other)
Processing: "plastik@2kg" → cleaned: "plastik@2kg" → standardized: "plastic"
Found existing product: "plastik@1kg" (standardized: "plastic")
🔍 Standardizing: "tumeric/kunyit" (category: vegetables)
🔍 No similar product found for "tumeric/kunyit" (best similarity: 0.727, threshold: 0.8)
🤖 Using GPT-4o for: "tumeric/kunyit"
🎯 GPT-4o standardized: "tumeric/kunyit" → "turmeric"
💾 Saving reference product: turmeric
➕ Added to reference base: "turmeric" (category: vegetables)
Processing: "tumeric/kunyit" → cleaned: "tumeric/kunyit" → standardized: "turmeric"
Found existing product: "Turmeric" (standardized: "turmeric")
🔍 Standardizing: "plastik sampah u/90x100" (category: Other)
🔍 No similar product found for "plastik sampah u/90x100" (best similarity: 0.534, threshold: 0.8)
🤖 Using GPT-4o for: "plastik sampah u/90x100"
🎯 GPT-4o standardized: "plastik sampah u/90x100" → "trash bag 90x100"
💾 Saving reference product: trash bag 90x100
➕ Added to reference base: "trash bag 90x100" (category: Other)
Processing: "plastik sampah u/90x100" → cleaned: "plastik sampah u/90x100" → standardized: "trash bag 90x100"
Created new product: "plastik sampah u/90x100" (standardized: "trash bag 90x100")
🔍 Standardizing: "lengkuas" (category: vegetables)
🔍 No similar product found for "lengkuas" (best similarity: 0.403, threshold: 0.8)
🤖 Using GPT-4o for: "lengkuas"
🎯 GPT-4o standardized: "lengkuas" → "galangal"
💾 Saving reference product: galangal
➕ Added to reference base: "galangal" (category: vegetables)
Processing: "lengkuas" → cleaned: "lengkuas" → standardized: "galangal"
Found existing product: "Galangal" (standardized: "galangal")
🔍 Standardizing: "whipping cream anchor" (category: dairy)
🔍 No similar product found for "whipping cream anchor" (best similarity: 0.220, threshold: 0.8)
🤖 Using GPT-4o for: "whipping cream anchor"
🎯 GPT-4o standardized: "whipping cream anchor" → "cream whipping"
💾 Saving reference product: cream whipping
➕ Added to reference base: "cream whipping" (category: dairy)
Processing: "whipping cream anchor" → cleaned: "whipping cream anchor" → standardized: "cream whipping"
Created new product: "whipping cream anchor" (standardized: "cream whipping")
🔍 Standardizing: "kemiri/candle nut" (category: nuts)
🔍 No similar product found for "kemiri/candle nut" (best similarity: 0.000, threshold: 0.8)
🤖 Using GPT-4o for: "kemiri/candle nut"
🎯 GPT-4o standardized: "kemiri/candle nut" → "nut candle"
💾 Saving reference product: nut candle
➕ Added to reference base: "nut candle" (category: nuts)
Processing: "kemiri/candle nut" → cleaned: "kemiri/candle nut" → standardized: "nut candle"
Found existing product: "Candlenut/ Kemiri" (standardized: "nut candle")
🔍 Standardizing: "telor besar" (category: dairy)
🔍 No similar product found for "telor besar" (best similarity: 0.393, threshold: 0.8)
🤖 Using GPT-4o for: "telor besar"
🎯 GPT-4o standardized: "telor besar" → "egg large"
💾 Saving reference product: egg large
➕ Added to reference base: "egg large" (category: dairy)
Processing: "telor besar" → cleaned: "telor besar" → standardized: "egg large"
Created new product: "telor besar" (standardized: "egg large")
🔍 Standardizing: "pala/nutmeg" (category: spices)
🔍 No similar product found for "pala/nutmeg" (best similarity: 0.000, threshold: 0.8)
🤖 Using GPT-4o for: "pala/nutmeg"
🎯 GPT-4o standardized: "pala/nutmeg" → "nutmeg"
💾 Saving reference product: nutmeg
➕ Added to reference base: "nutmeg" (category: spices)
Processing: "pala/nutmeg" → cleaned: "pala/nutmeg" → standardized: "nutmeg"
Found existing product: "nutmeg/pala" (standardized: "nutmeg")
🔍 Standardizing: "coocking cream milac gold" (category: dairy)
🔍 No similar product found for "coocking cream milac gold" (best similarity: 0.423, threshold: 0.8)
🤖 Using GPT-4o for: "coocking cream milac gold"
🎯 GPT-4o standardized: "coocking cream milac gold" → "cream cooking"
💾 Saving reference product: cream cooking
➕ Added to reference base: "cream cooking" (category: dairy)
Processing: "coocking cream milac gold" → cleaned: "coocking cream milac gold" → standardized: "cream cooking"
Found existing product: "cooking cream elle" (standardized: "cream cooking")
🔍 Standardizing: "kacang tanah" (category: nuts)
🔍 No similar product found for "kacang tanah" (best similarity: 0.237, threshold: 0.8)
🤖 Using GPT-4o for: "kacang tanah"
🎯 GPT-4o standardized: "kacang tanah" → "peanut"
💾 Saving reference product: peanut
➕ Added to reference base: "peanut" (category: nuts)
Processing: "kacang tanah" → cleaned: "kacang tanah" → standardized: "peanut"
Found existing product: "kacang tanah" (standardized: "peanut")
🔍 Standardizing: "cooking cream anchor" (category: dairy)
🔍 No similar product found for "cooking cream anchor" (best similarity: 0.649, threshold: 0.8)
🤖 Using GPT-4o for: "cooking cream anchor"
🎯 GPT-4o standardized: "cooking cream anchor" → "cream cooking"
💾 Saving reference product: cream cooking
➕ Added to reference base: "cream cooking" (category: dairy)
Processing: "cooking cream anchor" → cleaned: "cooking cream anchor" → standardized: "cream cooking"
Found existing product: "cooking cream elle" (standardized: "cream cooking")
🔍 Standardizing: "cashew nut/mente" (category: nuts)
🔍 No similar product found for "cashew nut/mente" (best similarity: 0.435, threshold: 0.8)
🤖 Using GPT-4o for: "cashew nut/mente"
🎯 GPT-4o standardized: "cashew nut/mente" → "nut cashew"
💾 Saving reference product: nut cashew
➕ Added to reference base: "nut cashew" (category: nuts)
Processing: "cashew nut/mente" → cleaned: "cashew nut/mente" → standardized: "nut cashew"
Found existing product: "Cashew Nut/ mente" (standardized: "nut cashew")
🔍 Standardizing: "tepung segitiga biru" (category: dry goods)
🔍 No similar product found for "tepung segitiga biru" (best similarity: 0.000, threshold: 0.8)
🤖 Using GPT-4o for: "tepung segitiga biru"
🎯 GPT-4o standardized: "tepung segitiga biru" → "flour all-purpose"
💾 Saving reference product: flour all-purpose
➕ Added to reference base: "flour all-purpose" (category: dry goods)
Processing: "tepung segitiga biru" → cleaned: "tepung segitiga biru" → standardized: "flour all-purpose"
Created new product: "tepung segitiga biru" (standardized: "flour all-purpose")
🔍 Standardizing: "krupuk udang finna/pck" (category: snacks)
🔍 No similar product found for "krupuk udang finna/pck" (best similarity: 0.000, threshold: 0.8)
🤖 Using GPT-4o for: "krupuk udang finna/pck"
🎯 GPT-4o standardized: "krupuk udang finna/pck" → "cracker shrimp"
💾 Saving reference product: cracker shrimp
➕ Added to reference base: "cracker shrimp" (category: snacks)
Processing: "krupuk udang finna/pck" → cleaned: "krupuk udang finna/pck" → standardized: "cracker shrimp"
Created new product: "krupuk udang finna/pck" (standardized: "cracker shrimp")
🔍 Standardizing: "bread crumb" (category: dry goods)
🔍 No similar product found for "bread crumb" (best similarity: 0.432, threshold: 0.8)
🤖 Using GPT-4o for: "bread crumb"
🎯 GPT-4o standardized: "bread crumb" → "crumb bread"
💾 Saving reference product: crumb bread
➕ Added to reference base: "crumb bread" (category: dry goods)
Processing: "bread crumb" → cleaned: "bread crumb" → standardized: "crumb bread"
Found existing product: "bread crumb" (standardized: "crumb bread")
🔍 Standardizing: "garam bali" (category: spices)
🔍 No similar product found for "garam bali" (best similarity: 0.318, threshold: 0.8)
🤖 Using GPT-4o for: "garam bali"
🎯 GPT-4o standardized: "garam bali" → "spice garam"
💾 Saving reference product: spice garam
➕ Added to reference base: "spice garam" (category: spices)
Processing: "garam bali" → cleaned: "garam bali" → standardized: "spice garam"
Created new product: "garam bali" (standardized: "spice garam")
🔍 Standardizing: "santan kara" (category: dairy)
🔍 No similar product found for "santan kara" (best similarity: 0.200, threshold: 0.8)
🤖 Using GPT-4o for: "santan kara"
🎯 GPT-4o standardized: "santan kara" → "coconut milk"
💾 Saving reference product: coconut milk
➕ Added to reference base: "coconut milk" (category: dairy)
Processing: "santan kara" → cleaned: "santan kara" → standardized: "coconut milk"
Found existing product: "santan kara" (standardized: "coconut milk")
🔍 Standardizing: "santan kara/200ml" (category: dairy)
🔍 No similar product found for "santan kara/200ml" (best similarity: 0.336, threshold: 0.8)
🤖 Using GPT-4o for: "santan kara/200ml"
🎯 GPT-4o standardized: "santan kara/200ml" → "coconut milk"
💾 Saving reference product: coconut milk
➕ Added to reference base: "coconut milk" (category: dairy)
Processing: "santan kara/200ml" → cleaned: "santan kara/200ml" → standardized: "coconut milk"
Found existing product: "santan kara/200ml" (standardized: "coconut milk")
🔍 Standardizing: "santan kara/65ml" (category: dairy)
🔍 No similar product found for "santan kara/65ml" (best similarity: 0.308, threshold: 0.8)
🤖 Using GPT-4o for: "santan kara/65ml"
🎯 GPT-4o standardized: "santan kara/65ml" → "coconut milk"
💾 Saving reference product: coconut milk
➕ Added to reference base: "coconut milk" (category: dairy)
Processing: "santan kara/65ml" → cleaned: "santan kara/65ml" → standardized: "coconut milk"
Found existing product: "santan kara/65ml" (standardized: "coconut milk")
🔍 Standardizing: "tepung kobe" (category: dry goods)
🔍 No similar product found for "tepung kobe" (best similarity: 0.239, threshold: 0.8)
🤖 Using GPT-4o for: "tepung kobe"
🎯 GPT-4o standardized: "tepung kobe" → "flour"
💾 Saving reference product: flour
➕ Added to reference base: "flour" (category: dry goods)
Processing: "tepung kobe" → cleaned: "tepung kobe" → standardized: "flour"
Found existing product: "tepung kobe" (standardized: "flour")
🔍 Standardizing: "baking powder royal" (category: dry goods)
🔍 No similar product found for "baking powder royal" (best similarity: 0.453, threshold: 0.8)
🤖 Using GPT-4o for: "baking powder royal"
🎯 GPT-4o standardized: "baking powder royal" → "powder baking"
💾 Saving reference product: powder baking
➕ Added to reference base: "powder baking" (category: dry goods)
Processing: "baking powder royal" → cleaned: "baking powder royal" → standardized: "powder baking"
Found existing product: "baking powder royal" (standardized: "powder baking")
🔍 Standardizing: "cocoa powder van houten" (category: dry goods)
🔍 No similar product found for "cocoa powder van houten" (best similarity: 0.549, threshold: 0.8)
🤖 Using GPT-4o for: "cocoa powder van houten"
🎯 GPT-4o standardized: "cocoa powder van houten" → "powder cocoa"
💾 Saving reference product: powder cocoa
➕ Added to reference base: "powder cocoa" (category: dry goods)
Processing: "cocoa powder van houten" → cleaned: "cocoa powder van houten" → standardized: "powder cocoa"
Found existing product: "cocoa powder van houten" (standardized: "powder cocoa")
🔍 Standardizing: "bawang goreng biasa" (category: vegetables)
🔍 No similar product found for "bawang goreng biasa" (best similarity: 0.451, threshold: 0.8)
🤖 Using GPT-4o for: "bawang goreng biasa"
🎯 GPT-4o standardized: "bawang goreng biasa" → "onion fried"
💾 Saving reference product: onion fried
➕ Added to reference base: "onion fried" (category: vegetables)
Processing: "bawang goreng biasa" → cleaned: "bawang goreng biasa" → standardized: "onion fried"
Found existing product: "bawang goreng biasa" (standardized: "onion fried")
🔍 Standardizing: "bawang goreng asli" (category: vegetables)
🔍 No similar product found for "bawang goreng asli" (best similarity: 0.474, threshold: 0.8)
🤖 Using GPT-4o for: "bawang goreng asli"
 GET /api/uploads/status?status=pending&limit=5 200 in 291ms
🎯 GPT-4o standardized: "bawang goreng asli" → "onion fried"
💾 Saving reference product: onion fried
➕ Added to reference base: "onion fried" (category: vegetables)
Processing: "bawang goreng asli" → cleaned: "bawang goreng asli" → standardized: "onion fried"
Found existing product: "bawang goreng biasa" (standardized: "onion fried")
🔍 Standardizing: "cocoa powder merah" (category: dry goods)
🔍 No similar product found for "cocoa powder merah" (best similarity: 0.677, threshold: 0.8)
🤖 Using GPT-4o for: "cocoa powder merah"
🎯 GPT-4o standardized: "cocoa powder merah" → "powder cocoa red"
💾 Saving reference product: powder cocoa red
➕ Added to reference base: "powder cocoa red" (category: dry goods)
Processing: "cocoa powder merah" → cleaned: "cocoa powder merah" → standardized: "powder cocoa red"
Found existing product: "cocoa powder merah" (standardized: "powder cocoa red")
🔍 Standardizing: "vanilla essence kecil" (category: spices)
🔍 No similar product found for "vanilla essence kecil" (best similarity: 0.416, threshold: 0.8)
🤖 Using GPT-4o for: "vanilla essence kecil"
🎯 GPT-4o standardized: "vanilla essence kecil" → "essence vanilla"
💾 Saving reference product: essence vanilla
➕ Added to reference base: "essence vanilla" (category: spices)
Processing: "vanilla essence kecil" → cleaned: "vanilla essence kecil" → standardized: "essence vanilla"
Found existing product: "vanilla essence kecil" (standardized: "essence vanilla")
🔍 Standardizing: "french fries shotring" (category: snacks)
🔍 No similar product found for "french fries shotring" (best similarity: 0.328, threshold: 0.8)
🤖 Using GPT-4o for: "french fries shotring"
📚 Loading reference products from database...
 GET /api/embedding/stats 200 in 36ms
🎯 GPT-4o standardized: "french fries shotring" → "fry potato"
Error loading reference products: Error [PrismaClientValidationError]: 
Invalid `prisma.product.findMany()` invocation in
/Users/denisdomashenko/monito-web/.next/server/chunks/[root of the server]__17a0c6._.js:199:59

  196 try {
  197     console.log('📚 Loading reference products from database...');
  198     // Загружаем из БД существующие стандартизированные продукты
→ 199     const existingProducts = await prisma.product.findMany({
            select: {
              id: true,
              standardizedName: true,
              category: true,
              name: true
            },
            where: {
              standardizedName: {
          +     not: String
              }
            }
          })

Argument `not` must not be null.
    at <unknown> (app/services/embeddingService.ts:181:52)
    at async EmbeddingService.loadReferenceProducts (app/services/embeddingService.ts:181:31)
  179 |       
  180 |       // Загружаем из БД существующие стандартизированные продукты
> 181 |       const existingProducts = await prisma.product.findMany({
      |                                                    ^
  182 |         select: {
  183 |           id: true,
  184 |           standardizedName: true, {
  clientVersion: '6.9.0'
}
🏗️ Initializing basic reference base...
💾 Saving reference product: fry potato
➕ Added to reference base: "fry potato" (category: snacks)
Processing: "french fries shotring" → cleaned: "french fries shotring" → standardized: "fry potato"
Created new product: "french fries shotring" (standardized: "fry potato")
🔍 Standardizing: "french fries straight cut" (category: snacks)
🔍 No similar product found for "french fries straight cut" (best similarity: 0.573, threshold: 0.8)
🤖 Using GPT-4o for: "french fries straight cut"
✅ Initialized 24 basic reference products
🎯 GPT-4o standardized: "french fries straight cut" → "potato fry straight cut"
💾 Saving reference product: potato fry straight cut
➕ Added to reference base: "potato fry straight cut" (category: snacks)
Processing: "french fries straight cut" → cleaned: "french fries straight cut" → standardized: "potato fry straight cut"
Found existing product: "french fries straight cut" (standardized: "potato fry straight cut")
🔍 Standardizing: "krupuk udang los" (category: snacks)
🔍 No similar product found for "krupuk udang los" (best similarity: 0.444, threshold: 0.8)
🤖 Using GPT-4o for: "krupuk udang los"
🎯 GPT-4o standardized: "krupuk udang los" → "cracker shrimp"
💾 Saving reference product: cracker shrimp
➕ Added to reference base: "cracker shrimp" (category: snacks)
Processing: "krupuk udang los" → cleaned: "krupuk udang los" → standardized: "cracker shrimp"
Created new product: "krupuk udang los" (standardized: "cracker shrimp")
🔍 Standardizing: "cumin powder" (category: spices)
🔍 No similar product found for "cumin powder" (best similarity: 0.477, threshold: 0.8)
🤖 Using GPT-4o for: "cumin powder"
🎯 GPT-4o standardized: "cumin powder" → "powder cumin"
💾 Saving reference product: powder cumin
➕ Added to reference base: "powder cumin" (category: spices)
Processing: "cumin powder" → cleaned: "cumin powder" → standardized: "powder cumin"
Created new product: "cumin powder" (standardized: "powder cumin")
🔍 Standardizing: "chilli powder" (category: spices)
🔍 No similar product found for "chilli powder" (best similarity: 0.608, threshold: 0.8)
🤖 Using GPT-4o for: "chilli powder"
🎯 GPT-4o standardized: "chilli powder" → "powder chili"
💾 Saving reference product: powder chili
➕ Added to reference base: "powder chili" (category: spices)
Processing: "chilli powder" → cleaned: "chilli powder" → standardized: "powder chili"
Created new product: "chilli powder" (standardized: "powder chili")
🔍 Standardizing: "Tepung cakra" (category: dry goods)
🔍 No similar product found for "Tepung cakra" (best similarity: 0.280, threshold: 0.8)
🤖 Using GPT-4o for: "Tepung cakra"
🎯 GPT-4o standardized: "Tepung cakra" → "flour cakra"
💾 Saving reference product: flour cakra
➕ Added to reference base: "flour cakra" (category: dry goods)
Processing: "Tepung cakra" → cleaned: "Tepung cakra" → standardized: "flour cakra"
Found existing product: "tepung cakra" (standardized: "flour cakra")
🔍 Standardizing: "chick pea" (category: dry goods)
🔍 No similar product found for "chick pea" (best similarity: 0.341, threshold: 0.8)
🤖 Using GPT-4o for: "chick pea"
🎯 GPT-4o standardized: "chick pea" → "pea chick"
💾 Saving reference product: pea chick
➕ Added to reference base: "pea chick" (category: dry goods)
Processing: "chick pea" → cleaned: "chick pea" → standardized: "pea chick"
Found existing product: "chick pea" (standardized: "pea chick")
🔍 Standardizing: "strawberry grade A" (category: fruits)
🔍 No similar product found for "strawberry grade A" (best similarity: 0.402, threshold: 0.8)
🤖 Using GPT-4o for: "strawberry grade A"
🎯 GPT-4o standardized: "strawberry grade A" → "strawberry grade a"
💾 Saving reference product: strawberry grade a
➕ Added to reference base: "strawberry grade a" (category: fruits)
Processing: "strawberry grade A" → cleaned: "strawberry grade A" → standardized: "strawberry grade a"
Found existing product: "Strawberry Grade A" (standardized: "strawberry grade a")
🔍 Standardizing: "green apple smith" (category: fruits)
🔍 No similar product found for "green apple smith" (best similarity: 0.391, threshold: 0.8)
🤖 Using GPT-4o for: "green apple smith"
🎯 GPT-4o standardized: "green apple smith" → "apple green smith"
💾 Saving reference product: apple green smith
➕ Added to reference base: "apple green smith" (category: fruits)
Processing: "green apple smith" → cleaned: "green apple smith" → standardized: "apple green smith"
Found existing product: "Apple Green Smith Biasa/Asli" (standardized: "apple green smith")
🔍 Standardizing: "avocado" (category: fruits)
🎯 Found similar product: "avocado" → "avocado" (similarity: 1.000)
✅ Found via embedding: "avocado" → "avocado" (similarity: 1.000)
Processing: "avocado" → cleaned: "avocado" → standardized: "avocado"
Found existing product: "Avocado" (standardized: "avocado")
🔍 Standardizing: "jeruk lumajang besar" (category: fruits)
🔍 No similar product found for "jeruk lumajang besar" (best similarity: 0.357, threshold: 0.8)
🤖 Using GPT-4o for: "jeruk lumajang besar"
🎯 GPT-4o standardized: "jeruk lumajang besar" → "orange lumajang large"
💾 Saving reference product: orange lumajang large
➕ Added to reference base: "orange lumajang large" (category: fruits)
Processing: "jeruk lumajang besar" → cleaned: "jeruk lumajang besar" → standardized: "orange lumajang large"
Found existing product: "jeruk lumajang besar" (standardized: "orange lumajang large")
🔍 Standardizing: "apple malang" (category: Other)
🔍 No similar product found for "apple malang" (best similarity: 0.419, threshold: 0.8)
🤖 Using GPT-4o for: "apple malang"
🎯 GPT-4o standardized: "apple malang" → "apple malang"
💾 Saving reference product: apple malang
➕ Added to reference base: "apple malang" (category: Other)
Processing: "apple malang" → cleaned: "apple malang" → standardized: "apple malang"
Found existing product: "Apel Malang" (standardized: "apple malang")
🔍 Standardizing: "lime" (category: Other)
🔍 No similar product found for "lime" (best similarity: 0.550, threshold: 0.8)
🤖 Using GPT-4o for: "lime"
🎯 GPT-4o standardized: "lime" → "lime"
💾 Saving reference product: lime
➕ Added to reference base: "lime" (category: Other)
Processing: "lime" → cleaned: "lime" → standardized: "lime"
Found existing product: "Limo" (standardized: "lime")
🔍 Standardizing: "apple manalagi super" (category: Other)
🔍 No similar product found for "apple manalagi super" (best similarity: 0.567, threshold: 0.8)
🤖 Using GPT-4o for: "apple manalagi super"
🎯 GPT-4o standardized: "apple manalagi super" → "apple manalagi"
💾 Saving reference product: apple manalagi
➕ Added to reference base: "apple manalagi" (category: Other)
Processing: "apple manalagi super" → cleaned: "apple manalagi super" → standardized: "apple manalagi"
Found existing product: "Apple Manalagi" (standardized: "apple manalagi")
🔍 Standardizing: "mangga arumanis" (category: Other)
🔍 No similar product found for "mangga arumanis" (best similarity: 0.503, threshold: 0.8)
🤖 Using GPT-4o for: "mangga arumanis"
🎯 GPT-4o standardized: "mangga arumanis" → "mango arumanis"
💾 Saving reference product: mango arumanis
➕ Added to reference base: "mango arumanis" (category: Other)
Processing: "mangga arumanis" → cleaned: "mangga arumanis" → standardized: "mango arumanis"
Found existing product: "mangga arumanis" (standardized: "mango arumanis")
🔍 Standardizing: "melon" (category: Other)
🔍 No similar product found for "melon" (best similarity: 0.549, threshold: 0.8)
🤖 Using GPT-4o for: "melon"
🎯 GPT-4o standardized: "melon" → "melon"
💾 Saving reference product: melon
➕ Added to reference base: "melon" (category: Other)
Processing: "melon" → cleaned: "melon" → standardized: "melon"
Found existing product: "melon" (standardized: "melon")
🔍 Standardizing: "black grape" (category: Other)
🔍 No similar product found for "black grape" (best similarity: 0.463, threshold: 0.8)
🤖 Using GPT-4o for: "black grape"
🎯 GPT-4o standardized: "black grape" → "grape black"
💾 Saving reference product: grape black
➕ Added to reference base: "grape black" (category: Other)
Processing: "black grape" → cleaned: "black grape" → standardized: "grape black"
Found existing product: "Grapes Black" (standardized: "grape black")
🔍 Standardizing: "papaya thailand" (category: Other)
🔍 No similar product found for "papaya thailand" (best similarity: 0.461, threshold: 0.8)
🤖 Using GPT-4o for: "papaya thailand"
🎯 GPT-4o standardized: "papaya thailand" → "papaya thailand"
💾 Saving reference product: papaya thailand
➕ Added to reference base: "papaya thailand" (category: Other)
Processing: "papaya thailand" → cleaned: "papaya thailand" → standardized: "papaya thailand"
Found existing product: "Pepaya thailand" (standardized: "papaya thailand")
🔍 Standardizing: "belimbing" (category: Other)
🔍 No similar product found for "belimbing" (best similarity: 0.379, threshold: 0.8)
🤖 Using GPT-4o for: "belimbing"
🎯 GPT-4o standardized: "belimbing" → "starfruit"
💾 Saving reference product: starfruit
➕ Added to reference base: "starfruit" (category: Other)
Processing: "belimbing" → cleaned: "belimbing" → standardized: "starfruit"
Found existing product: "Belimbing" (standardized: "starfruit")
🔍 Standardizing: "papaya california" (category: Other)
🔍 No similar product found for "papaya california" (best similarity: 0.687, threshold: 0.8)
🤖 Using GPT-4o for: "papaya california"
🎯 GPT-4o standardized: "papaya california" → "papaya california"
💾 Saving reference product: papaya california
➕ Added to reference base: "papaya california" (category: Other)
Processing: "papaya california" → cleaned: "papaya california" → standardized: "papaya california"
Found existing product: "papaya california" (standardized: "papaya california")
🔍 Standardizing: "salak bali" (category: Other)
🔍 No similar product found for "salak bali" (best similarity: 0.445, threshold: 0.8)
🤖 Using GPT-4o for: "salak bali"
🎯 GPT-4o standardized: "salak bali" → "snakefruit bali"
💾 Saving reference product: snakefruit bali
➕ Added to reference base: "snakefruit bali" (category: Other)
Processing: "salak bali" → cleaned: "salak bali" → standardized: "snakefruit bali"
Found existing product: "Salak Bali" (standardized: "snakefruit bali")
🔍 Standardizing: "pisang cavendish" (category: Other)
🔍 No similar product found for "pisang cavendish" (best similarity: 0.465, threshold: 0.8)
🤖 Using GPT-4o for: "pisang cavendish"
🎯 GPT-4o standardized: "pisang cavendish" → "banana cavendish"
💾 Saving reference product: banana cavendish
➕ Added to reference base: "banana cavendish" (category: Other)
Processing: "pisang cavendish" → cleaned: "pisang cavendish" → standardized: "banana cavendish"
Found existing product: "Banana Cavendis" (standardized: "banana cavendish")
🔍 Standardizing: "nanas besar super" (category: Other)
🔍 No similar product found for "nanas besar super" (best similarity: 0.426, threshold: 0.8)
🤖 Using GPT-4o for: "nanas besar super"
🎯 GPT-4o standardized: "nanas besar super" → "pineapple large"
💾 Saving reference product: pineapple large
➕ Added to reference base: "pineapple large" (category: Other)
Processing: "nanas besar super" → cleaned: "nanas besar super" → standardized: "pineapple large"
Found existing product: "nanas besar super" (standardized: "pineapple large")
🔍 Standardizing: "kurma" (category: Other)
🔍 No similar product found for "kurma" (best similarity: 0.359, threshold: 0.8)
🤖 Using GPT-4o for: "kurma"
🎯 GPT-4o standardized: "kurma" → "date"
💾 Saving reference product: date
➕ Added to reference base: "date" (category: Other)
Processing: "kurma" → cleaned: "kurma" → standardized: "date"
Found existing product: "kurma" (standardized: "date")
🔍 Standardizing: "semangka besar" (category: Other)
🔍 No similar product found for "semangka besar" (best similarity: 0.506, threshold: 0.8)
🤖 Using GPT-4o for: "semangka besar"
🎯 GPT-4o standardized: "semangka besar" → "watermelon large"
💾 Saving reference product: watermelon large
➕ Added to reference base: "watermelon large" (category: Other)
Processing: "semangka besar" → cleaned: "semangka besar" → standardized: "watermelon large"
Found existing product: "semangka besar" (standardized: "watermelon large")
🔍 Standardizing: "apple fuji grade A" (category: Other)
🎯 Found similar product: "apple fuji grade A" → "apple fuji" (similarity: 0.845)
✅ Found via embedding: "apple fuji grade A" → "apple fuji" (similarity: 0.845)
Processing: "apple fuji grade A" → cleaned: "apple fuji grade A" → standardized: "apple fuji"
Found existing product: "Apel Fuji" (standardized: "apple fuji")
🔍 Standardizing: "red apple USA" (category: Other)
🔍 No similar product found for "red apple USA" (best similarity: 0.476, threshold: 0.8)
🤖 Using GPT-4o for: "red apple USA"
🎯 GPT-4o standardized: "red apple USA" → "apple red"
💾 Saving reference product: apple red
➕ Added to reference base: "apple red" (category: Other)
Processing: "red apple USA" → cleaned: "red apple USA" → standardized: "apple red"
Found existing product: "Apple Red" (standardized: "apple red")
🔍 Standardizing: "sunkist" (category: Other)
🔍 No similar product found for "sunkist" (best similarity: 0.613, threshold: 0.8)
🤖 Using GPT-4o for: "sunkist"
🎯 GPT-4o standardized: "sunkist" → "orange"
💾 Saving reference product: orange
➕ Added to reference base: "orange" (category: Other)
Processing: "sunkist" → cleaned: "sunkist" → standardized: "orange"
Created new product: "sunkist" (standardized: "orange")
🔍 Standardizing: "pisang ambon jumbo" (category: Other)
🔍 No similar product found for "pisang ambon jumbo" (best similarity: 0.475, threshold: 0.8)
🤖 Using GPT-4o for: "pisang ambon jumbo"
🎯 GPT-4o standardized: "pisang ambon jumbo" → "banana jumbo"
💾 Saving reference product: banana jumbo
➕ Added to reference base: "banana jumbo" (category: Other)
Processing: "pisang ambon jumbo" → cleaned: "pisang ambon jumbo" → standardized: "banana jumbo"
Found existing product: "pisang ambon jumbo" (standardized: "banana jumbo")
🔍 Standardizing: "markisa" (category: Other)
🔍 No similar product found for "markisa" (best similarity: 0.334, threshold: 0.8)
🤖 Using GPT-4o for: "markisa"
🎯 GPT-4o standardized: "markisa" → "passion fruit"
💾 Saving reference product: passion fruit
➕ Added to reference base: "passion fruit" (category: Other)
Processing: "markisa" → cleaned: "markisa" → standardized: "passion fruit"
Found existing product: "Markisa" (standardized: "passion fruit")
🔍 Standardizing: "kiwi" (category: Other)
🎯 Found similar product: "kiwi" → "kiwi" (similarity: 1.000)
✅ Found via embedding: "kiwi" → "kiwi" (similarity: 1.000)
Processing: "kiwi" → cleaned: "kiwi" → standardized: "kiwi"
Found existing product: "Kiwi" (standardized: "kiwi")
🔍 Standardizing: "dragon fruit" (category: Other)
🎯 Found similar product: "dragon fruit" → "dragon fruit" (similarity: 1.000)
✅ Found via embedding: "dragon fruit" → "dragon fruit" (similarity: 1.000)
Processing: "dragon fruit" → cleaned: "dragon fruit" → standardized: "dragon fruit"
Found existing product: "Buah Naga" (standardized: "dragon fruit")
🔍 Standardizing: "red anggur import" (category: Other)
🔍 No similar product found for "red anggur import" (best similarity: 0.480, threshold: 0.8)
🤖 Using GPT-4o for: "red anggur import"
🎯 GPT-4o standardized: "red anggur import" → "grape red import"
💾 Saving reference product: grape red import
➕ Added to reference base: "grape red import" (category: Other)
Processing: "red anggur import" → cleaned: "red anggur import" → standardized: "grape red import"
Found existing product: "red anggur import" (standardized: "grape red import")
Successfully processed 60 products from LIST HARGA UD RAHAYU.xlsx
Processing file cmbm7fbxs0016oustrit9t4ew (3 remaining in queue)
Processing file: Oka veg supplier.xlsx
Processing Excel: https://cdc1w79ssc4kg6xh.public.blob.vercel-storage.com/Oka%20veg%20supplier-WC0cI4zJvHuFw09x6nzijhDgrEWi5N.xlsx
Excel file has 477 sheets: Chart85, Chart84, Chart83, Chart82, Chart81, Chart80, Chart79, Chart78, Chart77, Chart76, Chart75, Chart74, Chart73, Chart72, Chart71, Chart70, Chart69, Chart68, Chart67, Chart66, Chart65, Chart64, Chart63, Chart62, Chart61, Chart60, Chart59, Chart58, Chart57, Chart56, Chart55, Chart54, Chart53, Chart52, Chart51, Chart50, Chart49, Chart48, Chart47, Chart46, Chart45, Chart44, Chart43, Chart42, Chart41, Chart40, Chart39, Chart38, Chart37, Chart36, Chart35, Chart34, Chart33, Chart32, Chart31, Chart30, Chart29, Chart28, Chart27, Chart26, Chart25, Chart24, Chart23, Chart22, Chart21, Chart20, Chart19, Chart18, Chart17, Chart16, Chart15, Chart14, Chart13, Chart12, Chart11, Chart10, Chart9, Chart8, Chart7, Chart6, Chart5, Chart4, Chart3, Chart2, Chart1, Chart94, Chart93, Chart92, Chart91, Chart90, Chart89, Chart88, Chart87, Chart86, Macro2, Macro1, Chart472, Chart471, Chart470, Chart469, Chart468, Chart467, Chart466, Chart465, Chart464, Chart463, Chart462, Chart461, Chart460, Chart459, Chart458, Chart457, Chart456, Chart455, Chart454, Chart453, Chart452, Chart451, Chart450, Chart449, Chart448, Chart447, Chart446, Chart445, Chart444, Chart443, Chart442, Chart441, Chart440, Chart439, Chart438, Chart437, Chart436, Chart435, Chart434, Chart433, Chart432, Chart431, Chart430, Chart429, Chart428, Chart427, Chart426, Chart425, Chart424, Chart423, Chart422, Chart421, Chart420, Chart419, Chart418, Chart417, Chart416, Chart415, Chart414, Chart413, Chart412, Chart411, Chart410, Chart409, Chart408, Chart407, Chart406, Chart405, Chart404, Chart403, Chart402, Chart401, Chart400, Chart399, Chart398, Chart397, Chart396, Chart395, Chart394, Chart393, Chart392, Chart391, Chart390, Chart389, Chart388, Chart387, Chart386, Chart385, Chart384, Chart383, Chart382, Chart381, Chart380, Chart379, Chart378, Chart377, Chart376, Chart375, Chart374, Chart373, Chart372, Chart371, Chart370, Chart369, Chart368, Chart367, Chart366, Chart365, Chart364, Chart363, Chart362, Chart361, Chart360, Chart359, Chart358, Chart357, Chart356, Chart355, Chart354, Chart353, Chart352, Chart351, Chart350, Chart349, Chart348, Chart347, Chart346, Chart345, Chart344, Chart343, Chart342, Chart341, Chart340, Chart339, Chart338, Chart337, Chart336, Chart335, Chart334, Chart333, Chart332, Chart331, Chart330, Chart329, Chart328, Chart327, Chart326, Chart325, Chart324, Chart323, Chart322, Chart321, Chart320, Chart319, Chart318, Chart317, Chart316, Chart315, Chart314, Chart313, Chart312, Chart311, Chart310, Chart309, Chart308, Chart307, Chart306, Chart305, Chart304, Chart303, Chart302, Chart301, Chart300, Chart299, Chart298, Chart297, Chart296, Chart295, Chart294, Chart293, Chart292, Chart291, Chart290, Chart289, Chart288, Chart287, Chart286, Chart285, Chart284, Chart283, Chart282, Chart281, Chart280, Chart279, Chart278, Chart277, Chart276, Chart275, Chart274, Chart273, Chart272, Chart271, Chart270, Chart269, Chart268, Chart267, Chart266, Chart265, Chart264, Chart263, Chart262, Chart261, Chart260, Chart259, Chart258, Chart257, Chart256, Chart255, Chart254, Chart253, Chart252, Chart251, Chart250, Chart249, Chart248, Chart247, Chart246, Chart245, Chart244, Chart243, Chart242, Chart241, Chart240, Chart239, Chart238, Chart237, Chart236, Chart235, Chart234, Chart233, Chart232, Chart231, Chart230, Chart229, Chart228, Chart227, Chart226, Chart225, Chart224, Chart223, Chart222, Chart221, Chart220, Chart219, Chart218, Chart217, Chart216, Chart215, Chart214, Chart213, Chart212, Chart211, Chart210, Chart209, Chart208, Chart207, Chart206, Chart205, Chart204, Chart203, Chart202, Chart201, Chart200, Chart199, Chart198, Chart197, Chart196, Chart195, Chart194, Chart193, Chart192, Chart191, Chart190, Chart189, Chart188, Chart187, Chart186, Chart185, Chart184, Chart183, Chart182, Chart181, Chart180, Chart179, Chart178, Chart177, Chart176, Chart175, Chart174, Chart173, Chart172, Chart171, Chart170, Chart169, Chart168, Chart167, Chart166, Chart165, Chart164, Chart163, Chart162, Chart161, Chart160, Chart159, Chart158, Chart157, Chart156, Chart155, Chart154, Chart153, Chart152, Chart151, Chart150, Chart149, Chart148, Chart147, Chart146, Chart145, Chart144, Chart143, Chart142, Chart141, Chart140, Chart139, Chart138, Chart137, Chart136, Chart135, Chart134, Chart133, Chart132, Chart131, Chart130, Chart129, Chart128, Chart127, Chart126, Chart125, Chart124, Chart123, Chart122, Chart121, Chart120, Chart119, Chart118, Chart117, Chart116, Chart115, Chart114, Chart113, Chart112, Chart111, Chart110, Chart109, Chart108, Chart107, Chart106, Chart105, Chart104, Chart103, Chart102, Chart101, Chart100, Chart99, Chart98, Chart97, Chart96, Chart95, Sheet1, Sheet2, Sheet3
Sheet "Chart85": 0 rows with data
Sheet "Chart84": 0 rows with data
Sheet "Chart83": 0 rows with data
Sheet "Chart82": 0 rows with data
Sheet "Chart81": 0 rows with data
Sheet "Chart80": 0 rows with data
Sheet "Chart79": 0 rows with data
Sheet "Chart78": 0 rows with data
Sheet "Chart77": 0 rows with data
Sheet "Chart76": 0 rows with data
Sheet "Chart75": 0 rows with data
Sheet "Chart74": 0 rows with data
Sheet "Chart73": 0 rows with data
Sheet "Chart72": 0 rows with data
Sheet "Chart71": 0 rows with data
Sheet "Chart70": 0 rows with data
Sheet "Chart69": 0 rows with data
Sheet "Chart68": 0 rows with data
Sheet "Chart67": 0 rows with data
Sheet "Chart66": 0 rows with data
Sheet "Chart65": 0 rows with data
Sheet "Chart64": 0 rows with data
Sheet "Chart63": 0 rows with data
Sheet "Chart62": 0 rows with data
Sheet "Chart61": 0 rows with data
Sheet "Chart60": 0 rows with data
Sheet "Chart59": 0 rows with data
Sheet "Chart58": 0 rows with data
Sheet "Chart57": 0 rows with data
Sheet "Chart56": 0 rows with data
Sheet "Chart55": 0 rows with data
Sheet "Chart54": 0 rows with data
Sheet "Chart53": 0 rows with data
Sheet "Chart52": 0 rows with data
Sheet "Chart51": 0 rows with data
Sheet "Chart50": 0 rows with data
Sheet "Chart49": 0 rows with data
Sheet "Chart48": 0 rows with data
Sheet "Chart47": 0 rows with data
Sheet "Chart46": 0 rows with data
Sheet "Chart45": 0 rows with data
Sheet "Chart44": 0 rows with data
Sheet "Chart43": 0 rows with data
Sheet "Chart42": 0 rows with data
Sheet "Chart41": 0 rows with data
Sheet "Chart40": 0 rows with data
Sheet "Chart39": 0 rows with data
Sheet "Chart38": 0 rows with data
Sheet "Chart37": 0 rows with data
Sheet "Chart36": 0 rows with data
Sheet "Chart35": 0 rows with data
Sheet "Chart34": 0 rows with data
Sheet "Chart33": 0 rows with data
Sheet "Chart32": 0 rows with data
Sheet "Chart31": 0 rows with data
Sheet "Chart30": 0 rows with data
Sheet "Chart29": 0 rows with data
Sheet "Chart28": 0 rows with data
Sheet "Chart27": 0 rows with data
Sheet "Chart26": 0 rows with data
Sheet "Chart25": 0 rows with data
Sheet "Chart24": 0 rows with data
Sheet "Chart23": 0 rows with data
Sheet "Chart22": 0 rows with data
Sheet "Chart21": 0 rows with data
Sheet "Chart20": 0 rows with data
Sheet "Chart19": 0 rows with data
Sheet "Chart18": 0 rows with data
Sheet "Chart17": 0 rows with data
Sheet "Chart16": 0 rows with data
Sheet "Chart15": 0 rows with data
Sheet "Chart14": 0 rows with data
Sheet "Chart13": 0 rows with data
Sheet "Chart12": 0 rows with data
Sheet "Chart11": 0 rows with data
Sheet "Chart10": 0 rows with data
Sheet "Chart9": 0 rows with data
Sheet "Chart8": 0 rows with data
Sheet "Chart7": 0 rows with data
Sheet "Chart6": 0 rows with data
Sheet "Chart5": 0 rows with data
Sheet "Chart4": 0 rows with data
Sheet "Chart3": 0 rows with data
Sheet "Chart2": 0 rows with data
Sheet "Chart1": 0 rows with data
Sheet "Chart94": 0 rows with data
Sheet "Chart93": 0 rows with data
Sheet "Chart92": 0 rows with data
Sheet "Chart91": 0 rows with data
Sheet "Chart90": 0 rows with data
Sheet "Chart89": 0 rows with data
Sheet "Chart88": 0 rows with data
Sheet "Chart87": 0 rows with data
Sheet "Chart86": 0 rows with data
Sheet "Macro2": 0 rows with data
Sheet "Macro1": 0 rows with data
Sheet "Chart472": 0 rows with data
Sheet "Chart471": 0 rows with data
Sheet "Chart470": 0 rows with data
Sheet "Chart469": 0 rows with data
Sheet "Chart468": 0 rows with data
Sheet "Chart467": 0 rows with data
Sheet "Chart466": 0 rows with data
Sheet "Chart465": 0 rows with data
Sheet "Chart464": 0 rows with data
Sheet "Chart463": 0 rows with data
Sheet "Chart462": 0 rows with data
Sheet "Chart461": 0 rows with data
Sheet "Chart460": 0 rows with data
Sheet "Chart459": 0 rows with data
Sheet "Chart458": 0 rows with data
Sheet "Chart457": 0 rows with data
Sheet "Chart456": 0 rows with data
Sheet "Chart455": 0 rows with data
Sheet "Chart454": 0 rows with data
Sheet "Chart453": 0 rows with data
Sheet "Chart452": 0 rows with data
Sheet "Chart451": 0 rows with data
Sheet "Chart450": 0 rows with data
Sheet "Chart449": 0 rows with data
Sheet "Chart448": 0 rows with data
Sheet "Chart447": 0 rows with data
Sheet "Chart446": 0 rows with data
Sheet "Chart445": 0 rows with data
Sheet "Chart444": 0 rows with data
Sheet "Chart443": 0 rows with data
Sheet "Chart442": 0 rows with data
Sheet "Chart441": 0 rows with data
Sheet "Chart440": 0 rows with data
Sheet "Chart439": 0 rows with data
Sheet "Chart438": 0 rows with data
Sheet "Chart437": 0 rows with data
Sheet "Chart436": 0 rows with data
Sheet "Chart435": 0 rows with data
Sheet "Chart434": 0 rows with data
Sheet "Chart433": 0 rows with data
Sheet "Chart432": 0 rows with data
Sheet "Chart431": 0 rows with data
Sheet "Chart430": 0 rows with data
Sheet "Chart429": 0 rows with data
Sheet "Chart428": 0 rows with data
Sheet "Chart427": 0 rows with data
Sheet "Chart426": 0 rows with data
Sheet "Chart425": 0 rows with data
Sheet "Chart424": 0 rows with data
Sheet "Chart423": 0 rows with data
Sheet "Chart422": 0 rows with data
Sheet "Chart421": 0 rows with data
Sheet "Chart420": 0 rows with data
Sheet "Chart419": 0 rows with data
Sheet "Chart418": 0 rows with data
Sheet "Chart417": 0 rows with data
Sheet "Chart416": 0 rows with data
Sheet "Chart415": 0 rows with data
Sheet "Chart414": 0 rows with data
Sheet "Chart413": 0 rows with data
Sheet "Chart412": 0 rows with data
Sheet "Chart411": 0 rows with data
Sheet "Chart410": 0 rows with data
Sheet "Chart409": 0 rows with data
Sheet "Chart408": 0 rows with data
Sheet "Chart407": 0 rows with data
Sheet "Chart406": 0 rows with data
Sheet "Chart405": 0 rows with data
Sheet "Chart404": 0 rows with data
Sheet "Chart403": 0 rows with data
Sheet "Chart402": 0 rows with data
Sheet "Chart401": 0 rows with data
Sheet "Chart400": 0 rows with data
Sheet "Chart399": 0 rows with data
Sheet "Chart398": 0 rows with data
Sheet "Chart397": 0 rows with data
Sheet "Chart396": 0 rows with data
Sheet "Chart395": 0 rows with data
Sheet "Chart394": 0 rows with data
Sheet "Chart393": 0 rows with data
Sheet "Chart392": 0 rows with data
Sheet "Chart391": 0 rows with data
Sheet "Chart390": 0 rows with data
Sheet "Chart389": 0 rows with data
Sheet "Chart388": 0 rows with data
Sheet "Chart387": 0 rows with data
Sheet "Chart386": 0 rows with data
Sheet "Chart385": 0 rows with data
Sheet "Chart384": 0 rows with data
Sheet "Chart383": 0 rows with data
Sheet "Chart382": 0 rows with data
Sheet "Chart381": 0 rows with data
Sheet "Chart380": 0 rows with data
Sheet "Chart379": 0 rows with data
Sheet "Chart378": 0 rows with data
Sheet "Chart377": 0 rows with data
Sheet "Chart376": 0 rows with data
Sheet "Chart375": 0 rows with data
Sheet "Chart374": 0 rows with data
Sheet "Chart373": 0 rows with data
Sheet "Chart372": 0 rows with data
Sheet "Chart371": 0 rows with data
Sheet "Chart370": 0 rows with data
Sheet "Chart369": 0 rows with data
Sheet "Chart368": 0 rows with data
Sheet "Chart367": 0 rows with data
Sheet "Chart366": 0 rows with data
Sheet "Chart365": 0 rows with data
Sheet "Chart364": 0 rows with data
Sheet "Chart363": 0 rows with data
Sheet "Chart362": 0 rows with data
Sheet "Chart361": 0 rows with data
Sheet "Chart360": 0 rows with data
Sheet "Chart359": 0 rows with data
Sheet "Chart358": 0 rows with data
Sheet "Chart357": 0 rows with data
Sheet "Chart356": 0 rows with data
Sheet "Chart355": 0 rows with data
Sheet "Chart354": 0 rows with data
Sheet "Chart353": 0 rows with data
Sheet "Chart352": 0 rows with data
Sheet "Chart351": 0 rows with data
Sheet "Chart350": 0 rows with data
Sheet "Chart349": 0 rows with data
Sheet "Chart348": 0 rows with data
Sheet "Chart347": 0 rows with data
Sheet "Chart346": 0 rows with data
Sheet "Chart345": 0 rows with data
Sheet "Chart344": 0 rows with data
Sheet "Chart343": 0 rows with data
Sheet "Chart342": 0 rows with data
Sheet "Chart341": 0 rows with data
Sheet "Chart340": 0 rows with data
Sheet "Chart339": 0 rows with data
Sheet "Chart338": 0 rows with data
Sheet "Chart337": 0 rows with data
Sheet "Chart336": 0 rows with data
Sheet "Chart335": 0 rows with data
Sheet "Chart334": 0 rows with data
Sheet "Chart333": 0 rows with data
Sheet "Chart332": 0 rows with data
Sheet "Chart331": 0 rows with data
Sheet "Chart330": 0 rows with data
Sheet "Chart329": 0 rows with data
Sheet "Chart328": 0 rows with data
Sheet "Chart327": 0 rows with data
Sheet "Chart326": 0 rows with data
Sheet "Chart325": 0 rows with data
Sheet "Chart324": 0 rows with data
Sheet "Chart323": 0 rows with data
Sheet "Chart322": 0 rows with data
Sheet "Chart321": 0 rows with data
Sheet "Chart320": 0 rows with data
Sheet "Chart319": 0 rows with data
Sheet "Chart318": 0 rows with data
Sheet "Chart317": 0 rows with data
Sheet "Chart316": 0 rows with data
Sheet "Chart315": 0 rows with data
Sheet "Chart314": 0 rows with data
Sheet "Chart313": 0 rows with data
Sheet "Chart312": 0 rows with data
Sheet "Chart311": 0 rows with data
Sheet "Chart310": 0 rows with data
Sheet "Chart309": 0 rows with data
Sheet "Chart308": 0 rows with data
Sheet "Chart307": 0 rows with data
Sheet "Chart306": 0 rows with data
Sheet "Chart305": 0 rows with data
Sheet "Chart304": 0 rows with data
Sheet "Chart303": 0 rows with data
Sheet "Chart302": 0 rows with data
Sheet "Chart301": 0 rows with data
Sheet "Chart300": 0 rows with data
Sheet "Chart299": 0 rows with data
Sheet "Chart298": 0 rows with data
Sheet "Chart297": 0 rows with data
Sheet "Chart296": 0 rows with data
Sheet "Chart295": 0 rows with data
Sheet "Chart294": 0 rows with data
Sheet "Chart293": 0 rows with data
Sheet "Chart292": 0 rows with data
Sheet "Chart291": 0 rows with data
Sheet "Chart290": 0 rows with data
Sheet "Chart289": 0 rows with data
Sheet "Chart288": 0 rows with data
Sheet "Chart287": 0 rows with data
Sheet "Chart286": 0 rows with data
Sheet "Chart285": 0 rows with data
Sheet "Chart284": 0 rows with data
Sheet "Chart283": 0 rows with data
Sheet "Chart282": 0 rows with data
Sheet "Chart281": 0 rows with data
Sheet "Chart280": 0 rows with data
Sheet "Chart279": 0 rows with data
Sheet "Chart278": 0 rows with data
Sheet "Chart277": 0 rows with data
Sheet "Chart276": 0 rows with data
Sheet "Chart275": 0 rows with data
Sheet "Chart274": 0 rows with data
Sheet "Chart273": 0 rows with data
Sheet "Chart272": 0 rows with data
Sheet "Chart271": 0 rows with data
Sheet "Chart270": 0 rows with data
Sheet "Chart269": 0 rows with data
Sheet "Chart268": 0 rows with data
Sheet "Chart267": 0 rows with data
Sheet "Chart266": 0 rows with data
Sheet "Chart265": 0 rows with data
Sheet "Chart264": 0 rows with data
Sheet "Chart263": 0 rows with data
Sheet "Chart262": 0 rows with data
Sheet "Chart261": 0 rows with data
Sheet "Chart260": 0 rows with data
Sheet "Chart259": 0 rows with data
Sheet "Chart258": 0 rows with data
Sheet "Chart257": 0 rows with data
Sheet "Chart256": 0 rows with data
Sheet "Chart255": 0 rows with data
Sheet "Chart254": 0 rows with data
Sheet "Chart253": 0 rows with data
Sheet "Chart252": 0 rows with data
Sheet "Chart251": 0 rows with data
Sheet "Chart250": 0 rows with data
Sheet "Chart249": 0 rows with data
Sheet "Chart248": 0 rows with data
Sheet "Chart247": 0 rows with data
Sheet "Chart246": 0 rows with data
Sheet "Chart245": 0 rows with data
Sheet "Chart244": 0 rows with data
Sheet "Chart243": 0 rows with data
Sheet "Chart242": 0 rows with data
Sheet "Chart241": 0 rows with data
Sheet "Chart240": 0 rows with data
Sheet "Chart239": 0 rows with data
Sheet "Chart238": 0 rows with data
Sheet "Chart237": 0 rows with data
Sheet "Chart236": 0 rows with data
Sheet "Chart235": 0 rows with data
Sheet "Chart234": 0 rows with data
Sheet "Chart233": 0 rows with data
Sheet "Chart232": 0 rows with data
Sheet "Chart231": 0 rows with data
Sheet "Chart230": 0 rows with data
Sheet "Chart229": 0 rows with data
Sheet "Chart228": 0 rows with data
Sheet "Chart227": 0 rows with data
Sheet "Chart226": 0 rows with data
Sheet "Chart225": 0 rows with data
Sheet "Chart224": 0 rows with data
Sheet "Chart223": 0 rows with data
Sheet "Chart222": 0 rows with data
Sheet "Chart221": 0 rows with data
Sheet "Chart220": 0 rows with data
Sheet "Chart219": 0 rows with data
Sheet "Chart218": 0 rows with data
Sheet "Chart217": 0 rows with data
Sheet "Chart216": 0 rows with data
Sheet "Chart215": 0 rows with data
Sheet "Chart214": 0 rows with data
Sheet "Chart213": 0 rows with data
Sheet "Chart212": 0 rows with data
Sheet "Chart211": 0 rows with data
Sheet "Chart210": 0 rows with data
Sheet "Chart209": 0 rows with data
Sheet "Chart208": 0 rows with data
Sheet "Chart207": 0 rows with data
Sheet "Chart206": 0 rows with data
Sheet "Chart205": 0 rows with data
Sheet "Chart204": 0 rows with data
Sheet "Chart203": 0 rows with data
Sheet "Chart202": 0 rows with data
Sheet "Chart201": 0 rows with data
Sheet "Chart200": 0 rows with data
Sheet "Chart199": 0 rows with data
Sheet "Chart198": 0 rows with data
Sheet "Chart197": 0 rows with data
Sheet "Chart196": 0 rows with data
Sheet "Chart195": 0 rows with data
Sheet "Chart194": 0 rows with data
Sheet "Chart193": 0 rows with data
Sheet "Chart192": 0 rows with data
Sheet "Chart191": 0 rows with data
Sheet "Chart190": 0 rows with data
Sheet "Chart189": 0 rows with data
Sheet "Chart188": 0 rows with data
Sheet "Chart187": 0 rows with data
Sheet "Chart186": 0 rows with data
Sheet "Chart185": 0 rows with data
Sheet "Chart184": 0 rows with data
Sheet "Chart183": 0 rows with data
Sheet "Chart182": 0 rows with data
Sheet "Chart181": 0 rows with data
Sheet "Chart180": 0 rows with data
Sheet "Chart179": 0 rows with data
Sheet "Chart178": 0 rows with data
Sheet "Chart177": 0 rows with data
Sheet "Chart176": 0 rows with data
Sheet "Chart175": 0 rows with data
Sheet "Chart174": 0 rows with data
Sheet "Chart173": 0 rows with data
Sheet "Chart172": 0 rows with data
Sheet "Chart171": 0 rows with data
Sheet "Chart170": 0 rows with data
Sheet "Chart169": 0 rows with data
Sheet "Chart168": 0 rows with data
Sheet "Chart167": 0 rows with data
Sheet "Chart166": 0 rows with data
Sheet "Chart165": 0 rows with data
Sheet "Chart164": 0 rows with data
Sheet "Chart163": 0 rows with data
Sheet "Chart162": 0 rows with data
Sheet "Chart161": 0 rows with data
Sheet "Chart160": 0 rows with data
Sheet "Chart159": 0 rows with data
Sheet "Chart158": 0 rows with data
Sheet "Chart157": 0 rows with data
Sheet "Chart156": 0 rows with data
Sheet "Chart155": 0 rows with data
Sheet "Chart154": 0 rows with data
Sheet "Chart153": 0 rows with data
Sheet "Chart152": 0 rows with data
Sheet "Chart151": 0 rows with data
Sheet "Chart150": 0 rows with data
Sheet "Chart149": 0 rows with data
Sheet "Chart148": 0 rows with data
Sheet "Chart147": 0 rows with data
Sheet "Chart146": 0 rows with data
Sheet "Chart145": 0 rows with data
Sheet "Chart144": 0 rows with data
Sheet "Chart143": 0 rows with data
Sheet "Chart142": 0 rows with data
Sheet "Chart141": 0 rows with data
Sheet "Chart140": 0 rows with data
Sheet "Chart139": 0 rows with data
Sheet "Chart138": 0 rows with data
Sheet "Chart137": 0 rows with data
Sheet "Chart136": 0 rows with data
Sheet "Chart135": 0 rows with data
Sheet "Chart134": 0 rows with data
Sheet "Chart133": 0 rows with data
Sheet "Chart132": 0 rows with data
Sheet "Chart131": 0 rows with data
Sheet "Chart130": 0 rows with data
Sheet "Chart129": 0 rows with data
Sheet "Chart128": 0 rows with data
Sheet "Chart127": 0 rows with data
Sheet "Chart126": 0 rows with data
Sheet "Chart125": 0 rows with data
Sheet "Chart124": 0 rows with data
Sheet "Chart123": 0 rows with data
Sheet "Chart122": 0 rows with data
Sheet "Chart121": 0 rows with data
Sheet "Chart120": 0 rows with data
Sheet "Chart119": 0 rows with data
Sheet "Chart118": 0 rows with data
Sheet "Chart117": 0 rows with data
Sheet "Chart116": 0 rows with data
Sheet "Chart115": 0 rows with data
Sheet "Chart114": 0 rows with data
Sheet "Chart113": 0 rows with data
Sheet "Chart112": 0 rows with data
Sheet "Chart111": 0 rows with data
Sheet "Chart110": 0 rows with data
Sheet "Chart109": 0 rows with data
Sheet "Chart108": 0 rows with data
Sheet "Chart107": 0 rows with data
Sheet "Chart106": 0 rows with data
Sheet "Chart105": 0 rows with data
Sheet "Chart104": 0 rows with data
Sheet "Chart103": 0 rows with data
Sheet "Chart102": 0 rows with data
Sheet "Chart101": 0 rows with data
Sheet "Chart100": 0 rows with data
Sheet "Chart99": 0 rows with data
Sheet "Chart98": 0 rows with data
Sheet "Chart97": 0 rows with data
Sheet "Chart96": 0 rows with data
Sheet "Chart95": 0 rows with data
Sheet "Sheet1": 134 rows with data
Sheet "Sheet2": 0 rows with data
Sheet "Sheet3": 0 rows with data
Found 1 sheets with data: Sheet1(134)
Processing sheet "Sheet1" with 134 rows...
Sheet "Sheet1": Processing 134 rows with data
Large sheet detected (134 rows), processing in chunks...
Processing chunk 1 with 30 rows...
Processing chunk 2 with 30 rows...
Processing chunk 3 with 30 rows...
Processing chunk 4 with 30 rows...
Processing chunk 5 with 14 rows...
Sheet "Sheet1": Merged 5 chunks into 201 products
Processed 1 sheets, extracted 201 total products
Found existing supplier: UD OKA'S
🔍 Standardizing: "Asparagus" (category: vegetable)
🔍 No similar product found for "Asparagus" (best similarity: 0.000, threshold: 0.8)
🤖 Using GPT-4o for: "Asparagus"
🎯 GPT-4o standardized: "Asparagus" → "asparagus"
💾 Saving reference product: asparagus
➕ Added to reference base: "asparagus" (category: vegetable)
Processing: "Asparagus" → cleaned: "Asparagus" → standardized: "asparagus"
Found existing product: "Asparagus" (standardized: "asparagus")
🔍 Standardizing: "Apple Fuji" (category: fruit)
🔍 No similar product found for "Apple Fuji" (best similarity: 0.000, threshold: 0.8)
🤖 Using GPT-4o for: "Apple Fuji"
🎯 GPT-4o standardized: "Apple Fuji" → "apple fuji"
💾 Saving reference product: apple fuji
➕ Added to reference base: "apple fuji" (category: fruit)
Processing: "Apple Fuji" → cleaned: "Apple Fuji" → standardized: "apple fuji"
Found existing product: "Apel Fuji" (standardized: "apple fuji")
🔍 Standardizing: "Baby Beans" (category: vegetable)
🔍 No similar product found for "Baby Beans" (best similarity: 0.428, threshold: 0.8)
🤖 Using GPT-4o for: "Baby Beans"
🎯 GPT-4o standardized: "Baby Beans" → "bean baby"
💾 Saving reference product: bean baby
➕ Added to reference base: "bean baby" (category: vegetable)
Processing: "Baby Beans" → cleaned: "Baby Beans" → standardized: "bean baby"
Found existing product: "Baby Buncis" (standardized: "bean baby")
🔍 Standardizing: "Apple Green GS" (category: fruit)
🔍 No similar product found for "Apple Green GS" (best similarity: 0.329, threshold: 0.8)
🤖 Using GPT-4o for: "Apple Green GS"
🎯 GPT-4o standardized: "Apple Green GS" → "apple green"
💾 Saving reference product: apple green
➕ Added to reference base: "apple green" (category: fruit)
Processing: "Apple Green GS" → cleaned: "Apple Green GS" → standardized: "apple green"
Found existing product: "Apple Green GS" (standardized: "apple green")
🔍 Standardizing: "Baby Carrot" (category: vegetable)
🔍 No similar product found for "Baby Carrot" (best similarity: 0.594, threshold: 0.8)
🤖 Using GPT-4o for: "Baby Carrot"
🎯 GPT-4o standardized: "Baby Carrot" → "carrot baby"
💾 Saving reference product: carrot baby
➕ Added to reference base: "carrot baby" (category: vegetable)
Processing: "Baby Carrot" → cleaned: "Baby Carrot" → standardized: "carrot baby"
Found existing product: "Carrot Baby Import" (standardized: "carrot baby")
🔍 Standardizing: "Apple Malang" (category: fruit)
🔍 No similar product found for "Apple Malang" (best similarity: 0.417, threshold: 0.8)
🤖 Using GPT-4o for: "Apple Malang"
🎯 GPT-4o standardized: "Apple Malang" → "apple malang"
💾 Saving reference product: apple malang
➕ Added to reference base: "apple malang" (category: fruit)
Processing: "Apple Malang" → cleaned: "Apple Malang" → standardized: "apple malang"
Found existing product: "Apel Malang" (standardized: "apple malang")
🔍 Standardizing: "Baby Corn" (category: vegetable)
🔍 No similar product found for "Baby Corn" (best similarity: 0.598, threshold: 0.8)
🤖 Using GPT-4o for: "Baby Corn"
🎯 GPT-4o standardized: "Baby Corn" → "corn baby"
💾 Saving reference product: corn baby
➕ Added to reference base: "corn baby" (category: vegetable)
Processing: "Baby Corn" → cleaned: "Baby Corn" → standardized: "corn baby"
Found existing product: "Baby Corn" (standardized: "corn baby")
🔍 Standardizing: "Apple Red" (category: fruit)
🔍 No similar product found for "Apple Red" (best similarity: 0.666, threshold: 0.8)
🤖 Using GPT-4o for: "Apple Red"
🎯 GPT-4o standardized: "Apple Red" → "apple red"
💾 Saving reference product: apple red
➕ Added to reference base: "apple red" (category: fruit)
Processing: "Apple Red" → cleaned: "Apple Red" → standardized: "apple red"
Found existing product: "Apple Red" (standardized: "apple red")
🔍 Standardizing: "Baby Cucumber" (category: vegetable)
🔍 No similar product found for "Baby Cucumber" (best similarity: 0.543, threshold: 0.8)
🤖 Using GPT-4o for: "Baby Cucumber"
🎯 GPT-4o standardized: "Baby Cucumber" → "cucumber baby"
💾 Saving reference product: cucumber baby
➕ Added to reference base: "cucumber baby" (category: vegetable)
Processing: "Baby Cucumber" → cleaned: "Baby Cucumber" → standardized: "cucumber baby"
Found existing product: "Baby Cucumber" (standardized: "cucumber baby")
🔍 Standardizing: "Baby Daikon" (category: vegetable)
🔍 No similar product found for "Baby Daikon" (best similarity: 0.621, threshold: 0.8)
🤖 Using GPT-4o for: "Baby Daikon"
🎯 GPT-4o standardized: "Baby Daikon" → "daikon baby"
💾 Saving reference product: daikon baby
➕ Added to reference base: "daikon baby" (category: vegetable)
Processing: "Baby Daikon" → cleaned: "Baby Daikon" → standardized: "daikon baby"
Found existing product: "Baby Daikon" (standardized: "daikon baby")
🔍 Standardizing: "Avocado" (category: fruit)
🔍 No similar product found for "Avocado" (best similarity: 0.385, threshold: 0.8)
🤖 Using GPT-4o for: "Avocado"
🎯 GPT-4o standardized: "Avocado" → "avocado"
💾 Saving reference product: avocado
➕ Added to reference base: "avocado" (category: fruit)
Processing: "Avocado" → cleaned: "Avocado" → standardized: "avocado"
Found existing product: "Avocado" (standardized: "avocado")
🔍 Standardizing: "Baby Poteto" (category: vegetable)
🔍 No similar product found for "Baby Poteto" (best similarity: 0.489, threshold: 0.8)
🤖 Using GPT-4o for: "Baby Poteto"
🎯 GPT-4o standardized: "Baby Poteto" → "potato baby"
💾 Saving reference product: potato baby
➕ Added to reference base: "potato baby" (category: vegetable)
Processing: "Baby Poteto" → cleaned: "Baby Poteto" → standardized: "potato baby"
Found existing product: "Potato baby" (standardized: "potato baby")
🔍 Standardizing: "Banana Ambon" (category: fruit)
🔍 No similar product found for "Banana Ambon" (best similarity: 0.483, threshold: 0.8)
🤖 Using GPT-4o for: "Banana Ambon"
 ✓ Compiled / in 6ms
 GET / 200 in 18ms
🎯 GPT-4o standardized: "Banana Ambon" → "banana ambon"
💾 Saving reference product: banana ambon
➕ Added to reference base: "banana ambon" (category: fruit)
Processing: "Banana Ambon" → cleaned: "Banana Ambon" → standardized: "banana ambon"
Found existing product: "Banana Ambon" (standardized: "banana ambon")
🔍 Standardizing: "Banana Cavendis" (category: fruit)
🔍 No similar product found for "Banana Cavendis" (best similarity: 0.475, threshold: 0.8)
🤖 Using GPT-4o for: "Banana Cavendis"
🎯 GPT-4o standardized: "Banana Cavendis" → "banana cavendish"
💾 Saving reference product: banana cavendish
➕ Added to reference base: "banana cavendish" (category: fruit)
Processing: "Banana Cavendis" → cleaned: "Banana Cavendis" → standardized: "banana cavendish"
Found existing product: "Banana Cavendis" (standardized: "banana cavendish")
🔍 Standardizing: "Bay leaf/ daun salam" (category: vegetable)
🔍 No similar product found for "Bay leaf/ daun salam" (best similarity: 0.371, threshold: 0.8)
🤖 Using GPT-4o for: "Bay leaf/ daun salam"
🎯 GPT-4o standardized: "Bay leaf/ daun salam" → "leaf bay"
💾 Saving reference product: leaf bay
➕ Added to reference base: "leaf bay" (category: vegetable)
Processing: "Bay leaf/ daun salam" → cleaned: "Bay leaf/ daun salam" → standardized: "leaf bay"
Found existing product: "Bay leaf/ daun salam" (standardized: "leaf bay")
🔍 Standardizing: "Banana Kepok" (category: fruit)
🔍 No similar product found for "Banana Kepok" (best similarity: 0.572, threshold: 0.8)
🤖 Using GPT-4o for: "Banana Kepok"
🎯 GPT-4o standardized: "Banana Kepok" → "banana kepok"
💾 Saving reference product: banana kepok
➕ Added to reference base: "banana kepok" (category: fruit)
Processing: "Banana Kepok" → cleaned: "Banana Kepok" → standardized: "banana kepok"
Found existing product: "Banana Kepok" (standardized: "banana kepok")
🔍 Standardizing: "Bean Sprouts" (category: vegetable)
🔍 No similar product found for "Bean Sprouts" (best similarity: 0.655, threshold: 0.8)
🤖 Using GPT-4o for: "Bean Sprouts"
🎯 GPT-4o standardized: "Bean Sprouts" → "sprout bean"
💾 Saving reference product: sprout bean
➕ Added to reference base: "sprout bean" (category: vegetable)
Processing: "Bean Sprouts" → cleaned: "Bean Sprouts" → standardized: "sprout bean"
Found existing product: "Bean Sprouts" (standardized: "sprout bean")
 ✓ Compiled / in 5ms
🔍 Standardizing: "Banana Mas" (category: fruit)
 GET / 200 in 14ms
🔍 No similar product found for "Banana Mas" (best similarity: 0.627, threshold: 0.8)
🤖 Using GPT-4o for: "Banana Mas"
🎯 GPT-4o standardized: "Banana Mas" → "banana mas"
💾 Saving reference product: banana mas
➕ Added to reference base: "banana mas" (category: fruit)
Processing: "Banana Mas" → cleaned: "Banana Mas" → standardized: "banana mas"
Found existing product: "Banana Mas" (standardized: "banana mas")
🔍 Standardizing: "Beeatroot" (category: vegetable)
🔍 No similar product found for "Beeatroot" (best similarity: 0.425, threshold: 0.8)
🤖 Using GPT-4o for: "Beeatroot"
🎯 GPT-4o standardized: "Beeatroot" → "beetroot"
💾 Saving reference product: beetroot
➕ Added to reference base: "beetroot" (category: vegetable)
Processing: "Beeatroot" → cleaned: "Beeatroot" → standardized: "beetroot"
Found existing product: "Beetroot" (standardized: "beetroot")
🔍 Standardizing: "Banana Raja" (category: fruit)
🔍 No similar product found for "Banana Raja" (best similarity: 0.709, threshold: 0.8)
🤖 Using GPT-4o for: "Banana Raja"
🎯 GPT-4o standardized: "Banana Raja" → "banana raja"
💾 Saving reference product: banana raja
➕ Added to reference base: "banana raja" (category: fruit)
Processing: "Banana Raja" → cleaned: "Banana Raja" → standardized: "banana raja"
Found existing product: "Pisang Raja" (standardized: "banana raja")
🔍 Standardizing: "Bitter Ground /pare" (category: vegetable)
🔍 No similar product found for "Bitter Ground /pare" (best similarity: 0.399, threshold: 0.8)
🤖 Using GPT-4o for: "Bitter Ground /pare"
🎯 GPT-4o standardized: "Bitter Ground /pare" → "gourd bitter"
💾 Saving reference product: gourd bitter
➕ Added to reference base: "gourd bitter" (category: vegetable)
Processing: "Bitter Ground /pare" → cleaned: "Bitter Ground /pare" → standardized: "gourd bitter"
Found existing product: "Bitter Ground /pare" (standardized: "gourd bitter")
🔍 Standardizing: "Banana Susu" (category: fruit)
🔍 No similar product found for "Banana Susu" (best similarity: 0.611, threshold: 0.8)
🤖 Using GPT-4o for: "Banana Susu"
🎯 GPT-4o standardized: "Banana Susu" → "banana milk"
💾 Saving reference product: banana milk
➕ Added to reference base: "banana milk" (category: fruit)
Processing: "Banana Susu" → cleaned: "Banana Susu" → standardized: "banana milk"
Found existing product: "Banana Susu" (standardized: "banana milk")
🔍 Standardizing: "Bottle Ground/ blego" (category: vegetable)
🔍 No similar product found for "Bottle Ground/ blego" (best similarity: 0.398, threshold: 0.8)
🤖 Using GPT-4o for: "Bottle Ground/ blego"
🎯 GPT-4o standardized: "Bottle Ground/ blego" → "gourd bottle"
💾 Saving reference product: gourd bottle
➕ Added to reference base: "gourd bottle" (category: vegetable)
Processing: "Bottle Ground/ blego" → cleaned: "Bottle Ground/ blego" → standardized: "gourd bottle"
Found existing product: "Bottle Ground/ blego" (standardized: "gourd bottle")
🔍 Standardizing: "Coconut Grated" (category: fruit)
🔍 No similar product found for "Coconut Grated" (best similarity: 0.420, threshold: 0.8)
🤖 Using GPT-4o for: "Coconut Grated"
🎯 GPT-4o standardized: "Coconut Grated" → "coconut grated"
💾 Saving reference product: coconut grated
➕ Added to reference base: "coconut grated" (category: fruit)
Processing: "Coconut Grated" → cleaned: "Coconut Grated" → standardized: "coconut grated"
Found existing product: "Coconut Grated" (standardized: "coconut grated")
🔍 Standardizing: "Box Coy" (category: vegetable)
🔍 No similar product found for "Box Coy" (best similarity: 0.313, threshold: 0.8)
🤖 Using GPT-4o for: "Box Coy"
🎯 GPT-4o standardized: "Box Coy" → "cabbage napa"
💾 Saving reference product: cabbage napa
➕ Added to reference base: "cabbage napa" (category: vegetable)
Processing: "Box Coy" → cleaned: "Box Coy" → standardized: "cabbage napa"
Found existing product: "Cabbage Chinese" (standardized: "cabbage napa")
🔍 Standardizing: "Coconut Whole Clean" (category: fruit)
🔍 No similar product found for "Coconut Whole Clean" (best similarity: 0.662, threshold: 0.8)
🤖 Using GPT-4o for: "Coconut Whole Clean"
🎯 GPT-4o standardized: "Coconut Whole Clean" → "coconut whole clean"
💾 Saving reference product: coconut whole clean
➕ Added to reference base: "coconut whole clean" (category: fruit)
Processing: "Coconut Whole Clean" → cleaned: "Coconut Whole Clean" → standardized: "coconut whole clean"
Found existing product: "Coconut Whole Clean" (standardized: "coconut whole clean")
🔍 Standardizing: "Brinjal / nasubi" (category: vegetable)
🔍 No similar product found for "Brinjal / nasubi" (best similarity: 0.489, threshold: 0.8)
🤖 Using GPT-4o for: "Brinjal / nasubi"
🎯 GPT-4o standardized: "Brinjal / nasubi" → "eggplant"
💾 Saving reference product: eggplant
➕ Added to reference base: "eggplant" (category: vegetable)
Processing: "Brinjal / nasubi" → cleaned: "Brinjal / nasubi" → standardized: "eggplant"
Found existing product: "Brinjal / nasubi" (standardized: "eggplant")
🔍 Standardizing: "Coconut Young" (category: fruit)
🔍 No similar product found for "Coconut Young" (best similarity: 0.692, threshold: 0.8)
🤖 Using GPT-4o for: "Coconut Young"
🎯 GPT-4o standardized: "Coconut Young" → "coconut young"
💾 Saving reference product: coconut young
➕ Added to reference base: "coconut young" (category: fruit)
Processing: "Coconut Young" → cleaned: "Coconut Young" → standardized: "coconut young"
Found existing product: "Coconut Young" (standardized: "coconut young")
🔍 Standardizing: "Broccoli" (category: vegetable)
🔍 No similar product found for "Broccoli" (best similarity: 0.558, threshold: 0.8)
🤖 Using GPT-4o for: "Broccoli"
🎯 GPT-4o standardized: "Broccoli" → "broccoli"
💾 Saving reference product: broccoli
➕ Added to reference base: "broccoli" (category: vegetable)
Processing: "Broccoli" → cleaned: "Broccoli" → standardized: "broccoli"
Found existing product: "Broccoli" (standardized: "broccoli")
🔍 Standardizing: "Dates/ kurma" (category: fruit)
🔍 No similar product found for "Dates/ kurma" (best similarity: 0.286, threshold: 0.8)
🤖 Using GPT-4o for: "Dates/ kurma"
🎯 GPT-4o standardized: "Dates/ kurma" → "date"
💾 Saving reference product: date
➕ Added to reference base: "date" (category: fruit)
Processing: "Dates/ kurma" → cleaned: "Dates/ kurma" → standardized: "date"
Found existing product: "kurma" (standardized: "date")
🔍 Standardizing: "Cabbage Red" (category: vegetable)
🔍 No similar product found for "Cabbage Red" (best similarity: 0.647, threshold: 0.8)
🤖 Using GPT-4o for: "Cabbage Red"
🎯 GPT-4o standardized: "Cabbage Red" → "cabbage red"
💾 Saving reference product: cabbage red
➕ Added to reference base: "cabbage red" (category: vegetable)
Processing: "Cabbage Red" → cleaned: "Cabbage Red" → standardized: "cabbage red"
Found existing product: "Cabbage Red / Kol Merah" (standardized: "cabbage red")
🔍 Standardizing: "Dragon Fruit red" (category: fruit)
🔍 No similar product found for "Dragon Fruit red" (best similarity: 0.486, threshold: 0.8)
🤖 Using GPT-4o for: "Dragon Fruit red"
🎯 GPT-4o standardized: "Dragon Fruit red" → "fruit dragon red"
💾 Saving reference product: fruit dragon red
➕ Added to reference base: "fruit dragon red" (category: fruit)
Processing: "Dragon Fruit red" → cleaned: "Dragon Fruit red" → standardized: "fruit dragon red"
Found existing product: "Dragon Fruit red" (standardized: "fruit dragon red")
🔍 Standardizing: "Cabbage White" (category: vegetable)
🔍 No similar product found for "Cabbage White" (best similarity: 0.798, threshold: 0.8)
🤖 Using GPT-4o for: "Cabbage White"
🎯 GPT-4o standardized: "Cabbage White" → "cabbage white"
💾 Saving reference product: cabbage white
➕ Added to reference base: "cabbage white" (category: vegetable)
Processing: "Cabbage White" → cleaned: "Cabbage White" → standardized: "cabbage white"
Found existing product: "Cabbage White / Kol" (standardized: "cabbage white")
🔍 Standardizing: "Dragon Fruit White" (category: fruit)
🔍 No similar product found for "Dragon Fruit White" (best similarity: 0.626, threshold: 0.8)
🤖 Using GPT-4o for: "Dragon Fruit White"
🎯 GPT-4o standardized: "Dragon Fruit White" → "fruit dragon white"
💾 Saving reference product: fruit dragon white
➕ Added to reference base: "fruit dragon white" (category: fruit)
Processing: "Dragon Fruit White" → cleaned: "Dragon Fruit White" → standardized: "fruit dragon white"
Found existing product: "Dragon Fruit White" (standardized: "fruit dragon white")
🔍 Standardizing: "Caisin/ sayur hijau" (category: vegetable)
🔍 No similar product found for "Caisin/ sayur hijau" (best similarity: 0.443, threshold: 0.8)
🤖 Using GPT-4o for: "Caisin/ sayur hijau"
🎯 GPT-4o standardized: "Caisin/ sayur hijau" → "vegetable caisin"
💾 Saving reference product: vegetable caisin
➕ Added to reference base: "vegetable caisin" (category: vegetable)
Processing: "Caisin/ sayur hijau" → cleaned: "Caisin/ sayur hijau" → standardized: "vegetable caisin"
Found existing product: "Caisin / Sayur Hijau" (standardized: "vegetable caisin")
🔍 Standardizing: "Grapes Black" (category: fruit)
🔍 No similar product found for "Grapes Black" (best similarity: 0.419, threshold: 0.8)
🤖 Using GPT-4o for: "Grapes Black"
🎯 GPT-4o standardized: "Grapes Black" → "grape black"
💾 Saving reference product: grape black
➕ Added to reference base: "grape black" (category: fruit)
Processing: "Grapes Black" → cleaned: "Grapes Black" → standardized: "grape black"
Found existing product: "Grapes Black" (standardized: "grape black")
🔍 Standardizing: "Capsicum Green" (category: vegetable)
🔍 No similar product found for "Capsicum Green" (best similarity: 0.482, threshold: 0.8)
🤖 Using GPT-4o for: "Capsicum Green"
🎯 GPT-4o standardized: "Capsicum Green" → "capsicum green"
💾 Saving reference product: capsicum green
➕ Added to reference base: "capsicum green" (category: vegetable)
Processing: "Capsicum Green" → cleaned: "Capsicum Green" → standardized: "capsicum green"
Found existing product: "Capsicum Green" (standardized: "capsicum green")
🔍 Standardizing: "Grapes Green" (category: fruit)
🔍 No similar product found for "Grapes Green" (best similarity: 0.733, threshold: 0.8)
🤖 Using GPT-4o for: "Grapes Green"
🎯 GPT-4o standardized: "Grapes Green" → "grape green"
💾 Saving reference product: grape green
➕ Added to reference base: "grape green" (category: fruit)
Processing: "Grapes Green" → cleaned: "Grapes Green" → standardized: "grape green"
Found existing product: "Grapes Green" (standardized: "grape green")
🔍 Standardizing: "Capsicum Red" (category: vegetable)
🎯 Found similar product: "Capsicum Red" → "capsicum green" (similarity: 0.812)
✅ Found via embedding: "Capsicum Red" → "capsicum green" (similarity: 0.812)
Processing: "Capsicum Red" → cleaned: "Capsicum Red" → standardized: "capsicum green"
Found existing product: "Capsicum Green" (standardized: "capsicum green")
🔍 Standardizing: "Grapes Red" (category: fruit)
🔍 No similar product found for "Grapes Red" (best similarity: 0.760, threshold: 0.8)
🤖 Using GPT-4o for: "Grapes Red"
🎯 GPT-4o standardized: "Grapes Red" → "grape red"
💾 Saving reference product: grape red
➕ Added to reference base: "grape red" (category: fruit)
Processing: "Grapes Red" → cleaned: "Grapes Red" → standardized: "grape red"
Found existing product: "Anggur Red import" (standardized: "grape red")
🔍 Standardizing: "Capsicum Yellow" (category: Other)
🔍 No similar product found for "Capsicum Yellow" (best similarity: 0.665, threshold: 0.8)
🤖 Using GPT-4o for: "Capsicum Yellow"
🎯 GPT-4o standardized: "Capsicum Yellow" → "capsicum yellow"
💾 Saving reference product: capsicum yellow
➕ Added to reference base: "capsicum yellow" (category: Other)
Processing: "Capsicum Yellow" → cleaned: "Capsicum Yellow" → standardized: "capsicum yellow"
Found existing product: "Capsicum Yellow" (standardized: "capsicum yellow")
🔍 Standardizing: "Guava" (category: Other)
🎯 Found similar product: "Guava" → "guava" (similarity: 1.000)
✅ Found via embedding: "Guava" → "guava" (similarity: 1.000)
Processing: "Guava" → cleaned: "Guava" → standardized: "guava"
Found existing product: "Guava" (standardized: "guava")
🔍 Standardizing: "Carrot Import" (category: Vegetables)
🔍 No similar product found for "Carrot Import" (best similarity: 0.734, threshold: 0.85)
🤖 Using GPT-4o for: "Carrot Import"
🎯 GPT-4o standardized: "Carrot Import" → "carrot import"
💾 Saving reference product: carrot import
➕ Added to reference base: "carrot import" (category: Vegetables)
Processing: "Carrot Import" → cleaned: "Carrot Import" → standardized: "carrot import"
Found existing product: "Carrot Import" (standardized: "carrot import")
🔍 Standardizing: "Honey Melon" (category: Other)
🔍 No similar product found for "Honey Melon" (best similarity: 0.776, threshold: 0.8)
🤖 Using GPT-4o for: "Honey Melon"
🎯 GPT-4o standardized: "Honey Melon" → "melon honey"
💾 Saving reference product: melon honey
➕ Added to reference base: "melon honey" (category: Other)
Processing: "Honey Melon" → cleaned: "Honey Melon" → standardized: "melon honey"
Found existing product: "Melon Honey" (standardized: "melon honey")
🔍 Standardizing: "Carrot Local" (category: Vegetables)
🔍 No similar product found for "Carrot Local" (best similarity: 0.774, threshold: 0.85)
🤖 Using GPT-4o for: "Carrot Local"
🎯 GPT-4o standardized: "Carrot Local" → "carrot local"
💾 Saving reference product: carrot local
➕ Added to reference base: "carrot local" (category: Vegetables)
Processing: "Carrot Local" → cleaned: "Carrot Local" → standardized: "carrot local"
Found existing product: "Carrot Local" (standardized: "carrot local")
🔍 Standardizing: "Jack Fruit/ nangka" (category: Other)
🔍 No similar product found for "Jack Fruit/ nangka" (best similarity: 0.677, threshold: 0.8)
🤖 Using GPT-4o for: "Jack Fruit/ nangka"
🎯 GPT-4o standardized: "Jack Fruit/ nangka" → "fruit jack"
💾 Saving reference product: fruit jack
➕ Added to reference base: "fruit jack" (category: Other)
Processing: "Jack Fruit/ nangka" → cleaned: "Jack Fruit/ nangka" → standardized: "fruit jack"
Found existing product: "Jack Fruit/ nangka" (standardized: "fruit jack")
🔍 Standardizing: "Cashew Nut/ mente" (category: Other)
🔍 No similar product found for "Cashew Nut/ mente" (best similarity: 0.407, threshold: 0.8)
🤖 Using GPT-4o for: "Cashew Nut/ mente"
 GET /api/uploads/status?status=completed&limit=1 200 in 550ms
🎯 GPT-4o standardized: "Cashew Nut/ mente" → "nut cashew"
💾 Saving reference product: nut cashew
➕ Added to reference base: "nut cashew" (category: Other)
Processing: "Cashew Nut/ mente" → cleaned: "Cashew Nut/ mente" → standardized: "nut cashew"
Found existing product: "Cashew Nut/ mente" (standardized: "nut cashew")
🔍 Standardizing: "Kiwi" (category: Other)
🎯 Found similar product: "Kiwi" → "kiwi" (similarity: 1.000)
✅ Found via embedding: "Kiwi" → "kiwi" (similarity: 1.000)
Processing: "Kiwi" → cleaned: "Kiwi" → standardized: "kiwi"
Found existing product: "Kiwi" (standardized: "kiwi")
🔍 Standardizing: "Cassava" (category: Other)
🔍 No similar product found for "Cassava" (best similarity: 0.450, threshold: 0.8)
🤖 Using GPT-4o for: "Cassava"
🎯 GPT-4o standardized: "Cassava" → "cassava"
💾 Saving reference product: cassava
➕ Added to reference base: "cassava" (category: Other)
Processing: "Cassava" → cleaned: "Cassava" → standardized: "cassava"
Found existing product: "Cassava" (standardized: "cassava")
🔍 Standardizing: "Lemon Impot" (category: Other)
🔍 No similar product found for "Lemon Impot" (best similarity: 0.707, threshold: 0.8)
🤖 Using GPT-4o for: "Lemon Impot"
🎯 GPT-4o standardized: "Lemon Impot" → "lemon import"
💾 Saving reference product: lemon import
➕ Added to reference base: "lemon import" (category: Other)
Processing: "Lemon Impot" → cleaned: "Lemon Impot" → standardized: "lemon import"
Found existing product: "Lemon import" (standardized: "lemon import")
🔍 Standardizing: "Cassava leaf" (category: Other)
🎯 Found similar product: "Cassava leaf" → "cassava" (similarity: 0.812)
✅ Found via embedding: "Cassava leaf" → "cassava" (similarity: 0.812)
Processing: "Cassava leaf" → cleaned: "Cassava leaf" → standardized: "cassava"
Found existing product: "Cassava" (standardized: "cassava")
🔍 Standardizing: "Lemon Local" (category: Other)
🔍 No similar product found for "Lemon Local" (best similarity: 0.733, threshold: 0.8)
🤖 Using GPT-4o for: "Lemon Local"
🎯 GPT-4o standardized: "Lemon Local" → "lemon local"
💾 Saving reference product: lemon local
➕ Added to reference base: "lemon local" (category: Other)
Processing: "Lemon Local" → cleaned: "Lemon Local" → standardized: "lemon local"
Found existing product: "Lemon Local" (standardized: "lemon local")
🔍 Standardizing: "Cauliflower" (category: Other)
🔍 No similar product found for "Cauliflower" (best similarity: 0.408, threshold: 0.8)
🤖 Using GPT-4o for: "Cauliflower"
🎯 GPT-4o standardized: "Cauliflower" → "cauliflower"
💾 Saving reference product: cauliflower
➕ Added to reference base: "cauliflower" (category: Other)
Processing: "Cauliflower" → cleaned: "Cauliflower" → standardized: "cauliflower"
Found existing product: "Cauli Flower" (standardized: "cauliflower")
🔍 Standardizing: "Lime Green" (category: Other)
🔍 No similar product found for "Lime Green" (best similarity: 0.634, threshold: 0.8)
🤖 Using GPT-4o for: "Lime Green"
🎯 GPT-4o standardized: "Lime Green" → "lime green"
💾 Saving reference product: lime green
➕ Added to reference base: "lime green" (category: Other)
Processing: "Lime Green" → cleaned: "Lime Green" → standardized: "lime green"
Found existing product: "Lime Green" (standardized: "lime green")
🔍 Standardizing: "Celery local" (category: Other)
🔍 No similar product found for "Celery local" (best similarity: 0.584, threshold: 0.8)
🤖 Using GPT-4o for: "Celery local"
🎯 GPT-4o standardized: "Celery local" → "celery local"
💾 Saving reference product: celery local
➕ Added to reference base: "celery local" (category: Other)
Processing: "Celery local" → cleaned: "Celery local" → standardized: "celery local"
Found existing product: "Celery local" (standardized: "celery local")
🔍 Standardizing: "Lime Yellow" (category: Other)
🎯 Found similar product: "Lime Yellow" → "melon yellow" (similarity: 0.823)
✅ Found via embedding: "Lime Yellow" → "melon yellow" (similarity: 0.823)
Processing: "Lime Yellow" → cleaned: "Lime Yellow" → standardized: "melon yellow"
Found existing product: "Water Melon Yellow" (standardized: "melon yellow")
🔍 Standardizing: "Chayote/ labu siam" (category: Other)
 GET /api/uploads/status 200 in 282ms
🔍 No similar product found for "Chayote/ labu siam" (best similarity: 0.477, threshold: 0.8)
🤖 Using GPT-4o for: "Chayote/ labu siam"
🎯 GPT-4o standardized: "Chayote/ labu siam" → "chayote"
💾 Saving reference product: chayote
➕ Added to reference base: "chayote" (category: Other)
Processing: "Chayote/ labu siam" → cleaned: "Chayote/ labu siam" → standardized: "chayote"
Found existing product: "Chayote/ labu siam" (standardized: "chayote")
🔍 Standardizing: "Lychee Can" (category: Other)
🔍 No similar product found for "Lychee Can" (best similarity: 0.458, threshold: 0.8)
🤖 Using GPT-4o for: "Lychee Can"
🎯 GPT-4o standardized: "Lychee Can" → "can lychee"
💾 Saving reference product: can lychee
➕ Added to reference base: "can lychee" (category: Other)
Processing: "Lychee Can" → cleaned: "Lychee Can" → standardized: "can lychee"
Found existing product: "Lychee Can" (standardized: "can lychee")
🔍 Standardizing: "Chicory/ sawi putih" (category: Other)
🔍 No similar product found for "Chicory/ sawi putih" (best similarity: 0.444, threshold: 0.8)
🤖 Using GPT-4o for: "Chicory/ sawi putih"
🎯 GPT-4o standardized: "Chicory/ sawi putih" → "chicory white"
💾 Saving reference product: chicory white
➕ Added to reference base: "chicory white" (category: Other)
Processing: "Chicory/ sawi putih" → cleaned: "Chicory/ sawi putih" → standardized: "chicory white"
Found existing product: "Chicory/ sawi putih" (standardized: "chicory white")
🔍 Standardizing: "Manggo Green" (category: Other)
🔍 No similar product found for "Manggo Green" (best similarity: 0.611, threshold: 0.8)
🤖 Using GPT-4o for: "Manggo Green"
🎯 GPT-4o standardized: "Manggo Green" → "mango green"
💾 Saving reference product: mango green
➕ Added to reference base: "mango green" (category: Other)
Processing: "Manggo Green" → cleaned: "Manggo Green" → standardized: "mango green"
Found existing product: "Manggo Green" (standardized: "mango green")
🔍 Standardizing: "Clelery Steak" (category: Other)
🔍 No similar product found for "Clelery Steak" (best similarity: 0.419, threshold: 0.8)
🤖 Using GPT-4o for: "Clelery Steak"
 GET /api/uploads/status 200 in 194ms
🎯 GPT-4o standardized: "Clelery Steak" → "steak celery"
💾 Saving reference product: steak celery
➕ Added to reference base: "steak celery" (category: Other)
Processing: "Clelery Steak" → cleaned: "Clelery Steak" → standardized: "steak celery"
Found existing product: "Clelery Steak" (standardized: "steak celery")
🔍 Standardizing: "Manggo Sweet" (category: Other)
🔍 No similar product found for "Manggo Sweet" (best similarity: 0.617, threshold: 0.8)
🤖 Using GPT-4o for: "Manggo Sweet"
🎯 GPT-4o standardized: "Manggo Sweet" → "mango sweet"
💾 Saving reference product: mango sweet
➕ Added to reference base: "mango sweet" (category: Other)
Processing: "Manggo Sweet" → cleaned: "Manggo Sweet" → standardized: "mango sweet"
Found existing product: "Manggo Sweet" (standardized: "mango sweet")
🔍 Standardizing: "Manggosten" (category: Other)
🔍 No similar product found for "Manggosten" (best similarity: 0.510, threshold: 0.8)
🤖 Using GPT-4o for: "Manggosten"
🎯 GPT-4o standardized: "Manggosten" → "mangosteen"
💾 Saving reference product: mangosteen
➕ Added to reference base: "mangosteen" (category: Other)
Processing: "Manggosten" → cleaned: "Manggosten" → standardized: "mangosteen"
Found existing product: "Manggis" (standardized: "mangosteen")
🔍 Standardizing: "Cucumber Japanese" (category: Other)
🔍 No similar product found for "Cucumber Japanese" (best similarity: 0.421, threshold: 0.8)
🤖 Using GPT-4o for: "Cucumber Japanese"
🎯 GPT-4o standardized: "Cucumber Japanese" → "cucumber japanese"
💾 Saving reference product: cucumber japanese
➕ Added to reference base: "cucumber japanese" (category: Other)
Processing: "Cucumber Japanese" → cleaned: "Cucumber Japanese" → standardized: "cucumber japanese"
Found existing product: "Cucumber Japanese" (standardized: "cucumber japanese")
🔍 Standardizing: "Orange Kintamani" (category: Other)
🔍 No similar product found for "Orange Kintamani" (best similarity: 0.515, threshold: 0.8)
🤖 Using GPT-4o for: "Orange Kintamani"
 GET /api/uploads/status 200 in 235ms
🎯 GPT-4o standardized: "Orange Kintamani" → "orange kintamani"
💾 Saving reference product: orange kintamani
➕ Added to reference base: "orange kintamani" (category: Other)
Processing: "Orange Kintamani" → cleaned: "Orange Kintamani" → standardized: "orange kintamani"
Found existing product: "Jeruk kintamani super" (standardized: "orange kintamani")
🔍 Standardizing: "Cucumber Local" (category: Other)
🔍 No similar product found for "Cucumber Local" (best similarity: 0.707, threshold: 0.8)
🤖 Using GPT-4o for: "Cucumber Local"
🎯 GPT-4o standardized: "Cucumber Local" → "cucumber local"
💾 Saving reference product: cucumber local
➕ Added to reference base: "cucumber local" (category: Other)
Processing: "Cucumber Local" → cleaned: "Cucumber Local" → standardized: "cucumber local"
Found existing product: "Cucumber Local" (standardized: "cucumber local")
🔍 Standardizing: "Orange Sunkist Import" (category: Other)
🎯 Found similar product: "Orange Sunkist Import" → "orange sunkist" (similarity: 0.888)
✅ Found via embedding: "Orange Sunkist Import" → "orange sunkist" (similarity: 0.888)
Processing: "Orange Sunkist Import" → cleaned: "Orange Sunkist Import" → standardized: "orange sunkist"
Found existing product: "Jeruk Sunkist" (standardized: "orange sunkist")
🔍 Standardizing: "Daikon/ lobak" (category: Other)
🔍 No similar product found for "Daikon/ lobak" (best similarity: 0.468, threshold: 0.8)
🤖 Using GPT-4o for: "Daikon/ lobak"
🎯 GPT-4o standardized: "Daikon/ lobak" → "radish daikon"
💾 Saving reference product: radish daikon
➕ Added to reference base: "radish daikon" (category: Other)
Processing: "Daikon/ lobak" → cleaned: "Daikon/ lobak" → standardized: "radish daikon"
Found existing product: "Daikon/ lobak" (standardized: "radish daikon")
🔍 Standardizing: "Drum Steak/ kelentang" (category: Other)
🔍 No similar product found for "Drum Steak/ kelentang" (best similarity: 0.543, threshold: 0.8)
🤖 Using GPT-4o for: "Drum Steak/ kelentang"
🎯 GPT-4o standardized: "Drum Steak/ kelentang" → "steak drum"
💾 Saving reference product: steak drum
➕ Added to reference base: "steak drum" (category: Other)
Processing: "Drum Steak/ kelentang" → cleaned: "Drum Steak/ kelentang" → standardized: "steak drum"
Found existing product: "Drum Steak/ kelentang" (standardized: "steak drum")
🔍 Standardizing: "Orange Tangerin" (category: Other)
🔍 No similar product found for "Orange Tangerin" (best similarity: 0.704, threshold: 0.8)
🤖 Using GPT-4o for: "Orange Tangerin"
🎯 GPT-4o standardized: "Orange Tangerin" → "tangerine orange"
💾 Saving reference product: tangerine orange
➕ Added to reference base: "tangerine orange" (category: Other)
Processing: "Orange Tangerin" → cleaned: "Orange Tangerin" → standardized: "tangerine orange"
Found existing product: "Jeruk Tangerine" (standardized: "tangerine orange")
🔍 Standardizing: "Edamame" (category: Other)
🔍 No similar product found for "Edamame" (best similarity: 0.500, threshold: 0.8)
🤖 Using GPT-4o for: "Edamame"
🎯 GPT-4o standardized: "Edamame" → "edamame"
💾 Saving reference product: edamame
➕ Added to reference base: "edamame" (category: Other)
Processing: "Edamame" → cleaned: "Edamame" → standardized: "edamame"
Found existing product: "Edamame" (standardized: "edamame")
🔍 Standardizing: "Orange Yuzu" (category: Other)
🔍 No similar product found for "Orange Yuzu" (best similarity: 0.663, threshold: 0.8)
🤖 Using GPT-4o for: "Orange Yuzu"
🎯 GPT-4o standardized: "Orange Yuzu" → "yuzu orange"
💾 Saving reference product: yuzu orange
➕ Added to reference base: "yuzu orange" (category: Other)
Processing: "Orange Yuzu" → cleaned: "Orange Yuzu" → standardized: "yuzu orange"
Found existing product: "Orange Yuzu" (standardized: "yuzu orange")
🔍 Standardizing: "Eggplant Green" (category: Other)
🔍 No similar product found for "Eggplant Green" (best similarity: 0.649, threshold: 0.8)
🤖 Using GPT-4o for: "Eggplant Green"
🎯 GPT-4o standardized: "Eggplant Green" → "eggplant green"
💾 Saving reference product: eggplant green
➕ Added to reference base: "eggplant green" (category: Other)
Processing: "Eggplant Green" → cleaned: "Eggplant Green" → standardized: "eggplant green"
Found existing product: "Eggplant Green" (standardized: "eggplant green")
🔍 Standardizing: "Papaya" (category: Other)
🔍 No similar product found for "Papaya" (best similarity: 0.760, threshold: 0.8)
🤖 Using GPT-4o for: "Papaya"
🎯 GPT-4o standardized: "Papaya" → "papaya"
💾 Saving reference product: papaya
➕ Added to reference base: "papaya" (category: Other)
Processing: "Papaya" → cleaned: "Papaya" → standardized: "papaya"
Found existing product: "Papaya" (standardized: "papaya")
🔍 Standardizing: "Eggplant Unggu" (category: Other)
🔍 No similar product found for "Eggplant Unggu" (best similarity: 0.672, threshold: 0.8)
🤖 Using GPT-4o for: "Eggplant Unggu"
🎯 GPT-4o standardized: "Eggplant Unggu" → "eggplant purple"
💾 Saving reference product: eggplant purple
➕ Added to reference base: "eggplant purple" (category: Other)
Processing: "Eggplant Unggu" → cleaned: "Eggplant Unggu" → standardized: "eggplant purple"
Found existing product: "Eggplant Unggu" (standardized: "eggplant purple")
🔍 Standardizing: "Passion Fruit Red" (category: Other)
🎯 Found similar product: "Passion Fruit Red" → "passion fruit" (similarity: 0.861)
✅ Found via embedding: "Passion Fruit Red" → "passion fruit" (similarity: 0.861)
Processing: "Passion Fruit Red" → cleaned: "Passion Fruit Red" → standardized: "passion fruit"
Found existing product: "Markisa" (standardized: "passion fruit")
🔍 Standardizing: "Green Bean" (category: Other)
🔍 No similar product found for "Green Bean" (best similarity: 0.594, threshold: 0.8)
🤖 Using GPT-4o for: "Green Bean"
🎯 GPT-4o standardized: "Green Bean" → "bean green"
💾 Saving reference product: bean green
➕ Added to reference base: "bean green" (category: Other)
Processing: "Green Bean" → cleaned: "Green Bean" → standardized: "bean green"
Found existing product: "Bean Green" (standardized: "bean green")
🔍 Standardizing: "Passion Fruit Yellow sweet" (category: Other)
🎯 Found similar product: "Passion Fruit Yellow sweet" → "passion fruit" (similarity: 0.835)
✅ Found via embedding: "Passion Fruit Yellow sweet" → "passion fruit" (similarity: 0.835)
Processing: "Passion Fruit Yellow sweet" → cleaned: "Passion Fruit Yellow sweet" → standardized: "passion fruit"
Found existing product: "Markisa" (standardized: "passion fruit")
🔍 Standardizing: "Kaelan" (category: Other)
🔍 No similar product found for "Kaelan" (best similarity: 0.376, threshold: 0.8)
🤖 Using GPT-4o for: "Kaelan"
🎯 GPT-4o standardized: "Kaelan" → "kaelan"
💾 Saving reference product: kaelan
➕ Added to reference base: "kaelan" (category: Other)
Processing: "Kaelan" → cleaned: "Kaelan" → standardized: "kaelan"
Found existing product: "Kaelan" (standardized: "kaelan")
🔍 Standardizing: "Pear Green" (category: Other)
🎯 Found similar product: "Pear Green" → "pear green" (similarity: 1.000)
✅ Found via embedding: "Pear Green" → "pear green" (similarity: 1.000)
Processing: "Pear Green" → cleaned: "Pear Green" → standardized: "pear green"
Found existing product: "Pear Hijau" (standardized: "pear green")
🔍 Standardizing: "Kaelan Baby" (category: Other)
🎯 Found similar product: "Kaelan Baby" → "kaelan" (similarity: 0.851)
✅ Found via embedding: "Kaelan Baby" → "kaelan" (similarity: 0.851)
Processing: "Kaelan Baby" → cleaned: "Kaelan Baby" → standardized: "kaelan"
Found existing product: "Kaelan" (standardized: "kaelan")
🔍 Standardizing: "Pear White" (category: Other)
🔍 No similar product found for "Pear White" (best similarity: 0.694, threshold: 0.8)
🤖 Using GPT-4o for: "Pear White"
🎯 GPT-4o standardized: "Pear White" → "pear white"
💾 Saving reference product: pear white
➕ Added to reference base: "pear white" (category: Other)
Processing: "Pear White" → cleaned: "Pear White" → standardized: "pear white"
Found existing product: "Pear White" (standardized: "pear white")
🔍 Standardizing: "Kangkung" (category: Other)
🔍 No similar product found for "Kangkung" (best similarity: 0.382, threshold: 0.8)
🤖 Using GPT-4o for: "Kangkung"
🎯 GPT-4o standardized: "Kangkung" → "water spinach"
💾 Saving reference product: water spinach
➕ Added to reference base: "water spinach" (category: Other)
Processing: "Kangkung" → cleaned: "Kangkung" → standardized: "water spinach"
Found existing product: "Kangkung" (standardized: "water spinach")
🔍 Standardizing: "Pineapple" (category: Other)
🎯 Found similar product: "Pineapple" → "pineapple large" (similarity: 0.816)
✅ Found via embedding: "Pineapple" → "pineapple large" (similarity: 0.816)
Processing: "Pineapple" → cleaned: "Pineapple" → standardized: "pineapple large"
Found existing product: "nanas besar super" (standardized: "pineapple large")
🔍 Standardizing: "Kecombrang" (category: Other)
🔍 No similar product found for "Kecombrang" (best similarity: 0.358, threshold: 0.8)
🤖 Using GPT-4o for: "Kecombrang"
🎯 GPT-4o standardized: "Kecombrang" → "torch ginger"
💾 Saving reference product: torch ginger
➕ Added to reference base: "torch ginger" (category: Other)
Processing: "Kecombrang" → cleaned: "Kecombrang" → standardized: "torch ginger"
Found existing product: "Kecombrang" (standardized: "torch ginger")
🔍 Standardizing: "Pomegranate" (category: Other)
🔍 No similar product found for "Pomegranate" (best similarity: 0.548, threshold: 0.8)
🤖 Using GPT-4o for: "Pomegranate"
🎯 GPT-4o standardized: "Pomegranate" → "pomegranate"
💾 Saving reference product: pomegranate
➕ Added to reference base: "pomegranate" (category: Other)
Processing: "Pomegranate" → cleaned: "Pomegranate" → standardized: "pomegranate"
Found existing product: "Pomegranate" (standardized: "pomegranate")
🔍 Standardizing: "Kelongkang" (category: Other)
🔍 No similar product found for "Kelongkang" (best similarity: 0.477, threshold: 0.8)
🤖 Using GPT-4o for: "Kelongkang"
🎯 GPT-4o standardized: "Kelongkang" → "kelongkang"
💾 Saving reference product: kelongkang
➕ Added to reference base: "kelongkang" (category: Other)
Processing: "Kelongkang" → cleaned: "Kelongkang" → standardized: "kelongkang"
Found existing product: "Kelongkang" (standardized: "kelongkang")
🔍 Standardizing: "Snack Fruit bali" (category: Other)
🔍 No similar product found for "Snack Fruit bali" (best similarity: 0.713, threshold: 0.8)
🤖 Using GPT-4o for: "Snack Fruit bali"
🎯 GPT-4o standardized: "Snack Fruit bali" → "fruit snack"
💾 Saving reference product: fruit snack
➕ Added to reference base: "fruit snack" (category: Other)
Processing: "Snack Fruit bali" → cleaned: "Snack Fruit bali" → standardized: "fruit snack"
Found existing product: "Snack Fruit bali" (standardized: "fruit snack")
🔍 Standardizing: "Leek" (category: Other)
🔍 No similar product found for "Leek" (best similarity: 0.443, threshold: 0.8)
🤖 Using GPT-4o for: "Leek"
🎯 GPT-4o standardized: "Leek" → "leek"
💾 Saving reference product: leek
➕ Added to reference base: "leek" (category: Other)
Processing: "Leek" → cleaned: "Leek" → standardized: "leek"
Found existing product: "Leek" (standardized: "leek")
🔍 Standardizing: "Star Fruit" (category: Other)
🔍 No similar product found for "Star Fruit" (best similarity: 0.798, threshold: 0.8)
🤖 Using GPT-4o for: "Star Fruit"
🎯 GPT-4o standardized: "Star Fruit" → "fruit star"
💾 Saving reference product: fruit star
➕ Added to reference base: "fruit star" (category: Other)
Processing: "Star Fruit" → cleaned: "Star Fruit" → standardized: "fruit star"
Found existing product: "Belimbing/Star fruit" (standardized: "fruit star")
🔍 Standardizing: "Lemon Grass/ sreh" (category: Other)
🔍 No similar product found for "Lemon Grass/ sreh" (best similarity: 0.545, threshold: 0.8)
🤖 Using GPT-4o for: "Lemon Grass/ sreh"
🎯 GPT-4o standardized: "Lemon Grass/ sreh" → "grass lemon"
💾 Saving reference product: grass lemon
➕ Added to reference base: "grass lemon" (category: Other)
Processing: "Lemon Grass/ sreh" → cleaned: "Lemon Grass/ sreh" → standardized: "grass lemon"
Found existing product: "Lemon Grass (Sereh)" (standardized: "grass lemon")
🔍 Standardizing: "Star Fruit Small" (category: Other)
🔍 No similar product found for "Star Fruit Small" (best similarity: 0.688, threshold: 0.8)
🤖 Using GPT-4o for: "Star Fruit Small"
🎯 GPT-4o standardized: "Star Fruit Small" → "fruit star small"
💾 Saving reference product: fruit star small
➕ Added to reference base: "fruit star small" (category: Other)
Processing: "Star Fruit Small" → cleaned: "Star Fruit Small" → standardized: "fruit star small"
Found existing product: "Star Fruit Small" (standardized: "fruit star small")
🔍 Standardizing: "Long Beans" (category: Other)
🔍 No similar product found for "Long Beans" (best similarity: 0.595, threshold: 0.8)
🤖 Using GPT-4o for: "Long Beans"
🎯 GPT-4o standardized: "Long Beans" → "bean long"
💾 Saving reference product: bean long
➕ Added to reference base: "bean long" (category: Other)
Processing: "Long Beans" → cleaned: "Long Beans" → standardized: "bean long"
Found existing product: "Bean Long (Kacang Panjang)" (standardized: "bean long")
🔍 Standardizing: "Strawberry Fresh" (category: Other)
🔍 No similar product found for "Strawberry Fresh" (best similarity: 0.771, threshold: 0.8)
🤖 Using GPT-4o for: "Strawberry Fresh"
🎯 GPT-4o standardized: "Strawberry Fresh" → "strawberry fresh"
💾 Saving reference product: strawberry fresh
➕ Added to reference base: "strawberry fresh" (category: Other)
Processing: "Strawberry Fresh" → cleaned: "Strawberry Fresh" → standardized: "strawberry fresh"
Found existing product: "Strawberry Fresh" (standardized: "strawberry fresh")
🔍 Standardizing: "Mung Beans" (category: Other)
🔍 No similar product found for "Mung Beans" (best similarity: 0.465, threshold: 0.8)
🤖 Using GPT-4o for: "Mung Beans"
🎯 GPT-4o standardized: "Mung Beans" → "bean mung"
💾 Saving reference product: bean mung
➕ Added to reference base: "bean mung" (category: Other)
Processing: "Mung Beans" → cleaned: "Mung Beans" → standardized: "bean mung"
Found existing product: "Mung Beans" (standardized: "bean mung")
🔍 Standardizing: "Strawberry Frosen" (category: Other)
🔍 No similar product found for "Strawberry Frosen" (best similarity: 0.704, threshold: 0.8)
🤖 Using GPT-4o for: "Strawberry Frosen"
🎯 GPT-4o standardized: "Strawberry Frosen" → "frozen strawberry"
💾 Saving reference product: frozen strawberry
➕ Added to reference base: "frozen strawberry" (category: Other)
Processing: "Strawberry Frosen" → cleaned: "Strawberry Frosen" → standardized: "frozen strawberry"
Found existing product: "Strawberry Frosen" (standardized: "frozen strawberry")
🔍 Standardizing: "Mushroom Button" (category: vegetables)
🎯 Found similar product: "Mushroom Button" → "mushroom button" (similarity: 1.000)
✅ Found via embedding: "Mushroom Button" → "mushroom button" (similarity: 1.000)
Processing: "Mushroom Button" → cleaned: "Mushroom Button" → standardized: "mushroom button"
Found existing product: "Mushroom Button" (standardized: "mushroom button")
🔍 Standardizing: "Watermelon Red" (category: fruits)
🔍 No similar product found for "Watermelon Red" (best similarity: 0.765, threshold: 0.8)
🤖 Using GPT-4o for: "Watermelon Red"
🎯 GPT-4o standardized: "Watermelon Red" → "watermelon red"
💾 Saving reference product: watermelon red
➕ Added to reference base: "watermelon red" (category: fruits)
Processing: "Watermelon Red" → cleaned: "Watermelon Red" → standardized: "watermelon red"
Found existing product: "Water Melon red" (standardized: "watermelon red")
🔍 Standardizing: "Mushroom Enoki" (category: vegetables)
🎯 Found similar product: "Mushroom Enoki" → "mushroom enoki" (similarity: 1.000)
✅ Found via embedding: "Mushroom Enoki" → "mushroom enoki" (similarity: 1.000)
Processing: "Mushroom Enoki" → cleaned: "Mushroom Enoki" → standardized: "mushroom enoki"
Found existing product: "Mushroom Enoki" (standardized: "mushroom enoki")
🔍 Standardizing: "Watermelon Yellow" (category: fruits)
🎯 Found similar product: "Watermelon Yellow" → "watermelon red" (similarity: 0.830)
✅ Found via embedding: "Watermelon Yellow" → "watermelon red" (similarity: 0.830)
Processing: "Watermelon Yellow" → cleaned: "Watermelon Yellow" → standardized: "watermelon red"
Found existing product: "Water Melon red" (standardized: "watermelon red")
🔍 Standardizing: "Mushroom King Oyster" (category: vegetables)
🔍 No similar product found for "Mushroom King Oyster" (best similarity: 0.711, threshold: 0.8)
🤖 Using GPT-4o for: "Mushroom King Oyster"
🎯 GPT-4o standardized: "Mushroom King Oyster" → "mushroom king oyster"
💾 Saving reference product: mushroom king oyster
➕ Added to reference base: "mushroom king oyster" (category: vegetables)
Processing: "Mushroom King Oyster" → cleaned: "Mushroom King Oyster" → standardized: "mushroom king oyster"
Found existing product: "king oyster" (standardized: "mushroom king oyster")
🔍 Standardizing: "Mushroom Oyster" (category: vegetables)
🎯 Found similar product: "Mushroom Oyster" → "mushroom king oyster" (similarity: 0.883)
✅ Found via embedding: "Mushroom Oyster" → "mushroom king oyster" (similarity: 0.883)
Processing: "Mushroom Oyster" → cleaned: "Mushroom Oyster" → standardized: "mushroom king oyster"
Created new product: "Mushroom Oyster" (standardized: "mushroom king oyster")
🔍 Standardizing: "Mushroom Portabella" (category: vegetables)
🎯 Found similar product: "Mushroom Portabella" → "mushroom portobello" (similarity: 0.963)
✅ Found via embedding: "Mushroom Portabella" → "mushroom portobello" (similarity: 0.963)
Processing: "Mushroom Portabella" → cleaned: "Mushroom Portabella" → standardized: "mushroom portobello"
Found existing product: "Mushroom Portabelo" (standardized: "mushroom portobello")
🔍 Standardizing: "Mushroom Shimeji" (category: vegetables)
🎯 Found similar product: "Mushroom Shimeji" → "mushroom shimeji" (similarity: 1.000)
✅ Found via embedding: "Mushroom Shimeji" → "mushroom shimeji" (similarity: 1.000)
Processing: "Mushroom Shimeji" → cleaned: "Mushroom Shimeji" → standardized: "mushroom shimeji"
Found existing product: "Mushroom Shimeji" (standardized: "mushroom shimeji")
🔍 Standardizing: "Arugula" (category: vegetables)
🔍 No similar product found for "Arugula" (best similarity: 0.793, threshold: 0.8)
🤖 Using GPT-4o for: "Arugula"
🎯 GPT-4o standardized: "Arugula" → "arugula"
💾 Saving reference product: arugula
➕ Added to reference base: "arugula" (category: vegetables)
Processing: "Arugula" → cleaned: "Arugula" → standardized: "arugula"
Found existing product: "rucola" (standardized: "arugula")
🔍 Standardizing: "Mushroom Shitake Dry" (category: vegetables)
🔍 No similar product found for "Mushroom Shitake Dry" (best similarity: 0.665, threshold: 0.8)
🤖 Using GPT-4o for: "Mushroom Shitake Dry"
🎯 GPT-4o standardized: "Mushroom Shitake Dry" → "mushroom shiitake dry"
💾 Saving reference product: mushroom shiitake dry
➕ Added to reference base: "mushroom shiitake dry" (category: vegetables)
Processing: "Mushroom Shitake Dry" → cleaned: "Mushroom Shitake Dry" → standardized: "mushroom shiitake dry"
Created new product: "Mushroom Shitake Dry" (standardized: "mushroom shiitake dry")
🔍 Standardizing: "Baby Arugula" (category: vegetables)
🎯 Found similar product: "Baby Arugula" → "arugula" (similarity: 0.854)
✅ Found via embedding: "Baby Arugula" → "arugula" (similarity: 0.854)
Processing: "Baby Arugula" → cleaned: "Baby Arugula" → standardized: "arugula"
Found existing product: "rucola" (standardized: "arugula")
🔍 Standardizing: "Mushroom Straw Fresh" (category: vegetables)
🔍 No similar product found for "Mushroom Straw Fresh" (best similarity: 0.627, threshold: 0.8)
🤖 Using GPT-4o for: "Mushroom Straw Fresh"
🎯 GPT-4o standardized: "Mushroom Straw Fresh" → "mushroom straw"
💾 Saving reference product: mushroom straw
➕ Added to reference base: "mushroom straw" (category: vegetables)
Processing: "Mushroom Straw Fresh" → cleaned: "Mushroom Straw Fresh" → standardized: "mushroom straw"
Created new product: "Mushroom Straw Fresh" (standardized: "mushroom straw")
🔍 Standardizing: "Baby Romaine" (category: vegetables)
🔍 No similar product found for "Baby Romaine" (best similarity: 0.784, threshold: 0.8)
🤖 Using GPT-4o for: "Baby Romaine"
🎯 GPT-4o standardized: "Baby Romaine" → "romaine baby"
💾 Saving reference product: romaine baby
➕ Added to reference base: "romaine baby" (category: vegetables)
Processing: "Baby Romaine" → cleaned: "Baby Romaine" → standardized: "romaine baby"
Found existing product: "Baby Romaine" (standardized: "romaine baby")
🔍 Standardizing: "Musroom Shitake Fresh" (category: vegetables)
🔍 No similar product found for "Musroom Shitake Fresh" (best similarity: 0.641, threshold: 0.8)
🤖 Using GPT-4o for: "Musroom Shitake Fresh"
🎯 GPT-4o standardized: "Musroom Shitake Fresh" → "mushroom shiitake fresh"
💾 Saving reference product: mushroom shiitake fresh
➕ Added to reference base: "mushroom shiitake fresh" (category: vegetables)
Processing: "Musroom Shitake Fresh" → cleaned: "Musroom Shitake Fresh" → standardized: "mushroom shiitake fresh"
Found existing product: "Mushroom Shitake Fresh" (standardized: "mushroom shiitake fresh")
🔍 Standardizing: "Baby Spinach English" (category: vegetables)
🔍 No similar product found for "Baby Spinach English" (best similarity: 0.701, threshold: 0.8)
🤖 Using GPT-4o for: "Baby Spinach English"
🎯 GPT-4o standardized: "Baby Spinach English" → "spinach baby"
💾 Saving reference product: spinach baby
➕ Added to reference base: "spinach baby" (category: vegetables)
Processing: "Baby Spinach English" → cleaned: "Baby Spinach English" → standardized: "spinach baby"
Found existing product: "Spinach Baby" (standardized: "spinach baby")
🔍 Standardizing: "Okra" (category: vegetables)
🔍 No similar product found for "Okra" (best similarity: 0.368, threshold: 0.8)
🤖 Using GPT-4o for: "Okra"
🎯 GPT-4o standardized: "Okra" → "okra"
💾 Saving reference product: okra
➕ Added to reference base: "okra" (category: vegetables)
Processing: "Okra" → cleaned: "Okra" → standardized: "okra"
Found existing product: "okra" (standardized: "okra")
🔍 Standardizing: "Pamkin" (category: vegetables)
🔍 No similar product found for "Pamkin" (best similarity: 0.394, threshold: 0.8)
🤖 Using GPT-4o for: "Pamkin"
🎯 GPT-4o standardized: "Pamkin" → "pumpkin"
💾 Saving reference product: pumpkin
➕ Added to reference base: "pumpkin" (category: vegetables)
Processing: "Pamkin" → cleaned: "Pamkin" → standardized: "pumpkin"
Found existing product: "pumpkin" (standardized: "pumpkin")
🔍 Standardizing: "Green Coral" (category: vegetables)
🔍 No similar product found for "Green Coral" (best similarity: 0.422, threshold: 0.8)
🤖 Using GPT-4o for: "Green Coral"
🎯 GPT-4o standardized: "Green Coral" → "coral green"
💾 Saving reference product: coral green
➕ Added to reference base: "coral green" (category: vegetables)
Processing: "Green Coral" → cleaned: "Green Coral" → standardized: "coral green"
Found existing product: "Green Coral" (standardized: "coral green")
🔍 Standardizing: "Pamkin Butternut" (category: vegetables)
🔍 No similar product found for "Pamkin Butternut" (best similarity: 0.522, threshold: 0.8)
🤖 Using GPT-4o for: "Pamkin Butternut"
🎯 GPT-4o standardized: "Pamkin Butternut" → "squash butternut"
💾 Saving reference product: squash butternut
➕ Added to reference base: "squash butternut" (category: vegetables)
Processing: "Pamkin Butternut" → cleaned: "Pamkin Butternut" → standardized: "squash butternut"
Found existing product: "Pamkin Butternut" (standardized: "squash butternut")
🔍 Standardizing: "Ice Berg" (category: vegetables)
🔍 No similar product found for "Ice Berg" (best similarity: 0.453, threshold: 0.8)
🤖 Using GPT-4o for: "Ice Berg"
🎯 GPT-4o standardized: "Ice Berg" → "lettuce iceberg"
💾 Saving reference product: lettuce iceberg
➕ Added to reference base: "lettuce iceberg" (category: vegetables)
Processing: "Ice Berg" → cleaned: "Ice Berg" → standardized: "lettuce iceberg"
Found existing product: "Lettuce Iceberg" (standardized: "lettuce iceberg")
🔍 Standardizing: "Peanut Kapri" (category: nuts)
🔍 No similar product found for "Peanut Kapri" (best similarity: 0.682, threshold: 0.8)
🤖 Using GPT-4o for: "Peanut Kapri"
🎯 GPT-4o standardized: "Peanut Kapri" → "peanut kapri"
💾 Saving reference product: peanut kapri
➕ Added to reference base: "peanut kapri" (category: nuts)
Processing: "Peanut Kapri" → cleaned: "Peanut Kapri" → standardized: "peanut kapri"
Found existing product: "Peanut Kapri" (standardized: "peanut kapri")
🔍 Standardizing: "Kale" (category: vegetables)
🎯 Found similar product: "Kale" → "kale" (similarity: 1.000)
✅ Found via embedding: "Kale" → "kale" (similarity: 1.000)
Processing: "Kale" → cleaned: "Kale" → standardized: "kale"
Found existing product: "Kailan" (standardized: "kale")
🔍 Standardizing: "Potato Big" (category: vegetables)
🎯 Found similar product: "Potato Big" → "potato medium big" (similarity: 0.844)
✅ Found via embedding: "Potato Big" → "potato medium big" (similarity: 0.844)
Processing: "Potato Big" → cleaned: "Potato Big" → standardized: "potato medium big"
Found existing product: "Potato Medium and Big" (standardized: "potato medium big")
🔍 Standardizing: "Lollo Roso" (category: vegetables)
🔍 No similar product found for "Lollo Roso" (best similarity: 0.611, threshold: 0.8)
🤖 Using GPT-4o for: "Lollo Roso"
🎯 GPT-4o standardized: "Lollo Roso" → "lettuce lollo rossa"
💾 Saving reference product: lettuce lollo rossa
➕ Added to reference base: "lettuce lollo rossa" (category: vegetables)
Processing: "Lollo Roso" → cleaned: "Lollo Roso" → standardized: "lettuce lollo rossa"
Created new product: "Lollo Roso" (standardized: "lettuce lollo rossa")
🔍 Standardizing: "Potato Medium" (category: vegetables)
🎯 Found similar product: "Potato Medium" → "potato medium big" (similarity: 0.882)
✅ Found via embedding: "Potato Medium" → "potato medium big" (similarity: 0.882)
Processing: "Potato Medium" → cleaned: "Potato Medium" → standardized: "potato medium big"
Found existing product: "Potato Medium and Big" (standardized: "potato medium big")
🔍 Standardizing: "Mix Lettuce" (category: vegetables)
🎯 Found similar product: "Mix Lettuce" → "mix lettuce" (similarity: 1.000)
✅ Found via embedding: "Mix Lettuce" → "mix lettuce" (similarity: 1.000)
Processing: "Mix Lettuce" → cleaned: "Mix Lettuce" → standardized: "mix lettuce"
Found existing product: "Lettuce Mix" (standardized: "mix lettuce")
🔍 Standardizing: "Red Beans" (category: vegetables)
🔍 No similar product found for "Red Beans" (best similarity: 0.557, threshold: 0.8)
🤖 Using GPT-4o for: "Red Beans"
🎯 GPT-4o standardized: "Red Beans" → "bean red"
💾 Saving reference product: bean red
➕ Added to reference base: "bean red" (category: vegetables)
Processing: "Red Beans" → cleaned: "Red Beans" → standardized: "bean red"
Found existing product: "Bean Red (Kacang Buncis)" (standardized: "bean red")
🔍 Standardizing: "Mizuna" (category: vegetables)
🔍 No similar product found for "Mizuna" (best similarity: 0.473, threshold: 0.8)
🤖 Using GPT-4o for: "Mizuna"
🎯 GPT-4o standardized: "Mizuna" → "mizuna"
💾 Saving reference product: mizuna
➕ Added to reference base: "mizuna" (category: vegetables)
Processing: "Mizuna" → cleaned: "Mizuna" → standardized: "mizuna"
Found existing product: "Mizuna" (standardized: "mizuna")
🔍 Standardizing: "Red Radish" (category: vegetables)
🎯 Found similar product: "Red Radish" → "radish red" (similarity: 0.875)
✅ Found via embedding: "Red Radish" → "radish red" (similarity: 0.875)
Processing: "Red Radish" → cleaned: "Red Radish" → standardized: "radish red"
Found existing product: "Radish Red" (standardized: "radish red")
🔍 Standardizing: "Radicio" (category: vegetables)
🔍 No similar product found for "Radicio" (best similarity: 0.532, threshold: 0.8)
🤖 Using GPT-4o for: "Radicio"
🎯 GPT-4o standardized: "Radicio" → "chicory"
💾 Saving reference product: chicory
➕ Added to reference base: "chicory" (category: vegetables)
Processing: "Radicio" → cleaned: "Radicio" → standardized: "chicory"
Created new product: "Radicio" (standardized: "chicory")
🔍 Standardizing: "Sesame Sead/ Wijen" (category: seeds)
🔍 No similar product found for "Sesame Sead/ Wijen" (best similarity: 0.000, threshold: 0.8)
🤖 Using GPT-4o for: "Sesame Sead/ Wijen"
🎯 GPT-4o standardized: "Sesame Sead/ Wijen" → "seed sesame"
💾 Saving reference product: seed sesame
➕ Added to reference base: "seed sesame" (category: seeds)
Processing: "Sesame Sead/ Wijen" → cleaned: "Sesame Sead/ Wijen" → standardized: "seed sesame"
Found existing product: "Sesame Seed/ Wijen" (standardized: "seed sesame")
🔍 Standardizing: "Red Coral" (category: vegetables)
🔍 No similar product found for "Red Coral" (best similarity: 0.696, threshold: 0.8)
🤖 Using GPT-4o for: "Red Coral"
🎯 GPT-4o standardized: "Red Coral" → "coral red"
💾 Saving reference product: coral red
➕ Added to reference base: "coral red" (category: vegetables)
Processing: "Red Coral" → cleaned: "Red Coral" → standardized: "coral red"
Found existing product: "Red Coral" (standardized: "coral red")
 GET /api/stats 200 in 1322ms
🔍 Standardizing: "Snow Peace" (category: vegetables)
🔍 No similar product found for "Snow Peace" (best similarity: 0.342, threshold: 0.8)
🤖 Using GPT-4o for: "Snow Peace"
🎯 GPT-4o standardized: "Snow Peace" → "pea snow"
💾 Saving reference product: pea snow
➕ Added to reference base: "pea snow" (category: vegetables)
Processing: "Snow Peace" → cleaned: "Snow Peace" → standardized: "pea snow"
Found existing product: "Snow Peas" (standardized: "pea snow")
🔍 Standardizing: "Romaine" (category: vegetables)
🎯 Found similar product: "Romaine" → "romaine baby" (similarity: 0.844)
✅ Found via embedding: "Romaine" → "romaine baby" (similarity: 0.844)
Processing: "Romaine" → cleaned: "Romaine" → standardized: "romaine baby"
Found existing product: "Baby Romaine" (standardized: "romaine baby")
🔍 Standardizing: "Soya Beans" (category: vegetables)
🔍 No similar product found for "Soya Beans" (best similarity: 0.621, threshold: 0.8)
🤖 Using GPT-4o for: "Soya Beans"
🎯 GPT-4o standardized: "Soya Beans" → "bean soya"
💾 Saving reference product: bean soya
➕ Added to reference base: "bean soya" (category: vegetables)
Processing: "Soya Beans" → cleaned: "Soya Beans" → standardized: "bean soya"
Found existing product: "Soya Beans" (standardized: "bean soya")
🔍 Standardizing: "Spinach English" (category: vegetables)
🔍 No similar product found for "Spinach English" (best similarity: 0.739, threshold: 0.8)
🤖 Using GPT-4o for: "Spinach English"
🎯 GPT-4o standardized: "Spinach English" → "spinach english"
💾 Saving reference product: spinach english
➕ Added to reference base: "spinach english" (category: vegetables)
Processing: "Spinach English" → cleaned: "Spinach English" → standardized: "spinach english"
Found existing product: "Spinach English / Horenso" (standardized: "spinach english")
🔍 Standardizing: "Spinach Akar" (category: vegetables)
🔍 No similar product found for "Spinach Akar" (best similarity: 0.708, threshold: 0.8)
🤖 Using GPT-4o for: "Spinach Akar"
 GET /api/suppliers 200 in 599ms
🎯 GPT-4o standardized: "Spinach Akar" → "spinach akar"
💾 Saving reference product: spinach akar
➕ Added to reference base: "spinach akar" (category: vegetables)
Processing: "Spinach Akar" → cleaned: "Spinach Akar" → standardized: "spinach akar"
Found existing product: "Spinach Akar" (standardized: "spinach akar")
🔍 Standardizing: "Water Cress" (category: vegetables)
🔍 No similar product found for "Water Cress" (best similarity: 0.599, threshold: 0.8)
🤖 Using GPT-4o for: "Water Cress"
🎯 GPT-4o standardized: "Water Cress" → "cress water"
💾 Saving reference product: cress water
➕ Added to reference base: "cress water" (category: vegetables)
Processing: "Water Cress" → cleaned: "Water Cress" → standardized: "cress water"
Found existing product: "water cress bali" (standardized: "cress water")
🔍 Standardizing: "Spinach Potong" (category: vegetables)
🔍 No similar product found for "Spinach Potong" (best similarity: 0.710, threshold: 0.8)
🤖 Using GPT-4o for: "Spinach Potong"
🎯 GPT-4o standardized: "Spinach Potong" → "spinach cut"
💾 Saving reference product: spinach cut
➕ Added to reference base: "spinach cut" (category: vegetables)
Processing: "Spinach Potong" → cleaned: "Spinach Potong" → standardized: "spinach cut"
Found existing product: "bayam potong" (standardized: "spinach cut")
🔍 Standardizing: "Wild Arugula" (category: vegetables)
🎯 Found similar product: "Wild Arugula" → "arugula" (similarity: 0.842)
✅ Found via embedding: "Wild Arugula" → "arugula" (similarity: 0.842)
Processing: "Wild Arugula" → cleaned: "Wild Arugula" → standardized: "arugula"
Found existing product: "rucola" (standardized: "arugula")
🔍 Standardizing: "Sweet Corn" (category: vegetables)
🔍 No similar product found for "Sweet Corn" (best similarity: 0.575, threshold: 0.8)
🤖 Using GPT-4o for: "Sweet Corn"
🎯 GPT-4o standardized: "Sweet Corn" → "corn sweet"
💾 Saving reference product: corn sweet
➕ Added to reference base: "corn sweet" (category: vegetables)
Processing: "Sweet Corn" → cleaned: "Sweet Corn" → standardized: "corn sweet"
Found existing product: "Corn sweet/jagung" (standardized: "corn sweet")
🔍 Standardizing: "Sweet Poteto" (category: vegetables)
🔍 No similar product found for "Sweet Poteto" (best similarity: 0.755, threshold: 0.8)
🤖 Using GPT-4o for: "Sweet Poteto"
🎯 GPT-4o standardized: "Sweet Poteto" → "potato sweet"
💾 Saving reference product: potato sweet
➕ Added to reference base: "potato sweet" (category: vegetables)
Processing: "Sweet Poteto" → cleaned: "Sweet Poteto" → standardized: "potato sweet"
Found existing product: "Potato Sweet" (standardized: "potato sweet")
🔍 Standardizing: "Tomato Beef" (category: vegetables)
🔍 No similar product found for "Tomato Beef" (best similarity: 0.712, threshold: 0.8)
🤖 Using GPT-4o for: "Tomato Beef"
🎯 GPT-4o standardized: "Tomato Beef" → "beef tomato"
💾 Saving reference product: beef tomato
➕ Added to reference base: "beef tomato" (category: vegetables)
Processing: "Tomato Beef" → cleaned: "Tomato Beef" → standardized: "beef tomato"
Found existing product: "Tomato Beef" (standardized: "beef tomato")
🔍 Standardizing: "Tomato Cery Red" (category: vegetables)
🔍 No similar product found for "Tomato Cery Red" (best similarity: 0.718, threshold: 0.8)
🤖 Using GPT-4o for: "Tomato Cery Red"
🎯 GPT-4o standardized: "Tomato Cery Red" → "tomato cherry red"
💾 Saving reference product: tomato cherry red
➕ Added to reference base: "tomato cherry red" (category: vegetables)
Processing: "Tomato Cery Red" → cleaned: "Tomato Cery Red" → standardized: "tomato cherry red"
Found existing product: "red cherry tomato" (standardized: "tomato cherry red")
🔍 Standardizing: "Tomato Cery Yellow" (category: vegetables)
🔍 No similar product found for "Tomato Cery Yellow" (best similarity: 0.695, threshold: 0.8)
🤖 Using GPT-4o for: "Tomato Cery Yellow"
🎯 GPT-4o standardized: "Tomato Cery Yellow" → "tomato cherry yellow"
💾 Saving reference product: tomato cherry yellow
➕ Added to reference base: "tomato cherry yellow" (category: vegetables)
Processing: "Tomato Cery Yellow" → cleaned: "Tomato Cery Yellow" → standardized: "tomato cherry yellow"
Found existing product: "yellow cherry tomato" (standardized: "tomato cherry yellow")
🔍 Standardizing: "Tomato Green" (category: vegetables)
🔍 No similar product found for "Tomato Green" (best similarity: 0.727, threshold: 0.8)
🤖 Using GPT-4o for: "Tomato Green"
🎯 GPT-4o standardized: "Tomato Green" → "tomato green"
💾 Saving reference product: tomato green
➕ Added to reference base: "tomato green" (category: vegetables)
Processing: "Tomato Green" → cleaned: "Tomato Green" → standardized: "tomato green"
Found existing product: "tomato ijo" (standardized: "tomato green")
🔍 Standardizing: "Tomato Red" (category: vegetables)
🎯 Found similar product: "Tomato Red" → "tomato cherry red" (similarity: 0.870)
✅ Found via embedding: "Tomato Red" → "tomato cherry red" (similarity: 0.870)
Processing: "Tomato Red" → cleaned: "Tomato Red" → standardized: "tomato cherry red"
Found existing product: "red cherry tomato" (standardized: "tomato cherry red")
🔍 Standardizing: "Candlenut/ Kemiri" (category: nuts)
🔍 No similar product found for "Candlenut/ Kemiri" (best similarity: 0.498, threshold: 0.8)
🤖 Using GPT-4o for: "Candlenut/ Kemiri"
🎯 GPT-4o standardized: "Candlenut/ Kemiri" → "nut candlenut"
💾 Saving reference product: nut candlenut
➕ Added to reference base: "nut candlenut" (category: nuts)
Processing: "Candlenut/ Kemiri" → cleaned: "Candlenut/ Kemiri" → standardized: "nut candlenut"
Created new product: "Candlenut/ Kemiri" (standardized: "nut candlenut")
🔍 Standardizing: "Zhuchini Yellow" (category: vegetables)
🔍 No similar product found for "Zhuchini Yellow" (best similarity: 0.622, threshold: 0.8)
🤖 Using GPT-4o for: "Zhuchini Yellow"
🎯 GPT-4o standardized: "Zhuchini Yellow" → "zucchini yellow"
💾 Saving reference product: zucchini yellow
➕ Added to reference base: "zucchini yellow" (category: vegetables)
Processing: "Zhuchini Yellow" → cleaned: "Zhuchini Yellow" → standardized: "zucchini yellow"
Found existing product: "Zucchini Yellow" (standardized: "zucchini yellow")
🔍 Standardizing: "Chilli Dry" (category: spices)
🔍 No similar product found for "Chilli Dry" (best similarity: 0.613, threshold: 0.8)
🤖 Using GPT-4o for: "Chilli Dry"
🎯 GPT-4o standardized: "Chilli Dry" → "chili dry"
💾 Saving reference product: chili dry
➕ Added to reference base: "chili dry" (category: spices)
Processing: "Chilli Dry" → cleaned: "Chilli Dry" → standardized: "chili dry"
Created new product: "Chilli Dry" (standardized: "chili dry")
🔍 Standardizing: "Zuchini Green" (category: Other)
🔍 No similar product found for "Zuchini Green" (best similarity: 0.597, threshold: 0.8)
🤖 Using GPT-4o for: "Zuchini Green"
🎯 GPT-4o standardized: "Zuchini Green" → "zucchini green"
💾 Saving reference product: zucchini green
➕ Added to reference base: "zucchini green" (category: Other)
Processing: "Zuchini Green" → cleaned: "Zuchini Green" → standardized: "zucchini green"
Found existing product: "Zucchini Green" (standardized: "zucchini green")
🔍 Standardizing: "Chilli Green Big" (category: Other)
🔍 No similar product found for "Chilli Green Big" (best similarity: 0.577, threshold: 0.8)
🤖 Using GPT-4o for: "Chilli Green Big"
🎯 GPT-4o standardized: "Chilli Green Big" → "chilli green"
💾 Saving reference product: chilli green
➕ Added to reference base: "chilli green" (category: Other)
Processing: "Chilli Green Big" → cleaned: "Chilli Green Big" → standardized: "chilli green"
Found existing product: "Chilli Green Big" (standardized: "chilli green")
🔍 Standardizing: "Chilli Green Small" (category: Other)
🎯 Found similar product: "Chilli Green Small" → "chilli green" (similarity: 0.873)
✅ Found via embedding: "Chilli Green Small" → "chilli green" (similarity: 0.873)
Processing: "Chilli Green Small" → cleaned: "Chilli Green Small" → standardized: "chilli green"
Found existing product: "Chilli Green Big" (standardized: "chilli green")
🔍 Standardizing: "Chilli Red Big" (category: Other)
🔍 No similar product found for "Chilli Red Big" (best similarity: 0.683, threshold: 0.8)
🤖 Using GPT-4o for: "Chilli Red Big"
🎯 GPT-4o standardized: "Chilli Red Big" → "chilli red"
💾 Saving reference product: chilli red
➕ Added to reference base: "chilli red" (category: Other)
Processing: "Chilli Red Big" → cleaned: "Chilli Red Big" → standardized: "chilli red"
Found existing product: "long red chilli" (standardized: "chilli red")
🔍 Standardizing: "Chilli Red Small" (category: Other)
🎯 Found similar product: "Chilli Red Small" → "chilli red" (similarity: 0.866)
✅ Found via embedding: "Chilli Red Small" → "chilli red" (similarity: 0.866)
Processing: "Chilli Red Small" → cleaned: "Chilli Red Small" → standardized: "chilli red"
Found existing product: "long red chilli" (standardized: "chilli red")
🔍 Standardizing: "Alfalfa Sprouts" (category: Other)
🔍 No similar product found for "Alfalfa Sprouts" (best similarity: 0.463, threshold: 0.8)
🤖 Using GPT-4o for: "Alfalfa Sprouts"
🎯 GPT-4o standardized: "Alfalfa Sprouts" → "sprout alfalfa"
💾 Saving reference product: sprout alfalfa
➕ Added to reference base: "sprout alfalfa" (category: Other)
Processing: "Alfalfa Sprouts" → cleaned: "Alfalfa Sprouts" → standardized: "sprout alfalfa"
Found existing product: "Alfalfa Sprouts" (standardized: "sprout alfalfa")
🔍 Standardizing: "Cinnzmon steak" (category: Other)
🔍 No similar product found for "Cinnzmon steak" (best similarity: 0.559, threshold: 0.8)
🤖 Using GPT-4o for: "Cinnzmon steak"
🎯 GPT-4o standardized: "Cinnzmon steak" → "steak cinnamon"
💾 Saving reference product: steak cinnamon
➕ Added to reference base: "steak cinnamon" (category: Other)
Processing: "Cinnzmon steak" → cleaned: "Cinnzmon steak" → standardized: "steak cinnamon"
Found existing product: "Cinnzmon steak" (standardized: "steak cinnamon")
🔍 Standardizing: "Basil Green" (category: Other)
🔍 No similar product found for "Basil Green" (best similarity: 0.722, threshold: 0.8)
🤖 Using GPT-4o for: "Basil Green"
🎯 GPT-4o standardized: "Basil Green" → "basil green"
💾 Saving reference product: basil green
➕ Added to reference base: "basil green" (category: Other)
Processing: "Basil Green" → cleaned: "Basil Green" → standardized: "basil green"
Found existing product: "Basil Green Fresh" (standardized: "basil green")
🔍 Standardizing: "Cloves" (category: Other)
🔍 No similar product found for "Cloves" (best similarity: 0.422, threshold: 0.8)
🤖 Using GPT-4o for: "Cloves"
🎯 GPT-4o standardized: "Cloves" → "clove"
💾 Saving reference product: clove
➕ Added to reference base: "clove" (category: Other)
Processing: "Cloves" → cleaned: "Cloves" → standardized: "clove"
Found existing product: "Clove" (standardized: "clove")
🔍 Standardizing: "Basil Thai" (category: Other)
🔍 No similar product found for "Basil Thai" (best similarity: 0.686, threshold: 0.8)
🤖 Using GPT-4o for: "Basil Thai"
🎯 GPT-4o standardized: "Basil Thai" → "basil thai"
💾 Saving reference product: basil thai
➕ Added to reference base: "basil thai" (category: Other)
Processing: "Basil Thai" → cleaned: "Basil Thai" → standardized: "basil thai"
Found existing product: "Basil Thai" (standardized: "basil thai")
🔍 Standardizing: "Cumin" (category: Other)
🔍 No similar product found for "Cumin" (best similarity: 0.481, threshold: 0.8)
🤖 Using GPT-4o for: "Cumin"
🎯 GPT-4o standardized: "Cumin" → "cumin"
💾 Saving reference product: cumin
➕ Added to reference base: "cumin" (category: Other)
Processing: "Cumin" → cleaned: "Cumin" → standardized: "cumin"
Found existing product: "Cumin / Jinten" (standardized: "cumin")
🔍 Standardizing: "Chives" (category: Other)
🔍 No similar product found for "Chives" (best similarity: 0.572, threshold: 0.8)
🤖 Using GPT-4o for: "Chives"
🎯 GPT-4o standardized: "Chives" → "chive"
💾 Saving reference product: chive
➕ Added to reference base: "chive" (category: Other)
Processing: "Chives" → cleaned: "Chives" → standardized: "chive"
Found existing product: "Chives" (standardized: "chive")
🔍 Standardizing: "Galangal" (category: Other)
🔍 No similar product found for "Galangal" (best similarity: 0.485, threshold: 0.8)
🤖 Using GPT-4o for: "Galangal"
🎯 GPT-4o standardized: "Galangal" → "galangal"
💾 Saving reference product: galangal
➕ Added to reference base: "galangal" (category: Other)
Processing: "Galangal" → cleaned: "Galangal" → standardized: "galangal"
Found existing product: "Galangal" (standardized: "galangal")
🔍 Standardizing: "Coriander" (category: Other)
🔍 No similar product found for "Coriander" (best similarity: 0.541, threshold: 0.8)
🤖 Using GPT-4o for: "Coriander"
🎯 GPT-4o standardized: "Coriander" → "coriander"
💾 Saving reference product: coriander
➕ Added to reference base: "coriander" (category: Other)
Processing: "Coriander" → cleaned: "Coriander" → standardized: "coriander"
Found existing product: "cilantro/corriander" (standardized: "coriander")
🔍 Standardizing: "Garlic Clean" (category: Other)
🔍 No similar product found for "Garlic Clean" (best similarity: 0.425, threshold: 0.8)
🤖 Using GPT-4o for: "Garlic Clean"
🎯 GPT-4o standardized: "Garlic Clean" → "garlic clean"
💾 Saving reference product: garlic clean
➕ Added to reference base: "garlic clean" (category: Other)
Processing: "Garlic Clean" → cleaned: "Garlic Clean" → standardized: "garlic clean"
Found existing product: "Garlic Clean" (standardized: "garlic clean")
🔍 Standardizing: "Curry Leaf" (category: Other)
🔍 No similar product found for "Curry Leaf" (best similarity: 0.528, threshold: 0.8)
🤖 Using GPT-4o for: "Curry Leaf"
🎯 GPT-4o standardized: "Curry Leaf" → "leaf curry"
💾 Saving reference product: leaf curry
➕ Added to reference base: "leaf curry" (category: Other)
Processing: "Curry Leaf" → cleaned: "Curry Leaf" → standardized: "leaf curry"
Found existing product: "Curry Leaf" (standardized: "leaf curry")
🔍 Standardizing: "Garlic Whole" (category: Other)
🔍 No similar product found for "Garlic Whole" (best similarity: 0.698, threshold: 0.8)
🤖 Using GPT-4o for: "Garlic Whole"
 GET /api/uploads/status 200 in 235ms
🎯 GPT-4o standardized: "Garlic Whole" → "garlic whole"
💾 Saving reference product: garlic whole
➕ Added to reference base: "garlic whole" (category: Other)
Processing: "Garlic Whole" → cleaned: "Garlic Whole" → standardized: "garlic whole"
Found existing product: "Garlic Whole" (standardized: "garlic whole")
🔍 Standardizing: "Dill" (category: Other)
🔍 No similar product found for "Dill" (best similarity: 0.499, threshold: 0.8)
🤖 Using GPT-4o for: "Dill"
🎯 GPT-4o standardized: "Dill" → "dill"
💾 Saving reference product: dill
➕ Added to reference base: "dill" (category: Other)
Processing: "Dill" → cleaned: "Dill" → standardized: "dill"
Found existing product: "dill" (standardized: "dill")
🔍 Standardizing: "Ginger Red" (category: Other)
🔍 No similar product found for "Ginger Red" (best similarity: 0.753, threshold: 0.8)
🤖 Using GPT-4o for: "Ginger Red"
🎯 GPT-4o standardized: "Ginger Red" → "ginger red"
💾 Saving reference product: ginger red
➕ Added to reference base: "ginger red" (category: Other)
Processing: "Ginger Red" → cleaned: "Ginger Red" → standardized: "ginger red"
Found existing product: "Ginger Red" (standardized: "ginger red")
🔍 Standardizing: "Laksa Leaf" (category: Other)
🔍 No similar product found for "Laksa Leaf" (best similarity: 0.494, threshold: 0.8)
🤖 Using GPT-4o for: "Laksa Leaf"
🎯 GPT-4o standardized: "Laksa Leaf" → "leaf laksa"
💾 Saving reference product: leaf laksa
➕ Added to reference base: "leaf laksa" (category: Other)
Processing: "Laksa Leaf" → cleaned: "Laksa Leaf" → standardized: "leaf laksa"
Found existing product: "Laksa Leaf" (standardized: "leaf laksa")
🔍 Standardizing: "Ginger White" (category: Other)
🔍 No similar product found for "Ginger White" (best similarity: 0.789, threshold: 0.8)
🤖 Using GPT-4o for: "Ginger White"
🎯 GPT-4o standardized: "Ginger White" → "ginger white"
💾 Saving reference product: ginger white
➕ Added to reference base: "ginger white" (category: Other)
Processing: "Ginger White" → cleaned: "Ginger White" → standardized: "ginger white"
Found existing product: "Ginger White" (standardized: "ginger white")
🔍 Standardizing: "Mint" (category: Other)
🔍 No similar product found for "Mint" (best similarity: 0.502, threshold: 0.8)
🤖 Using GPT-4o for: "Mint"
🎯 GPT-4o standardized: "Mint" → "mint"
💾 Saving reference product: mint
➕ Added to reference base: "mint" (category: Other)
Processing: "Mint" → cleaned: "Mint" → standardized: "mint"
Found existing product: "Mint" (standardized: "mint")
🔍 Standardizing: "Kencur" (category: Other)
🔍 No similar product found for "Kencur" (best similarity: 0.391, threshold: 0.8)
🤖 Using GPT-4o for: "Kencur"
🎯 GPT-4o standardized: "Kencur" → "kencur"
💾 Saving reference product: kencur
➕ Added to reference base: "kencur" (category: Other)
Processing: "Kencur" → cleaned: "Kencur" → standardized: "kencur"
Found existing product: "Kencur" (standardized: "kencur")
🔍 Standardizing: "Oregano" (category: Other)
🔍 No similar product found for "Oregano" (best similarity: 0.431, threshold: 0.8)
🤖 Using GPT-4o for: "Oregano"
🎯 GPT-4o standardized: "Oregano" → "oregano"
💾 Saving reference product: oregano
➕ Added to reference base: "oregano" (category: Other)
Processing: "Oregano" → cleaned: "Oregano" → standardized: "oregano"
Found existing product: "oregano" (standardized: "oregano")
🔍 Standardizing: "Nutmeg/Pala" (category: Other)
🔍 No similar product found for "Nutmeg/Pala" (best similarity: 0.492, threshold: 0.8)
🤖 Using GPT-4o for: "Nutmeg/Pala"
 GET /api/uploads/status 200 in 235ms
🎯 GPT-4o standardized: "Nutmeg/Pala" → "nutmeg"
💾 Saving reference product: nutmeg
➕ Added to reference base: "nutmeg" (category: Other)
Processing: "Nutmeg/Pala" → cleaned: "Nutmeg/Pala" → standardized: "nutmeg"
Found existing product: "nutmeg/pala" (standardized: "nutmeg")
🔍 Standardizing: "Parsley Curley" (category: Other)
🔍 No similar product found for "Parsley Curley" (best similarity: 0.530, threshold: 0.8)
🤖 Using GPT-4o for: "Parsley Curley"
🎯 GPT-4o standardized: "Parsley Curley" → "parsley curly"
💾 Saving reference product: parsley curly
➕ Added to reference base: "parsley curly" (category: Other)
Processing: "Parsley Curley" → cleaned: "Parsley Curley" → standardized: "parsley curly"
Found existing product: "Parsley curly" (standardized: "parsley curly")
🔍 Standardizing: "Onian White" (category: Other)
🔍 No similar product found for "Onian White" (best similarity: 0.695, threshold: 0.8)
🤖 Using GPT-4o for: "Onian White"
🎯 GPT-4o standardized: "Onian White" → "onion white"
💾 Saving reference product: onion white
➕ Added to reference base: "onion white" (category: Other)
Processing: "Onian White" → cleaned: "Onian White" → standardized: "onion white"
Found existing product: "white onion" (standardized: "onion white")
🔍 Standardizing: "Parsley Italy" (category: Other)
🔍 No similar product found for "Parsley Italy" (best similarity: 0.694, threshold: 0.8)
🤖 Using GPT-4o for: "Parsley Italy"
🎯 GPT-4o standardized: "Parsley Italy" → "parsley italy"
💾 Saving reference product: parsley italy
➕ Added to reference base: "parsley italy" (category: Other)
Processing: "Parsley Italy" → cleaned: "Parsley Italy" → standardized: "parsley italy"
Found existing product: "Parsley Italy" (standardized: "parsley italy")
🔍 Standardizing: "Onion Red" (category: Vegetables)
🎯 Found similar product: "Onion Red" → "onion red" (similarity: 1.000)
✅ Found via embedding: "Onion Red" → "onion red" (similarity: 1.000)
Processing: "Onion Red" → cleaned: "Onion Red" → standardized: "onion red"
Found existing product: "Onion Red" (standardized: "onion red")
🔍 Standardizing: "Pennel" (category: Other)
🔍 No similar product found for "Pennel" (best similarity: 0.377, threshold: 0.8)
🤖 Using GPT-4o for: "Pennel"
 GET /api/uploads/status 200 in 197ms
🎯 GPT-4o standardized: "Pennel" → "fennel"
💾 Saving reference product: fennel
➕ Added to reference base: "fennel" (category: Other)
Processing: "Pennel" → cleaned: "Pennel" → standardized: "fennel"
Found existing product: "fennel" (standardized: "fennel")
🔍 Standardizing: "Shallot Clean" (category: Other)
🔍 No similar product found for "Shallot Clean" (best similarity: 0.594, threshold: 0.8)
🤖 Using GPT-4o for: "Shallot Clean"
🎯 GPT-4o standardized: "Shallot Clean" → "shallot clean"
💾 Saving reference product: shallot clean
➕ Added to reference base: "shallot clean" (category: Other)
Processing: "Shallot Clean" → cleaned: "Shallot Clean" → standardized: "shallot clean"
Found existing product: "Shalot Clean" (standardized: "shallot clean")
🔍 Standardizing: "Rosemarry" (category: Other)
🔍 No similar product found for "Rosemarry" (best similarity: 0.368, threshold: 0.8)
🤖 Using GPT-4o for: "Rosemarry"
🎯 GPT-4o standardized: "Rosemarry" → "rosemary"
💾 Saving reference product: rosemary
➕ Added to reference base: "rosemary" (category: Other)
Processing: "Rosemarry" → cleaned: "Rosemarry" → standardized: "rosemary"
Found existing product: "rosemary" (standardized: "rosemary")
🔍 Standardizing: "Shallot Whole" (category: Other)
🔍 No similar product found for "Shallot Whole" (best similarity: 0.767, threshold: 0.8)
🤖 Using GPT-4o for: "Shallot Whole"
🎯 GPT-4o standardized: "Shallot Whole" → "shallot whole"
💾 Saving reference product: shallot whole
➕ Added to reference base: "shallot whole" (category: Other)
Processing: "Shallot Whole" → cleaned: "Shallot Whole" → standardized: "shallot whole"
Found existing product: "shallot whole" (standardized: "shallot whole")
🔍 Standardizing: "Sage" (category: Other)
🔍 No similar product found for "Sage" (best similarity: 0.464, threshold: 0.8)
🤖 Using GPT-4o for: "Sage"
🎯 GPT-4o standardized: "Sage" → "sage"
💾 Saving reference product: sage
➕ Added to reference base: "sage" (category: Other)
Processing: "Sage" → cleaned: "Sage" → standardized: "sage"
Found existing product: "Sage" (standardized: "sage")
🔍 Standardizing: "Star Anis" (category: Other)
🔍 No similar product found for "Star Anis" (best similarity: 0.597, threshold: 0.8)
🤖 Using GPT-4o for: "Star Anis"
🎯 GPT-4o standardized: "Star Anis" → "anise star"
💾 Saving reference product: anise star
➕ Added to reference base: "anise star" (category: Other)
Processing: "Star Anis" → cleaned: "Star Anis" → standardized: "anise star"
Found existing product: "Star Anis" (standardized: "anise star")
🔍 Standardizing: "Spring Onion" (category: Vegetables)
🔍 No similar product found for "Spring Onion" (best similarity: 0.589, threshold: 0.85)
🤖 Using GPT-4o for: "Spring Onion"
🎯 GPT-4o standardized: "Spring Onion" → "onion spring"
 ✓ Compiled in 17ms
💾 Saving reference product: onion spring
➕ Added to reference base: "onion spring" (category: Vegetables)
Processing: "Spring Onion" → cleaned: "Spring Onion" → standardized: "onion spring"
Found existing product: "Onion Spring" (standardized: "onion spring")
🔍 Standardizing: "Tumeric" (category: Other)
🔍 No similar product found for "Tumeric" (best similarity: 0.503, threshold: 0.8)
🤖 Using GPT-4o for: "Tumeric"
🎯 GPT-4o standardized: "Tumeric" → "turmeric"
💾 Saving reference product: turmeric
➕ Added to reference base: "turmeric" (category: Other)
Processing: "Tumeric" → cleaned: "Tumeric" → standardized: "turmeric"
Found existing product: "Turmeric" (standardized: "turmeric")
🔍 Standardizing: "Tarragon" (category: Other)
🔍 No similar product found for "Tarragon" (best similarity: 0.476, threshold: 0.8)
🤖 Using GPT-4o for: "Tarragon"
🎯 GPT-4o standardized: "Tarragon" → "tarragon"
💾 Saving reference product: tarragon
➕ Added to reference base: "tarragon" (category: Other)
Processing: "Tarragon" → cleaned: "Tarragon" → standardized: "tarragon"
Found existing product: "Taragon" (standardized: "tarragon")
🔍 Standardizing: "Endible Flower" (category: Other)
🔍 No similar product found for "Endible Flower" (best similarity: 0.448, threshold: 0.8)
🤖 Using GPT-4o for: "Endible Flower"
🎯 GPT-4o standardized: "Endible Flower" → "flower edible"
💾 Saving reference product: flower edible
➕ Added to reference base: "flower edible" (category: Other)
Processing: "Endible Flower" → cleaned: "Endible Flower" → standardized: "flower edible"
Found existing product: "Edible flowers" (standardized: "flower edible")
🔍 Standardizing: "Pakis" (category: Other)
🔍 No similar product found for "Pakis" (best similarity: 0.338, threshold: 0.8)
🤖 Using GPT-4o for: "Pakis"
🎯 GPT-4o standardized: "Pakis" → "fern"
💾 Saving reference product: fern
➕ Added to reference base: "fern" (category: Other)
Processing: "Pakis" → cleaned: "Pakis" → standardized: "fern"
Found existing product: "Pakis" (standardized: "fern")
🔍 Standardizing: "Pandan Leaf" (category: Other)
🔍 No similar product found for "Pandan Leaf" (best similarity: 0.497, threshold: 0.8)
🤖 Using GPT-4o for: "Pandan Leaf"
🎯 GPT-4o standardized: "Pandan Leaf" → "leaf pandan"
💾 Saving reference product: leaf pandan
➕ Added to reference base: "leaf pandan" (category: Other)
Processing: "Pandan Leaf" → cleaned: "Pandan Leaf" → standardized: "leaf pandan"
Created new product: "Pandan Leaf" (standardized: "leaf pandan")
🔍 Standardizing: "Banana Leaf" (category: Other)
🔍 No similar product found for "Banana Leaf" (best similarity: 0.632, threshold: 0.8)
🤖 Using GPT-4o for: "Banana Leaf"
🎯 GPT-4o standardized: "Banana Leaf" → "leaf banana"
💾 Saving reference product: leaf banana
➕ Added to reference base: "leaf banana" (category: Other)
Processing: "Banana Leaf" → cleaned: "Banana Leaf" → standardized: "leaf banana"
Created new product: "Banana Leaf" (standardized: "leaf banana")
🔍 Standardizing: "Lemo" (category: Other)
🔍 No similar product found for "Lemo" (best similarity: 0.512, threshold: 0.8)
🤖 Using GPT-4o for: "Lemo"
🎯 GPT-4o standardized: "Lemo" → "lemon"
💾 Saving reference product: lemon
➕ Added to reference base: "lemon" (category: Other)
Processing: "Lemo" → cleaned: "Lemo" → standardized: "lemon"
Found existing product: "Limo" (standardized: "lemon")
🔍 Standardizing: "Lemo Leaf" (category: Other)
🔍 No similar product found for "Lemo Leaf" (best similarity: 0.536, threshold: 0.8)
🤖 Using GPT-4o for: "Lemo Leaf"
🎯 GPT-4o standardized: "Lemo Leaf" → "leaf lemo"
💾 Saving reference product: leaf lemo
➕ Added to reference base: "leaf lemo" (category: Other)
Processing: "Lemo Leaf" → cleaned: "Lemo Leaf" → standardized: "leaf lemo"
Found existing product: "Lemo Leaf" (standardized: "leaf lemo")
🔍 Standardizing: "Bay Leaf" (category: Other)
🔍 No similar product found for "Bay Leaf" (best similarity: 0.544, threshold: 0.8)
🤖 Using GPT-4o for: "Bay Leaf"
🎯 GPT-4o standardized: "Bay Leaf" → "leaf bay"
💾 Saving reference product: leaf bay
➕ Added to reference base: "leaf bay" (category: Other)
Processing: "Bay Leaf" → cleaned: "Bay Leaf" → standardized: "leaf bay"
Found existing product: "Bay leaf/ daun salam" (standardized: "leaf bay")
🔍 Standardizing: "Kapir Lime/jeruk purut" (category: vegetables)
🔍 No similar product found for "Kapir Lime/jeruk purut" (best similarity: 0.425, threshold: 0.8)
🤖 Using GPT-4o for: "Kapir Lime/jeruk purut"
🎯 GPT-4o standardized: "Kapir Lime/jeruk purut" → "lime kaffir"
💾 Saving reference product: lime kaffir
➕ Added to reference base: "lime kaffir" (category: vegetables)
Processing: "Kapir Lime/jeruk purut" → cleaned: "Kapir Lime/jeruk purut" → standardized: "lime kaffir"
Found existing product: "Kapir Lime/jeruk purut" (standardized: "lime kaffir")
🔍 Standardizing: "Egg Chiken" (category: dairy)
🔍 No similar product found for "Egg Chiken" (best similarity: 0.790, threshold: 0.8)
🤖 Using GPT-4o for: "Egg Chiken"
🎯 GPT-4o standardized: "Egg Chiken" → "egg chicken"
💾 Saving reference product: egg chicken
➕ Added to reference base: "egg chicken" (category: dairy)
Processing: "Egg Chiken" → cleaned: "Egg Chiken" → standardized: "egg chicken"
Found existing product: "Egg Chiken" (standardized: "egg chicken")
🔍 Standardizing: "Egg Quail" (category: dairy)
🔍 No similar product found for "Egg Quail" (best similarity: 0.755, threshold: 0.8)
🤖 Using GPT-4o for: "Egg Quail"
🎯 GPT-4o standardized: "Egg Quail" → "egg quail"
💾 Saving reference product: egg quail
➕ Added to reference base: "egg quail" (category: dairy)
Processing: "Egg Quail" → cleaned: "Egg Quail" → standardized: "egg quail"
Found existing product: "Egg Quail" (standardized: "egg quail")
🔍 Standardizing: "Rice Putri 25" (category: grains)
🔍 No similar product found for "Rice Putri 25" (best similarity: 0.000, threshold: 0.8)
🤖 Using GPT-4o for: "Rice Putri 25"
 GET /api/uploads/status 200 in 838ms
🎯 GPT-4o standardized: "Rice Putri 25" → "rice putri"
💾 Saving reference product: rice putri
➕ Added to reference base: "rice putri" (category: grains)
Processing: "Rice Putri 25" → cleaned: "Rice Putri 25" → standardized: "rice putri"
Found existing product: "Rice Putri 25" (standardized: "rice putri")
🔍 Standardizing: "Rice Putri 10" (category: grains)
🎯 Found similar product: "Rice Putri 10" → "rice putri" (similarity: 0.846)
✅ Found via embedding: "Rice Putri 10" → "rice putri" (similarity: 0.846)
Processing: "Rice Putri 10" → cleaned: "Rice Putri 10" → standardized: "rice putri"
Found existing product: "Rice Putri 25" (standardized: "rice putri")
🔍 Standardizing: "Rice Putri 5" (category: grains)
🎯 Found similar product: "Rice Putri 5" → "rice putri" (similarity: 0.870)
✅ Found via embedding: "Rice Putri 5" → "rice putri" (similarity: 0.870)
Processing: "Rice Putri 5" → cleaned: "Rice Putri 5" → standardized: "rice putri"
Found existing product: "Rice Putri 25" (standardized: "rice putri")
🔍 Standardizing: "Sugar White" (category: sweeteners)
🔍 No similar product found for "Sugar White" (best similarity: 0.000, threshold: 0.8)
🤖 Using GPT-4o for: "Sugar White"
🎯 GPT-4o standardized: "Sugar White" → "sugar white"
💾 Saving reference product: sugar white
➕ Added to reference base: "sugar white" (category: sweeteners)
Processing: "Sugar White" → cleaned: "Sugar White" → standardized: "sugar white"
Found existing product: "white sugar [white]" (standardized: "sugar white")
🔍 Standardizing: "Sugar Aren" (category: sweeteners)
🔍 No similar product found for "Sugar Aren" (best similarity: 0.615, threshold: 0.8)
🤖 Using GPT-4o for: "Sugar Aren"
🎯 GPT-4o standardized: "Sugar Aren" → "sugar aren"
💾 Saving reference product: sugar aren
➕ Added to reference base: "sugar aren" (category: sweeteners)
Processing: "Sugar Aren" → cleaned: "Sugar Aren" → standardized: "sugar aren"
Found existing product: "Sugar Aren" (standardized: "sugar aren")
🔍 Standardizing: "Tahu lombok" (category: dairy)
🔍 No similar product found for "Tahu lombok" (best similarity: 0.290, threshold: 0.8)
🤖 Using GPT-4o for: "Tahu lombok"
 ✓ Compiled /api/reprocess-upload in 69ms
🔄 Reprocessing upload: Island Organics Bali.pdf (cmbm7f64z000woust2lj94mj5)
🔄 Starting reprocessing for upload: cmbm7f64z000woust2lj94mj5
📚 Loading reference products from database...
 POST /api/reprocess-upload 200 in 738ms
Error loading reference products: Error [PrismaClientValidationError]: 
Invalid `prisma.product.findMany()` invocation in
/Users/denisdomashenko/monito-web/.next/server/chunks/[root of the server]__fcb358._.js:199:59

  196 try {
  197     console.log('📚 Loading reference products from database...');
  198     // Загружаем из БД существующие стандартизированные продукты
→ 199     const existingProducts = await prisma.product.findMany({
            select: {
              id: true,
              standardizedName: true,
              category: true,
              name: true
            },
            where: {
              standardizedName: {
          +     not: String
              }
            }
          })

Argument `not` must not be null.
    at <unknown> (app/services/embeddingService.ts:181:52)
    at async EmbeddingService.loadReferenceProducts (app/services/embeddingService.ts:181:31)
  179 |       
  180 |       // Загружаем из БД существующие стандартизированные продукты
> 181 |       const existingProducts = await prisma.product.findMany({
      |                                                    ^
  182 |         select: {
  183 |           id: true,
  184 |           standardizedName: true, {
  clientVersion: '6.9.0'
}
🏗️ Initializing basic reference base...
🎯 GPT-4o standardized: "Tahu lombok" → "tofu chili"
Processing file: Island Organics Bali.pdf
Processing PDF: https://cdc1w79ssc4kg6xh.public.blob.vercel-storage.com/Island%20Organics%20Bali-ywWEuvZsODuKBVATgMUy9cXdN48q0B.pdf
💾 Saving reference product: tofu chili
➕ Added to reference base: "tofu chili" (category: dairy)
Processing: "Tahu lombok" → cleaned: "Tahu lombok" → standardized: "tofu chili"
Found existing product: "Tahu lombok" (standardized: "tofu chili")
🔍 Standardizing: "Tempe" (category: dairy)
🔍 No similar product found for "Tempe" (best similarity: 0.301, threshold: 0.8)
🤖 Using GPT-4o for: "Tempe"
Warning: Please use the `legacy` build in Node.js environments.
PDF parsing with pdfjs-dist failed: ReferenceError: DOMMatrix is not defined
    at <unknown> (.next/server/chunks/_c92189._.js:21:16)
    at async processPDF (app/services/fileProcessor.ts:120:23)
    at async processFile (app/services/fileProcessor.ts:50:22)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  118 |       
  119 |       // Dynamic import of pdfjs-dist
> 120 |       const pdfjsLib = await import('pdfjs-dist');
      |                       ^
  121 |       
  122 |       // Load the PDF document
  123 |       const pdf = await pdfjsLib.getDocument({
🔄 Attempting PDF processing with Vision API as fallback...
Processing Image with AI Vision: https://cdc1w79ssc4kg6xh.public.blob.vercel-storage.com/Island%20Organics%20Bali-ywWEuvZsODuKBVATgMUy9cXdN48q0B.pdf
✅ Initialized 24 basic reference products
Error processing image (attempt 1): Error: 400 You uploaded an unsupported image. Please make sure your image has of one the following formats: ['png', 'jpeg', 'gif', 'webp'].
    at async processImage (app/services/fileProcessor.ts:566:23)
    at async processPDF (app/services/fileProcessor.ts:178:29)
    at async processFile (app/services/fileProcessor.ts:50:22)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  564 |       
  565 |       // Use OpenAI Vision API to process image directly
> 566 |       const response = await openai.chat.completions.create({
      |                       ^
  567 |         model: "gpt-4o",
  568 |         max_tokens: 1500, // Ограничиваем токены для экономии
  569 |         messages: [ {
  status: 400,
  headers: Headers {
    date: 'Sat, 07 Jun 2025 12:43:24 GMT',
    'content-type': 'application/json',
    'content-length': '258',
    connection: 'keep-alive',
    'access-control-expose-headers': 'X-Request-ID',
    'openai-organization': 'caloriecheck',
    'openai-processing-ms': '851',
    'openai-version': '2020-10-01',
    'x-ratelimit-limit-input-images': '50000',
    'x-ratelimit-limit-requests': '500',
    'x-ratelimit-limit-tokens': '30000',
    'x-ratelimit-remaining-input-images': '49999',
    'x-ratelimit-remaining-requests': '499',
    'x-ratelimit-remaining-tokens': '28880',
    'x-ratelimit-reset-input-images': '1ms',
    'x-ratelimit-reset-requests': '120ms',
    'x-ratelimit-reset-tokens': '2.24s',
    'x-request-id': 'req_2501405c16506eb19e29b3c5670551c7',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'cf-cache-status': 'DYNAMIC',
    'set-cookie': '__cf_bm=6PKbRbLVzW6LcZOLjr_1MJhO7SSBLJd_CIvPaLwqkKE-1749300204-1.0.1.1-wKmSVW80fOMMT_EnPGuLkLX53p7vpBrASThjr2YMa4tMErFQRoWdS.FKFuOWBDJLQfD42OYor9eQD6.0DxP6EEy46ENOjJLjwXcp4LlAcl0; path=/; expires=Sat, 07-Jun-25 13:13:24 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None, _cfuvid=COZJVPyUat73Rw1.eduuoz7eLsbYiZMcRvOMODPtO7I-1749300204563-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None',
    'x-content-type-options': 'nosniff',
    server: 'cloudflare',
    'cf-ray': '94c03c1f8df29185-DPS',
    'alt-svc': 'h3=":443"; ma=86400'
  },
  requestID: 'req_2501405c16506eb19e29b3c5670551c7',
  error: [Object],
  code: 'invalid_image_format',
  param: null,
  type: 'invalid_request_error'
}
Processing Image with AI Vision: https://cdc1w79ssc4kg6xh.public.blob.vercel-storage.com/Island%20Organics%20Bali-ywWEuvZsODuKBVATgMUy9cXdN48q0B.pdf
🎯 GPT-4o standardized: "Tempe" → "tempeh"
💾 Saving reference product: tempeh
➕ Added to reference base: "tempeh" (category: dairy)
Processing: "Tempe" → cleaned: "Tempe" → standardized: "tempeh"
Found existing product: "Tempe" (standardized: "tempeh")
Error processing image (attempt 2): Error: 400 You uploaded an unsupported image. Please make sure your image has of one the following formats: ['png', 'jpeg', 'gif', 'webp'].
    at async processImage (app/services/fileProcessor.ts:566:23)
    at async processPDF (app/services/fileProcessor.ts:178:29)
    at async processFile (app/services/fileProcessor.ts:50:22)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  564 |       
  565 |       // Use OpenAI Vision API to process image directly
> 566 |       const response = await openai.chat.completions.create({
      |                       ^
  567 |         model: "gpt-4o",
  568 |         max_tokens: 1500, // Ограничиваем токены для экономии
  569 |         messages: [ {
  status: 400,
  headers: Headers {
    date: 'Sat, 07 Jun 2025 12:43:25 GMT',
    'content-type': 'application/json',
    'content-length': '258',
    connection: 'keep-alive',
    'access-control-expose-headers': 'X-Request-ID',
    'openai-organization': 'caloriecheck',
    'openai-processing-ms': '348',
    'openai-version': '2020-10-01',
    'x-ratelimit-limit-input-images': '50000',
    'x-ratelimit-limit-requests': '500',
    'x-ratelimit-limit-tokens': '30000',
    'x-ratelimit-remaining-input-images': '49999',
    'x-ratelimit-remaining-requests': '499',
    'x-ratelimit-remaining-tokens': '28340',
    'x-ratelimit-reset-input-images': '1ms',
    'x-ratelimit-reset-requests': '120ms',
    'x-ratelimit-reset-tokens': '3.319s',
    'x-request-id': 'req_bd16d097f315e03bc188bc942863b7ac',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'cf-cache-status': 'DYNAMIC',
    'set-cookie': '__cf_bm=gj0MuMg.wTe1sjTpbTtPPKe0_kP7qMT4W2m1tXf0zw0-1749300205-1.0.1.1-sbwiZqacJz3j7xj1HLGg6Hvk4JgzHS67VzPJxFlBqak5cEBLi.hjOI0gYqaqeuTELfnCMlmrbqI_JRWcoKZnlpRCfL_uOZ_CQL7KVnf6uEk; path=/; expires=Sat, 07-Jun-25 13:13:25 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None, _cfuvid=X7D86wuBDGtXi_fMhi2u7GkEfktXw.FNNyZFA9WuwL0-1749300205705-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None',
    'x-content-type-options': 'nosniff',
    server: 'cloudflare',
    'cf-ray': '94c03c29cea09185-DPS',
    'alt-svc': 'h3=":443"; ma=86400'
  },
  requestID: 'req_bd16d097f315e03bc188bc942863b7ac',
  error: [Object],
  code: 'invalid_image_format',
  param: null,
  type: 'invalid_request_error'
}
Processing Image with AI Vision: https://cdc1w79ssc4kg6xh.public.blob.vercel-storage.com/Island%20Organics%20Bali-ywWEuvZsODuKBVATgMUy9cXdN48q0B.pdf
Successfully processed 201 products from Oka veg supplier.xlsx
Error processing image (attempt 3): Error: 400 You uploaded an unsupported image. Please make sure your image has of one the following formats: ['png', 'jpeg', 'gif', 'webp'].
    at async processImage (app/services/fileProcessor.ts:566:23)
    at async processPDF (app/services/fileProcessor.ts:178:29)
    at async processFile (app/services/fileProcessor.ts:50:22)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  564 |       
  565 |       // Use OpenAI Vision API to process image directly
> 566 |       const response = await openai.chat.completions.create({
      |                       ^
  567 |         model: "gpt-4o",
  568 |         max_tokens: 1500, // Ограничиваем токены для экономии
  569 |         messages: [ {
  status: 400,
  headers: Headers {
    date: 'Sat, 07 Jun 2025 12:43:27 GMT',
    'content-type': 'application/json',
    'content-length': '258',
    connection: 'keep-alive',
    'access-control-expose-headers': 'X-Request-ID',
    'openai-organization': 'caloriecheck',
    'openai-processing-ms': '530',
    'openai-version': '2020-10-01',
    'x-ratelimit-limit-input-images': '50000',
    'x-ratelimit-limit-requests': '500',
    'x-ratelimit-limit-tokens': '30000',
    'x-ratelimit-remaining-input-images': '49999',
    'x-ratelimit-remaining-requests': '499',
    'x-ratelimit-remaining-tokens': '27895',
    'x-ratelimit-reset-input-images': '1ms',
    'x-ratelimit-reset-requests': '120ms',
    'x-ratelimit-reset-tokens': '4.208s',
    'x-request-id': 'req_6421e20a0d910ea457604bf6dc385bd4',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'cf-cache-status': 'DYNAMIC',
    'set-cookie': '__cf_bm=2Ah7fiUUE5rcXSIeLHb8yI7DCcY2cfMDZbt2oPCFkbc-1749300207-1.0.1.1-R1DEyjvusAY7cxHNLBwJHFJEEMM46R1ONEY2rlwHDFSTJ9jwdvunF4EKahsf2wanv4a0984BurKVSQj7zL0o30jpis6C1tiPLZCLvsYdZvc; path=/; expires=Sat, 07-Jun-25 13:13:27 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None, _cfuvid=g7en3Y4DYCTADK7lKhIAPvLJaXmHbOZjtLMIYsMCPBg-1749300207034-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None',
    'x-content-type-options': 'nosniff',
    server: 'cloudflare',
    'cf-ray': '94c03c30e9ecc02e-DPS',
    'alt-svc': 'h3=":443"; ma=86400'
  },
  requestID: 'req_6421e20a0d910ea457604bf6dc385bd4',
  error: [Object],
  code: 'invalid_image_format',
  param: null,
  type: 'invalid_request_error'
}
Max retries reached in processImage, returning empty result
⚠️ All PDF processing methods failed, returning empty result
Successfully processed 0 products from Island Organics Bali.pdf
🎉 Successfully reprocessed: cmbm7f64z000woust2lj94mj5
Processing file cmbm7fd2b001boustwcykbmom (2 remaining in queue)
Processing file: sai fresh.xlsx
Processing Excel: https://cdc1w79ssc4kg6xh.public.blob.vercel-storage.com/sai%20fresh-UK5AFSVkgbGdVqy8xv6MAfsyUVKeHs.xlsx
Excel file has 4 sheets: Sheet1, Lembar1, Sheet2, Sheet3
Sheet "Sheet1": 154 rows with data
Sheet "Lembar1": 0 rows with data
Sheet "Sheet2": 0 rows with data
Sheet "Sheet3": 0 rows with data
Found 1 sheets with data: Sheet1(154)
Processing sheet "Sheet1" with 154 rows...
Sheet "Sheet1": Processing 154 rows with data
Large sheet detected (154 rows), processing in chunks...
Processing chunk 1 with 30 rows...
Processing chunk 2 with 30 rows...
Processing chunk 3 with 30 rows...
 GET /api/uploads/status 200 in 246ms
Processing chunk 4 with 30 rows...
Processing chunk 5 with 30 rows...
Processing chunk 6 with 4 rows...
Sheet "Sheet1": Merged 6 chunks into 132 products
Processed 1 sheets, extracted 132 total products
Found existing supplier: SAI Fresh
🔍 Standardizing: "Basil Green Fresh" (category: Fresh Herbs & Spices)
🔍 No similar product found for "Basil Green Fresh" (best similarity: 0.731, threshold: 0.8)
🤖 Using GPT-4o for: "Basil Green Fresh"
🎯 GPT-4o standardized: "Basil Green Fresh" → "herb basil green"
💾 Saving reference product: herb basil green
➕ Added to reference base: "herb basil green" (category: Fresh Herbs & Spices)
Processing: "Basil Green Fresh" → cleaned: "Basil Green Fresh" → standardized: "herb basil green"
Found existing product: "Basil Green Fresh" (standardized: "herb basil green")
🔍 Standardizing: "Capsicum Green" (category: Fresh Herbs & Spices)
🎯 Found similar product: "Capsicum Green" → "capsicum green" (similarity: 1.000)
✅ Found via embedding: "Capsicum Green" → "capsicum green" (similarity: 1.000)
Processing: "Capsicum Green" → cleaned: "Capsicum Green" → standardized: "capsicum green"
Found existing product: "Capsicum Green" (standardized: "capsicum green")
🔍 Standardizing: "Capsicum Red" (category: Fresh Herbs & Spices)
🎯 Found similar product: "Capsicum Red" → "capsicum green" (similarity: 0.812)
✅ Found via embedding: "Capsicum Red" → "capsicum green" (similarity: 0.812)
Processing: "Capsicum Red" → cleaned: "Capsicum Red" → standardized: "capsicum green"
Found existing product: "Capsicum Green" (standardized: "capsicum green")
🔍 Standardizing: "Capsicum Yellow" (category: Fresh Herbs & Spices)
🎯 Found similar product: "Capsicum Yellow" → "capsicum green" (similarity: 0.802)
✅ Found via embedding: "Capsicum Yellow" → "capsicum green" (similarity: 0.802)
Processing: "Capsicum Yellow" → cleaned: "Capsicum Yellow" → standardized: "capsicum green"
Found existing product: "Capsicum Green" (standardized: "capsicum green")
🔍 Standardizing: "Chili Green large" (category: Fresh Herbs & Spices)
🎯 Found similar product: "Chili Green large" → "chili green large" (similarity: 1.000)
✅ Found via embedding: "Chili Green large" → "chili green large" (similarity: 1.000)
Processing: "Chili Green large" → cleaned: "Chili Green large" → standardized: "chili green large"
Found existing product: "Chili Green large" (standardized: "chili green large")
🔍 Standardizing: "Chili Hot Green small" (category: Fresh Herbs & Spices)
🎯 Found similar product: "Chili Hot Green small" → "chili green large" (similarity: 0.828)
✅ Found via embedding: "Chili Hot Green small" → "chili green large" (similarity: 0.828)
Processing: "Chili Hot Green small" → cleaned: "Chili Hot Green small" → standardized: "chili green large"
Found existing product: "Chili Green large" (standardized: "chili green large")
🔍 Standardizing: "Chili Hot Red small" (category: Fresh Herbs & Spices)
🎯 Found similar product: "Chili Hot Red small" → "chili red small" (similarity: 0.862)
✅ Found via embedding: "Chili Hot Red small" → "chili red small" (similarity: 0.862)
Processing: "Chili Hot Red small" → cleaned: "Chili Hot Red small" → standardized: "chili red small"
Found existing product: "Chili Hot Red small" (standardized: "chili red small")
🔍 Standardizing: "Chili Red large" (category: Fresh Herbs & Spices)
🎯 Found similar product: "Chili Red large" → "chili red small" (similarity: 0.930)
✅ Found via embedding: "Chili Red large" → "chili red small" (similarity: 0.930)
Processing: "Chili Red large" → cleaned: "Chili Red large" → standardized: "chili red small"
Found existing product: "Chili Hot Red small" (standardized: "chili red small")
🔍 Standardizing: "Chives Fresh" (category: Fresh Herbs & Spices)
🎯 Found similar product: "Chives Fresh" → "chive fresh" (similarity: 0.852)
✅ Found via embedding: "Chives Fresh" → "chive fresh" (similarity: 0.852)
Processing: "Chives Fresh" → cleaned: "Chives Fresh" → standardized: "chive fresh"
Found existing product: "Chives Fresh" (standardized: "chive fresh")
🔍 Standardizing: "Coriander leaf" (category: Fresh Herbs & Spices)
🎯 Found similar product: "Coriander leaf" → "leaf coriander" (similarity: 0.875)
✅ Found via embedding: "Coriander leaf" → "leaf coriander" (similarity: 0.875)
Processing: "Coriander leaf" → cleaned: "Coriander leaf" → standardized: "leaf coriander"
Found existing product: "Coriander leaf" (standardized: "leaf coriander")
🔍 Standardizing: "Dill fresh" (category: Fresh Herbs & Spices)
🔍 No similar product found for "Dill fresh" (best similarity: 0.761, threshold: 0.8)
🤖 Using GPT-4o for: "Dill fresh"
🎯 GPT-4o standardized: "Dill fresh" → "dill fresh"
💾 Saving reference product: dill fresh
➕ Added to reference base: "dill fresh" (category: Fresh Herbs & Spices)
Processing: "Dill fresh" → cleaned: "Dill fresh" → standardized: "dill fresh"
Found existing product: "Dill fresh" (standardized: "dill fresh")
🔍 Standardizing: "Galangal Root (Isen/Laos)" (category: Fresh Herbs & Spices)
🔍 No similar product found for "Galangal Root (Isen/Laos)" (best similarity: 0.658, threshold: 0.8)
🤖 Using GPT-4o for: "Galangal Root (Isen/Laos)"
🎯 GPT-4o standardized: "Galangal Root (Isen/Laos)" → "root galangal"
💾 Saving reference product: root galangal
➕ Added to reference base: "root galangal" (category: Fresh Herbs & Spices)
Processing: "Galangal Root (Isen/Laos)" → cleaned: "Galangal Root (Isen/Laos)" → standardized: "root galangal"
Found existing product: "Galangal Root (Isen/Laos)" (standardized: "root galangal")
🔍 Standardizing: "Garlic kupas" (category: Fresh Herbs & Spices)
🔍 No similar product found for "Garlic kupas" (best similarity: 0.642, threshold: 0.8)
🤖 Using GPT-4o for: "Garlic kupas"
🎯 GPT-4o standardized: "Garlic kupas" → "garlic peeled"
💾 Saving reference product: garlic peeled
➕ Added to reference base: "garlic peeled" (category: Fresh Herbs & Spices)
Processing: "Garlic kupas" → cleaned: "Garlic kupas" → standardized: "garlic peeled"
Found existing product: "Garlic kupas" (standardized: "garlic peeled")
🔍 Standardizing: "Ginger (Jahe)" (category: Fresh Herbs & Spices)
🔍 No similar product found for "Ginger (Jahe)" (best similarity: 0.771, threshold: 0.8)
🤖 Using GPT-4o for: "Ginger (Jahe)"
🎯 GPT-4o standardized: "Ginger (Jahe)" → "ginger"
💾 Saving reference product: ginger
➕ Added to reference base: "ginger" (category: Fresh Herbs & Spices)
Processing: "Ginger (Jahe)" → cleaned: "Ginger (Jahe)" → standardized: "ginger"
Found existing product: "Ginger (Jahe)" (standardized: "ginger")
🔍 Standardizing: "Parsley curly" (category: Fresh Herbs & Spices)
🎯 Found similar product: "Parsley curly" → "parsley curly" (similarity: 1.000)
✅ Found via embedding: "Parsley curly" → "parsley curly" (similarity: 1.000)
Processing: "Parsley curly" → cleaned: "Parsley curly" → standardized: "parsley curly"
Found existing product: "Parsley curly" (standardized: "parsley curly")
🔍 Standardizing: "Kencur" (category: Fresh Herbs & Spices)
🎯 Found similar product: "Kencur" → "kencur" (similarity: 1.000)
✅ Found via embedding: "Kencur" → "kencur" (similarity: 1.000)
Processing: "Kencur" → cleaned: "Kencur" → standardized: "kencur"
Found existing product: "Kencur" (standardized: "kencur")
🔍 Standardizing: "Leaf Kemangi" (category: Fresh Herbs & Spices)
🔍 No similar product found for "Leaf Kemangi" (best similarity: 0.451, threshold: 0.8)
🤖 Using GPT-4o for: "Leaf Kemangi"
🎯 GPT-4o standardized: "Leaf Kemangi" → "basil leaf"
💾 Saving reference product: basil leaf
➕ Added to reference base: "basil leaf" (category: Fresh Herbs & Spices)
Processing: "Leaf Kemangi" → cleaned: "Leaf Kemangi" → standardized: "basil leaf"
Found existing product: "Leaf Kemangi" (standardized: "basil leaf")
🔍 Standardizing: "Leaf Lime" (category: Fresh Herbs & Spices)
🔍 No similar product found for "Leaf Lime" (best similarity: 0.594, threshold: 0.8)
🤖 Using GPT-4o for: "Leaf Lime"
🎯 GPT-4o standardized: "Leaf Lime" → "lime leaf"
💾 Saving reference product: lime leaf
➕ Added to reference base: "lime leaf" (category: Fresh Herbs & Spices)
Processing: "Leaf Lime" → cleaned: "Leaf Lime" → standardized: "lime leaf"
Found existing product: "Leaf Lime" (standardized: "lime leaf")
🔍 Standardizing: "Leaf Pandan" (category: Fresh Herbs & Spices)
🔍 No similar product found for "Leaf Pandan" (best similarity: 0.749, threshold: 0.8)
🤖 Using GPT-4o for: "Leaf Pandan"
🎯 GPT-4o standardized: "Leaf Pandan" → "pandan leaf"
💾 Saving reference product: pandan leaf
➕ Added to reference base: "pandan leaf" (category: Fresh Herbs & Spices)
Processing: "Leaf Pandan" → cleaned: "Leaf Pandan" → standardized: "pandan leaf"
Found existing product: "Leaf Pandan" (standardized: "pandan leaf")
🔍 Standardizing: "Leaf Salam" (category: Fresh Herbs & Spices)
🔍 No similar product found for "Leaf Salam" (best similarity: 0.735, threshold: 0.8)
🤖 Using GPT-4o for: "Leaf Salam"
🎯 GPT-4o standardized: "Leaf Salam" → "salam leaf"
💾 Saving reference product: salam leaf
➕ Added to reference base: "salam leaf" (category: Fresh Herbs & Spices)
Processing: "Leaf Salam" → cleaned: "Leaf Salam" → standardized: "salam leaf"
Found existing product: "Leaf Salam" (standardized: "salam leaf")
🔍 Standardizing: "Lemon Grass (Sereh)" (category: Fresh Herbs & Spices)
🔍 No similar product found for "Lemon Grass (Sereh)" (best similarity: 0.618, threshold: 0.8)
🤖 Using GPT-4o for: "Lemon Grass (Sereh)"
🎯 GPT-4o standardized: "Lemon Grass (Sereh)" → "grass lemon"
💾 Saving reference product: grass lemon
➕ Added to reference base: "grass lemon" (category: Fresh Herbs & Spices)
Processing: "Lemon Grass (Sereh)" → cleaned: "Lemon Grass (Sereh)" → standardized: "grass lemon"
Found existing product: "Lemon Grass (Sereh)" (standardized: "grass lemon")
🔍 Standardizing: "Limo" (category: vegetables)
🔍 No similar product found for "Limo" (best similarity: 0.447, threshold: 0.8)
🤖 Using GPT-4o for: "Limo"
🎯 GPT-4o standardized: "Limo" → "lemon"
💾 Saving reference product: lemon
➕ Added to reference base: "lemon" (category: vegetables)
Processing: "Limo" → cleaned: "Limo" → standardized: "lemon"
Found existing product: "Limo" (standardized: "lemon")
🔍 Standardizing: "Mint Fresh" (category: vegetables)
🎯 Found similar product: "Mint Fresh" → "mint fresh" (similarity: 1.000)
✅ Found via embedding: "Mint Fresh" → "mint fresh" (similarity: 1.000)
Processing: "Mint Fresh" → cleaned: "Mint Fresh" → standardized: "mint fresh"
Found existing product: "Mint Fresh" (standardized: "mint fresh")
🔍 Standardizing: "Onion Brown" (category: vegetables)
🎯 Found similar product: "Onion Brown" → "onion brown" (similarity: 1.000)
✅ Found via embedding: "Onion Brown" → "onion brown" (similarity: 1.000)
Processing: "Onion Brown" → cleaned: "Onion Brown" → standardized: "onion brown"
Found existing product: "Onion Brown" (standardized: "onion brown")
🔍 Standardizing: "Onion Red" (category: vegetables)
🔍 No similar product found for "Onion Red" (best similarity: 0.699, threshold: 0.8)
🤖 Using GPT-4o for: "Onion Red"
🎯 GPT-4o standardized: "Onion Red" → "onion red"
💾 Saving reference product: onion red
➕ Added to reference base: "onion red" (category: vegetables)
Processing: "Onion Red" → cleaned: "Onion Red" → standardized: "onion red"
Found existing product: "Onion Red" (standardized: "onion red")
🔍 Standardizing: "Onion Spring" (category: vegetables)
🎯 Found similar product: "Onion Spring" → "onion spring" (similarity: 1.000)
✅ Found via embedding: "Onion Spring" → "onion spring" (similarity: 1.000)
Processing: "Onion Spring" → cleaned: "Onion Spring" → standardized: "onion spring"
Found existing product: "Onion Spring" (standardized: "onion spring")
🔍 Standardizing: "Oregano Fresh" (category: vegetables)
🎯 Found similar product: "Oregano Fresh" → "oregano fresh" (similarity: 1.000)
✅ Found via embedding: "Oregano Fresh" → "oregano fresh" (similarity: 1.000)
Processing: "Oregano Fresh" → cleaned: "Oregano Fresh" → standardized: "oregano fresh"
Found existing product: "Oregano Fresh" (standardized: "oregano fresh")
🔍 Standardizing: "Parsley Italia" (category: vegetables)
🔍 No similar product found for "Parsley Italia" (best similarity: 0.779, threshold: 0.8)
🤖 Using GPT-4o for: "Parsley Italia"
🎯 GPT-4o standardized: "Parsley Italia" → "parsley"
💾 Saving reference product: parsley
➕ Added to reference base: "parsley" (category: vegetables)
Processing: "Parsley Italia" → cleaned: "Parsley Italia" → standardized: "parsley"
Found existing product: "parsley" (standardized: "parsley")
🔍 Standardizing: "Rosemary Fresh" (category: vegetables)
🎯 Found similar product: "Rosemary Fresh" → "rosemary fresh" (similarity: 1.000)
✅ Found via embedding: "Rosemary Fresh" → "rosemary fresh" (similarity: 1.000)
Processing: "Rosemary Fresh" → cleaned: "Rosemary Fresh" → standardized: "rosemary fresh"
Found existing product: "Rosemary Fresh" (standardized: "rosemary fresh")
🔍 Standardizing: "Sage" (category: vegetables)
🎯 Found similar product: "Sage" → "sage" (similarity: 1.000)
✅ Found via embedding: "Sage" → "sage" (similarity: 1.000)
Processing: "Sage" → cleaned: "Sage" → standardized: "sage"
Found existing product: "Sage" (standardized: "sage")
🔍 Standardizing: "Shallot Kupas" (category: vegetables)
🔍 No similar product found for "Shallot Kupas" (best similarity: 0.663, threshold: 0.8)
🤖 Using GPT-4o for: "Shallot Kupas"
🎯 GPT-4o standardized: "Shallot Kupas" → "shallot peeled"
💾 Saving reference product: shallot peeled
➕ Added to reference base: "shallot peeled" (category: vegetables)
Processing: "Shallot Kupas" → cleaned: "Shallot Kupas" → standardized: "shallot peeled"
Found existing product: "Shallot Kupas" (standardized: "shallot peeled")
🔍 Standardizing: "Taragon" (category: vegetables)
🔍 No similar product found for "Taragon" (best similarity: 0.736, threshold: 0.8)
🤖 Using GPT-4o for: "Taragon"
🎯 GPT-4o standardized: "Taragon" → "tarragon"
💾 Saving reference product: tarragon
➕ Added to reference base: "tarragon" (category: vegetables)
Processing: "Taragon" → cleaned: "Taragon" → standardized: "tarragon"
Found existing product: "Taragon" (standardized: "tarragon")
🔍 Standardizing: "Thyme" (category: vegetables)
🎯 Found similar product: "Thyme" → "herb thyme" (similarity: 0.834)
✅ Found via embedding: "Thyme" → "herb thyme" (similarity: 0.834)
Processing: "Thyme" → cleaned: "Thyme" → standardized: "herb thyme"
Found existing product: "Thyme" (standardized: "herb thyme")
🔍 Standardizing: "Turmeric" (category: vegetables)
🎯 Found similar product: "Turmeric" → "turmeric" (similarity: 1.000)
✅ Found via embedding: "Turmeric" → "turmeric" (similarity: 1.000)
Processing: "Turmeric" → cleaned: "Turmeric" → standardized: "turmeric"
Found existing product: "Turmeric" (standardized: "turmeric")
🔍 Standardizing: "Asparagus Green" (category: vegetables)
🎯 Found similar product: "Asparagus Green" → "asparagus green" (similarity: 1.000)
✅ Found via embedding: "Asparagus Green" → "asparagus green" (similarity: 1.000)
Processing: "Asparagus Green" → cleaned: "Asparagus Green" → standardized: "asparagus green"
Found existing product: "Asparagus Green" (standardized: "asparagus green")
🔍 Standardizing: "Bean Asparagus (Kecipir)" (category: vegetables)
🔍 No similar product found for "Bean Asparagus (Kecipir)" (best similarity: 0.667, threshold: 0.8)
🤖 Using GPT-4o for: "Bean Asparagus (Kecipir)"
🎯 GPT-4o standardized: "Bean Asparagus (Kecipir)" → "asparagus bean"
💾 Saving reference product: asparagus bean
➕ Added to reference base: "asparagus bean" (category: vegetables)
Processing: "Bean Asparagus (Kecipir)" → cleaned: "Bean Asparagus (Kecipir)" → standardized: "asparagus bean"
Found existing product: "Bean Asparagus (Kecipir)" (standardized: "asparagus bean")
🔍 Standardizing: "Bean Long (Kacang Panjang)" (category: vegetables)
🔍 No similar product found for "Bean Long (Kacang Panjang)" (best similarity: 0.687, threshold: 0.8)
🤖 Using GPT-4o for: "Bean Long (Kacang Panjang)"
🎯 GPT-4o standardized: "Bean Long (Kacang Panjang)" → "bean long"
💾 Saving reference product: bean long
➕ Added to reference base: "bean long" (category: vegetables)
Processing: "Bean Long (Kacang Panjang)" → cleaned: "Bean Long (Kacang Panjang)" → standardized: "bean long"
Found existing product: "Bean Long (Kacang Panjang)" (standardized: "bean long")
🔍 Standardizing: "Toge" (category: vegetables)
🔍 No similar product found for "Toge" (best similarity: 0.480, threshold: 0.8)
🤖 Using GPT-4o for: "Toge"
🎯 GPT-4o standardized: "Toge" → "bean sprout"
💾 Saving reference product: bean sprout
➕ Added to reference base: "bean sprout" (category: vegetables)
Processing: "Toge" → cleaned: "Toge" → standardized: "bean sprout"
Found existing product: "Toge" (standardized: "bean sprout")
🔍 Standardizing: "Buncis" (category: vegetables)
🔍 No similar product found for "Buncis" (best similarity: 0.313, threshold: 0.8)
🤖 Using GPT-4o for: "Buncis"
🎯 GPT-4o standardized: "Buncis" → "bean"
💾 Saving reference product: bean
➕ Added to reference base: "bean" (category: vegetables)
Processing: "Buncis" → cleaned: "Buncis" → standardized: "bean"
Found existing product: "Buncis" (standardized: "bean")
🔍 Standardizing: "Baby Buncis" (category: vegetables)
🔍 No similar product found for "Baby Buncis" (best similarity: 0.571, threshold: 0.8)
🤖 Using GPT-4o for: "Baby Buncis"
🎯 GPT-4o standardized: "Baby Buncis" → "bean baby"
💾 Saving reference product: bean baby
➕ Added to reference base: "bean baby" (category: vegetables)
Processing: "Baby Buncis" → cleaned: "Baby Buncis" → standardized: "bean baby"
Found existing product: "Baby Buncis" (standardized: "bean baby")
🔍 Standardizing: "Beetroot" (category: vegetables)
🎯 Found similar product: "Beetroot" → "beetroot" (similarity: 1.000)
✅ Found via embedding: "Beetroot" → "beetroot" (similarity: 1.000)
Processing: "Beetroot" → cleaned: "Beetroot" → standardized: "beetroot"
Found existing product: "Beetroot" (standardized: "beetroot")
🔍 Standardizing: "Bok Choi" (category: vegetables)
🔍 No similar product found for "Bok Choi" (best similarity: 0.745, threshold: 0.8)
🤖 Using GPT-4o for: "Bok Choi"
🎯 GPT-4o standardized: "Bok Choi" → "choi bok"
💾 Saving reference product: choi bok
➕ Added to reference base: "choi bok" (category: vegetables)
Processing: "Bok Choi" → cleaned: "Bok Choi" → standardized: "choi bok"
Found existing product: "Bok Choi" (standardized: "choi bok")
🔍 Standardizing: "Broccoli" (category: vegetables)
🎯 Found similar product: "Broccoli" → "broccoli" (similarity: 1.000)
✅ Found via embedding: "Broccoli" → "broccoli" (similarity: 1.000)
Processing: "Broccoli" → cleaned: "Broccoli" → standardized: "broccoli"
Found existing product: "Broccoli" (standardized: "broccoli")
🔍 Standardizing: "Cabbage Chinese / Sawi Putih" (category: vegetables)
🔍 No similar product found for "Cabbage Chinese / Sawi Putih" (best similarity: 0.752, threshold: 0.8)
🤖 Using GPT-4o for: "Cabbage Chinese / Sawi Putih"
🎯 GPT-4o standardized: "Cabbage Chinese / Sawi Putih" → "cabbage chinese"
💾 Saving reference product: cabbage chinese
➕ Added to reference base: "cabbage chinese" (category: vegetables)
Processing: "Cabbage Chinese / Sawi Putih" → cleaned: "Cabbage Chinese / Sawi Putih" → standardized: "cabbage chinese"
Found existing product: "Cabbage Chinese / Sawi Putih" (standardized: "cabbage chinese")
🔍 Standardizing: "Cabbage Red / Kol Merah" (category: vegetables)
🔍 No similar product found for "Cabbage Red / Kol Merah" (best similarity: 0.760, threshold: 0.8)
🤖 Using GPT-4o for: "Cabbage Red / Kol Merah"
🎯 GPT-4o standardized: "Cabbage Red / Kol Merah" → "cabbage red"
💾 Saving reference product: cabbage red
➕ Added to reference base: "cabbage red" (category: vegetables)
Processing: "Cabbage Red / Kol Merah" → cleaned: "Cabbage Red / Kol Merah" → standardized: "cabbage red"
Found existing product: "Cabbage Red / Kol Merah" (standardized: "cabbage red")
🔍 Standardizing: "Cabbage White / Kol" (category: vegetables)
🎯 Found similar product: "Cabbage White / Kol" → "cabbage white" (similarity: 0.808)
✅ Found via embedding: "Cabbage White / Kol" → "cabbage white" (similarity: 0.808)
Processing: "Cabbage White / Kol" → cleaned: "Cabbage White / Kol" → standardized: "cabbage white"
Found existing product: "Cabbage White / Kol" (standardized: "cabbage white")
🔍 Standardizing: "Caisin / Sayur Hijau" (category: vegetables)
🔍 No similar product found for "Caisin / Sayur Hijau" (best similarity: 0.583, threshold: 0.8)
🤖 Using GPT-4o for: "Caisin / Sayur Hijau"
🎯 GPT-4o standardized: "Caisin / Sayur Hijau" → "vegetable caisin"
💾 Saving reference product: vegetable caisin
➕ Added to reference base: "vegetable caisin" (category: vegetables)
Processing: "Caisin / Sayur Hijau" → cleaned: "Caisin / Sayur Hijau" → standardized: "vegetable caisin"
Found existing product: "Caisin / Sayur Hijau" (standardized: "vegetable caisin")
🔍 Standardizing: "Carrot Baby Import" (category: vegetables)
🎯 Found similar product: "Carrot Baby Import" → "carrot baby" (similarity: 0.857)
✅ Found via embedding: "Carrot Baby Import" → "carrot baby" (similarity: 0.857)
Processing: "Carrot Baby Import" → cleaned: "Carrot Baby Import" → standardized: "carrot baby"
Found existing product: "Carrot Baby Import" (standardized: "carrot baby")
🔍 Standardizing: "Carrot Import" (category: vegetables)
🎯 Found similar product: "Carrot Import" → "carrot import" (similarity: 1.000)
✅ Found via embedding: "Carrot Import" → "carrot import" (similarity: 1.000)
Processing: "Carrot Import" → cleaned: "Carrot Import" → standardized: "carrot import"
Found existing product: "Carrot Import" (standardized: "carrot import")
🔍 Standardizing: "Carrot Lokal / Baby and Big" (category: vegetables)
🎯 Found similar product: "Carrot Lokal / Baby and Big" → "carrot baby big" (similarity: 0.860)
✅ Found via embedding: "Carrot Lokal / Baby and Big" → "carrot baby big" (similarity: 0.860)
Processing: "Carrot Lokal / Baby and Big" → cleaned: "Carrot Lokal / Baby and Big" → standardized: "carrot baby big"
Found existing product: "Carrot Lokal / Baby and Big" (standardized: "carrot baby big")
🔍 Standardizing: "Cauli Flower" (category: vegetables)
🔍 No similar product found for "Cauli Flower" (best similarity: 0.782, threshold: 0.8)
🤖 Using GPT-4o for: "Cauli Flower"
🎯 GPT-4o standardized: "Cauli Flower" → "cauliflower"
💾 Saving reference product: cauliflower
➕ Added to reference base: "cauliflower" (category: vegetables)
Processing: "Cauli Flower" → cleaned: "Cauli Flower" → standardized: "cauliflower"
Found existing product: "Cauli Flower" (standardized: "cauliflower")
🔍 Standardizing: "Celery Local" (category: vegetables)
🎯 Found similar product: "Celery Local" → "celery local" (similarity: 1.000)
✅ Found via embedding: "Celery Local" → "celery local" (similarity: 1.000)
Processing: "Celery Local" → cleaned: "Celery Local" → standardized: "celery local"
Found existing product: "Celery local" (standardized: "celery local")
🔍 Standardizing: "Celery Stik" (category: vegetables)
🎯 Found similar product: "Celery Stik" → "celery stick" (similarity: 0.857)
✅ Found via embedding: "Celery Stik" → "celery stick" (similarity: 0.857)
Processing: "Celery Stik" → cleaned: "Celery Stik" → standardized: "celery stick"
Found existing product: "Celery stik" (standardized: "celery stick")
🔍 Standardizing: "Corn Sweet/Jagung" (category: vegetables)
🔍 No similar product found for "Corn Sweet/Jagung" (best similarity: 0.768, threshold: 0.8)
🤖 Using GPT-4o for: "Corn Sweet/Jagung"
🎯 GPT-4o standardized: "Corn Sweet/Jagung" → "corn sweet"
💾 Saving reference product: corn sweet
➕ Added to reference base: "corn sweet" (category: vegetables)
Processing: "Corn Sweet/Jagung" → cleaned: "Corn Sweet/Jagung" → standardized: "corn sweet"
Found existing product: "Corn sweet/jagung" (standardized: "corn sweet")
🔍 Standardizing: "Cucumber Japanese" (category: vegetables)
🎯 Found similar product: "Cucumber Japanese" → "cucumber japanese" (similarity: 1.000)
✅ Found via embedding: "Cucumber Japanese" → "cucumber japanese" (similarity: 1.000)
Processing: "Cucumber Japanese" → cleaned: "Cucumber Japanese" → standardized: "cucumber japanese"
Found existing product: "Cucumber Japanese" (standardized: "cucumber japanese")
🔍 Standardizing: "Cucumber Local" (category: vegetables)
🎯 Found similar product: "Cucumber Local" → "cucumber local" (similarity: 1.000)
✅ Found via embedding: "Cucumber Local" → "cucumber local" (similarity: 1.000)
Processing: "Cucumber Local" → cleaned: "Cucumber Local" → standardized: "cucumber local"
Found existing product: "Cucumber Local" (standardized: "cucumber local")
🔍 Standardizing: "Eggplant Large Long" (category: vegetables)
🎯 Found similar product: "Eggplant Large Long" → "eggplant long large" (similarity: 0.928)
✅ Found via embedding: "Eggplant Large Long" → "eggplant long large" (similarity: 0.928)
Processing: "Eggplant Large Long" → cleaned: "Eggplant Large Long" → standardized: "eggplant long large"
Found existing product: "Eggplant Large Long" (standardized: "eggplant long large")
🔍 Standardizing: "Eggplant Small Round" (category: vegetables)
🎯 Found similar product: "Eggplant Small Round" → "eggplant round small" (similarity: 0.956)
✅ Found via embedding: "Eggplant Small Round" → "eggplant round small" (similarity: 0.956)
Processing: "Eggplant Small Round" → cleaned: "Eggplant Small Round" → standardized: "eggplant round small"
Found existing product: "Eggplant Small Round" (standardized: "eggplant round small")
🔍 Standardizing: "Ubi" (category: vegetables)
🔍 No similar product found for "Ubi" (best similarity: 0.332, threshold: 0.8)
🤖 Using GPT-4o for: "Ubi"
🎯 GPT-4o standardized: "Ubi" → "yam"
💾 Saving reference product: yam
➕ Added to reference base: "yam" (category: vegetables)
Processing: "Ubi" → cleaned: "Ubi" → standardized: "yam"
Found existing product: "Ubi" (standardized: "yam")
🔍 Standardizing: "Tempe" (category: dairy)
🎯 Found similar product: "Tempe" → "tempeh" (similarity: 0.802)
✅ Found via embedding: "Tempe" → "tempeh" (similarity: 0.802)
Processing: "Tempe" → cleaned: "Tempe" → standardized: "tempeh"
Found existing product: "Tempe" (standardized: "tempeh")
🔍 Standardizing: "Tahu" (category: dairy)
🔍 No similar product found for "Tahu" (best similarity: 0.542, threshold: 0.8)
🤖 Using GPT-4o for: "Tahu"
🎯 GPT-4o standardized: "Tahu" → "tofu"
💾 Saving reference product: tofu
➕ Added to reference base: "tofu" (category: dairy)
Processing: "Tahu" → cleaned: "Tahu" → standardized: "tofu"
Found existing product: "Tahu" (standardized: "tofu")
🔍 Standardizing: "Lime" (category: fruits)
🔍 No similar product found for "Lime" (best similarity: 0.352, threshold: 0.8)
🤖 Using GPT-4o for: "Lime"
🎯 GPT-4o standardized: "Lime" → "lime"
💾 Saving reference product: lime
➕ Added to reference base: "lime" (category: fruits)
Processing: "Lime" → cleaned: "Lime" → standardized: "lime"
Found existing product: "Limo" (standardized: "lime")
🔍 Standardizing: "Lemon Import" (category: fruits)
🔍 No similar product found for "Lemon Import" (best similarity: 0.361, threshold: 0.8)
🤖 Using GPT-4o for: "Lemon Import"
🎯 GPT-4o standardized: "Lemon Import" → "lemon import"
💾 Saving reference product: lemon import
➕ Added to reference base: "lemon import" (category: fruits)
Processing: "Lemon Import" → cleaned: "Lemon Import" → standardized: "lemon import"
Found existing product: "Lemon import" (standardized: "lemon import")
🔍 Standardizing: "Leek" (category: vegetables)
🎯 Found similar product: "Leek" → "leek" (similarity: 1.000)
✅ Found via embedding: "Leek" → "leek" (similarity: 1.000)
Processing: "Leek" → cleaned: "Leek" → standardized: "leek"
Found existing product: "Leek" (standardized: "leek")
🔍 Standardizing: "Gondo" (category: vegetables)
🔍 No similar product found for "Gondo" (best similarity: 0.423, threshold: 0.8)
🤖 Using GPT-4o for: "Gondo"
🎯 GPT-4o standardized: "Gondo" → "gourd"
💾 Saving reference product: gourd
➕ Added to reference base: "gourd" (category: vegetables)
Processing: "Gondo" → cleaned: "Gondo" → standardized: "gourd"
Found existing product: "Gondo" (standardized: "gourd")
🔍 Standardizing: "Lettuce Curly" (category: vegetables)
🎯 Found similar product: "Lettuce Curly" → "lettuce curly" (similarity: 1.000)
✅ Found via embedding: "Lettuce Curly" → "lettuce curly" (similarity: 1.000)
Processing: "Lettuce Curly" → cleaned: "Lettuce Curly" → standardized: "lettuce curly"
Found existing product: "Lettuce Curly" (standardized: "lettuce curly")
🔍 Standardizing: "Lettuce Frisse" (category: vegetables)
🎯 Found similar product: "Lettuce Frisse" → "lettuce frisée" (similarity: 0.904)
✅ Found via embedding: "Lettuce Frisse" → "lettuce frisée" (similarity: 0.904)
Processing: "Lettuce Frisse" → cleaned: "Lettuce Frisse" → standardized: "lettuce frisée"
Found existing product: "Lettuce Frisse" (standardized: "lettuce frisée")
🔍 Standardizing: "Lettuce Iceberg" (category: vegetables)
🎯 Found similar product: "Lettuce Iceberg" → "lettuce iceberg" (similarity: 1.000)
✅ Found via embedding: "Lettuce Iceberg" → "lettuce iceberg" (similarity: 1.000)
Processing: "Lettuce Iceberg" → cleaned: "Lettuce Iceberg" → standardized: "lettuce iceberg"
Found existing product: "Lettuce Iceberg" (standardized: "lettuce iceberg")
🔍 Standardizing: "Lettuce Fenel" (category: vegetables)
🔍 No similar product found for "Lettuce Fenel" (best similarity: 0.751, threshold: 0.8)
🤖 Using GPT-4o for: "Lettuce Fenel"
🎯 GPT-4o standardized: "Lettuce Fenel" → "lettuce fennel"
💾 Saving reference product: lettuce fennel
➕ Added to reference base: "lettuce fennel" (category: vegetables)
Processing: "Lettuce Fenel" → cleaned: "Lettuce Fenel" → standardized: "lettuce fennel"
Found existing product: "Lettuce Fenel" (standardized: "lettuce fennel")
🔍 Standardizing: "Lettuce Lollo Rose" (category: vegetables)
🎯 Found similar product: "Lettuce Lollo Rose" → "lettuce lollo rossa" (similarity: 0.888)
✅ Found via embedding: "Lettuce Lollo Rose" → "lettuce lollo rossa" (similarity: 0.888)
Processing: "Lettuce Lollo Rose" → cleaned: "Lettuce Lollo Rose" → standardized: "lettuce lollo rossa"
Found existing product: "Lollo Roso" (standardized: "lettuce lollo rossa")
🔍 Standardizing: "Lettuce Mix" (category: vegetables)
🔍 No similar product found for "Lettuce Mix" (best similarity: 0.779, threshold: 0.8)
🤖 Using GPT-4o for: "Lettuce Mix"
🎯 GPT-4o standardized: "Lettuce Mix" → "lettuce mix"
💾 Saving reference product: lettuce mix
➕ Added to reference base: "lettuce mix" (category: vegetables)
Processing: "Lettuce Mix" → cleaned: "Lettuce Mix" → standardized: "lettuce mix"
Found existing product: "Lettuce Mix" (standardized: "lettuce mix")
🔍 Standardizing: "Lettuce Rucola" (category: vegetables)
🎯 Found similar product: "Lettuce Rucola" → "lettuce arugula" (similarity: 0.834)
✅ Found via embedding: "Lettuce Rucola" → "lettuce arugula" (similarity: 0.834)
Processing: "Lettuce Rucola" → cleaned: "Lettuce Rucola" → standardized: "lettuce arugula"
Found existing product: "Lettuce Rucola" (standardized: "lettuce arugula")
🔍 Standardizing: "Lettuce Radichio" (category: vegetables)
🎯 Found similar product: "Lettuce Radichio" → "lettuce arugula" (similarity: 0.823)
✅ Found via embedding: "Lettuce Radichio" → "lettuce arugula" (similarity: 0.823)
Processing: "Lettuce Radichio" → cleaned: "Lettuce Radichio" → standardized: "lettuce arugula"
Found existing product: "Lettuce Rucola" (standardized: "lettuce arugula")
🔍 Standardizing: "Lettuce Rocket" (category: vegetables)
🔍 No similar product found for "Lettuce Rocket" (best similarity: 0.765, threshold: 0.8)
🤖 Using GPT-4o for: "Lettuce Rocket"
🎯 GPT-4o standardized: "Lettuce Rocket" → "rocket lettuce"
💾 Saving reference product: rocket lettuce
➕ Added to reference base: "rocket lettuce" (category: vegetables)
Processing: "Lettuce Rocket" → cleaned: "Lettuce Rocket" → standardized: "rocket lettuce"
Found existing product: "Lettuce Rocket" (standardized: "rocket lettuce")
🔍 Standardizing: "Lettuce Romain Baby" (category: vegetables)
🎯 Found similar product: "Lettuce Romain Baby" → "lettuce romaine baby" (similarity: 0.936)
✅ Found via embedding: "Lettuce Romain Baby" → "lettuce romaine baby" (similarity: 0.936)
Processing: "Lettuce Romain Baby" → cleaned: "Lettuce Romain Baby" → standardized: "lettuce romaine baby"
Found existing product: "Lettuce Romain baby" (standardized: "lettuce romaine baby")
🔍 Standardizing: "Masroom Simeji" (category: vegetables)
🔍 No similar product found for "Masroom Simeji" (best similarity: 0.422, threshold: 0.8)
🤖 Using GPT-4o for: "Masroom Simeji"
🎯 GPT-4o standardized: "Masroom Simeji" → "mushroom shimeji"
💾 Saving reference product: mushroom shimeji
➕ Added to reference base: "mushroom shimeji" (category: vegetables)
Processing: "Masroom Simeji" → cleaned: "Masroom Simeji" → standardized: "mushroom shimeji"
Found existing product: "Masroom Simeji" (standardized: "mushroom shimeji")
🔍 Standardizing: "Mushroom Button" (category: vegetables)
🎯 Found similar product: "Mushroom Button" → "mushroom button" (similarity: 1.000)
✅ Found via embedding: "Mushroom Button" → "mushroom button" (similarity: 1.000)
Processing: "Mushroom Button" → cleaned: "Mushroom Button" → standardized: "mushroom button"
Found existing product: "Mushroom Button" (standardized: "mushroom button")
🔍 Standardizing: "Mushroom Portabelo" (category: vegetables)
🎯 Found similar product: "Mushroom Portabelo" → "mushroom portobello" (similarity: 0.897)
✅ Found via embedding: "Mushroom Portabelo" → "mushroom portobello" (similarity: 0.897)
Processing: "Mushroom Portabelo" → cleaned: "Mushroom Portabelo" → standardized: "mushroom portobello"
Found existing product: "Mushroom Portabelo" (standardized: "mushroom portobello")
🔍 Standardizing: "Mushroom Enoki" (category: vegetables)
🎯 Found similar product: "Mushroom Enoki" → "mushroom enoki" (similarity: 1.000)
✅ Found via embedding: "Mushroom Enoki" → "mushroom enoki" (similarity: 1.000)
Processing: "Mushroom Enoki" → cleaned: "Mushroom Enoki" → standardized: "mushroom enoki"
Found existing product: "Mushroom Enoki" (standardized: "mushroom enoki")
🔍 Standardizing: "Potato Medium and Big" (category: vegetables)
🎯 Found similar product: "Potato Medium and Big" → "potato medium big" (similarity: 0.954)
✅ Found via embedding: "Potato Medium and Big" → "potato medium big" (similarity: 0.954)
Processing: "Potato Medium and Big" → cleaned: "Potato Medium and Big" → standardized: "potato medium big"
Found existing product: "Potato Medium and Big" (standardized: "potato medium big")
🔍 Standardizing: "Potato baby" (category: vegetables)
🎯 Found similar product: "Potato baby" → "potato baby" (similarity: 1.000)
✅ Found via embedding: "Potato baby" → "potato baby" (similarity: 1.000)
Processing: "Potato baby" → cleaned: "Potato baby" → standardized: "potato baby"
Found existing product: "Potato baby" (standardized: "potato baby")
🔍 Standardizing: "Potato Sweet" (category: vegetables)
🎯 Found similar product: "Potato Sweet" → "potato sweet" (similarity: 1.000)
✅ Found via embedding: "Potato Sweet" → "potato sweet" (similarity: 1.000)
Processing: "Potato Sweet" → cleaned: "Potato Sweet" → standardized: "potato sweet"
Found existing product: "Potato Sweet" (standardized: "potato sweet")
🔍 Standardizing: "Pumpkin" (category: vegetables)
🎯 Found similar product: "Pumpkin" → "pumpkin" (similarity: 1.000)
✅ Found via embedding: "Pumpkin" → "pumpkin" (similarity: 1.000)
Processing: "Pumpkin" → cleaned: "Pumpkin" → standardized: "pumpkin"
Found existing product: "Pumpkin" (standardized: "pumpkin")
🔍 Standardizing: "Radish Red" (category: vegetables)
🎯 Found similar product: "Radish Red" → "radish red" (similarity: 1.000)
✅ Found via embedding: "Radish Red" → "radish red" (similarity: 1.000)
Processing: "Radish Red" → cleaned: "Radish Red" → standardized: "radish red"
Found existing product: "Radish Red" (standardized: "radish red")
🔍 Standardizing: "Radish White / Turnip" (category: vegetables)
🎯 Found similar product: "Radish White / Turnip" → "radish white" (similarity: 0.874)
✅ Found via embedding: "Radish White / Turnip" → "radish white" (similarity: 0.874)
Processing: "Radish White / Turnip" → cleaned: "Radish White / Turnip" → standardized: "radish white"
Found existing product: "Radish White / Turnip" (standardized: "radish white")
🔍 Standardizing: "Spinach lokal potong" (category: vegetables)
🔍 No similar product found for "Spinach lokal potong" (best similarity: 0.787, threshold: 0.8)
🤖 Using GPT-4o for: "Spinach lokal potong"
🎯 GPT-4o standardized: "Spinach lokal potong" → "spinach local cut"
💾 Saving reference product: spinach local cut
➕ Added to reference base: "spinach local cut" (category: vegetables)
Processing: "Spinach lokal potong" → cleaned: "Spinach lokal potong" → standardized: "spinach local cut"
Found existing product: "Spinach lokal potong" (standardized: "spinach local cut")
🔍 Standardizing: "Spinach Baby" (category: vegetables)
🎯 Found similar product: "Spinach Baby" → "spinach baby" (similarity: 1.000)
✅ Found via embedding: "Spinach Baby" → "spinach baby" (similarity: 1.000)
Processing: "Spinach Baby" → cleaned: "Spinach Baby" → standardized: "spinach baby"
Found existing product: "Spinach Baby" (standardized: "spinach baby")
🔍 Standardizing: "Spinach English / Horenso" (category: vegetables)
🎯 Found similar product: "Spinach English / Horenso" → "spinach horenso" (similarity: 0.856)
✅ Found via embedding: "Spinach English / Horenso" → "spinach horenso" (similarity: 0.856)
Processing: "Spinach English / Horenso" → cleaned: "Spinach English / Horenso" → standardized: "spinach horenso"
Found existing product: "Spinach English / Horenso" (standardized: "spinach horenso")
🔍 Standardizing: "Kangkung" (category: vegetables)
🔍 No similar product found for "Kangkung" (best similarity: 0.419, threshold: 0.8)
🤖 Using GPT-4o for: "Kangkung"
🎯 GPT-4o standardized: "Kangkung" → "water spinach"
💾 Saving reference product: water spinach
➕ Added to reference base: "water spinach" (category: vegetables)
Processing: "Kangkung" → cleaned: "Kangkung" → standardized: "water spinach"
Found existing product: "Kangkung" (standardized: "water spinach")
🔍 Standardizing: "Telur ayam" (category: dairy)
🔍 No similar product found for "Telur ayam" (best similarity: 0.479, threshold: 0.8)
🤖 Using GPT-4o for: "Telur ayam"
🎯 GPT-4o standardized: "Telur ayam" → "egg chicken"
💾 Saving reference product: egg chicken
➕ Added to reference base: "egg chicken" (category: dairy)
Processing: "Telur ayam" → cleaned: "Telur ayam" → standardized: "egg chicken"
Found existing product: "Telur ayam" (standardized: "egg chicken")
🔍 Standardizing: "Tamarilo" (category: fruits)
🔍 No similar product found for "Tamarilo" (best similarity: 0.573, threshold: 0.8)
🤖 Using GPT-4o for: "Tamarilo"
🎯 GPT-4o standardized: "Tamarilo" → "tamarillo"
💾 Saving reference product: tamarillo
➕ Added to reference base: "tamarillo" (category: fruits)
Processing: "Tamarilo" → cleaned: "Tamarilo" → standardized: "tamarillo"
Found existing product: "Tamarilo" (standardized: "tamarillo")
🔍 Standardizing: "Tomato cherry red" (category: vegetables)
🎯 Found similar product: "Tomato cherry red" → "tomato cherry red" (similarity: 1.000)
✅ Found via embedding: "Tomato cherry red" → "tomato cherry red" (similarity: 1.000)
Processing: "Tomato cherry red" → cleaned: "Tomato cherry red" → standardized: "tomato cherry red"
Found existing product: "red cherry tomato" (standardized: "tomato cherry red")
🔍 Standardizing: "Tomato" (category: vegetables)
🎯 Found similar product: "Tomato" → "tomato" (similarity: 1.000)
✅ Found via embedding: "Tomato" → "tomato" (similarity: 1.000)
Processing: "Tomato" → cleaned: "Tomato" → standardized: "tomato"
Found existing product: "Tomato" (standardized: "tomato")
🔍 Standardizing: "Tomato cherry yellow" (category: vegetables)
🎯 Found similar product: "Tomato cherry yellow" → "tomato cherry yellow" (similarity: 1.000)
✅ Found via embedding: "Tomato cherry yellow" → "tomato cherry yellow" (similarity: 1.000)
Processing: "Tomato cherry yellow" → cleaned: "Tomato cherry yellow" → standardized: "tomato cherry yellow"
Found existing product: "yellow cherry tomato" (standardized: "tomato cherry yellow")
🔍 Standardizing: "Kailan" (category: vegetables)
🔍 No similar product found for "Kailan" (best similarity: 0.470, threshold: 0.8)
🤖 Using GPT-4o for: "Kailan"
🎯 GPT-4o standardized: "Kailan" → "vegetable kailan"
💾 Saving reference product: vegetable kailan
➕ Added to reference base: "vegetable kailan" (category: vegetables)
Processing: "Kailan" → cleaned: "Kailan" → standardized: "vegetable kailan"
Created new product: "Kailan" (standardized: "vegetable kailan")
🔍 Standardizing: "Zucchini Green" (category: vegetables)
🎯 Found similar product: "Zucchini Green" → "zucchini green" (similarity: 1.000)
✅ Found via embedding: "Zucchini Green" → "zucchini green" (similarity: 1.000)
Processing: "Zucchini Green" → cleaned: "Zucchini Green" → standardized: "zucchini green"
Found existing product: "Zucchini Green" (standardized: "zucchini green")
🔍 Standardizing: "Zucchini Yellow" (category: vegetables)
🎯 Found similar product: "Zucchini Yellow" → "zucchini yellow" (similarity: 1.000)
✅ Found via embedding: "Zucchini Yellow" → "zucchini yellow" (similarity: 1.000)
Processing: "Zucchini Yellow" → cleaned: "Zucchini Yellow" → standardized: "zucchini yellow"
Found existing product: "Zucchini Yellow" (standardized: "zucchini yellow")
🔍 Standardizing: "Kale" (category: vegetables)
🎯 Found similar product: "Kale" → "kale" (similarity: 1.000)
✅ Found via embedding: "Kale" → "kale" (similarity: 1.000)
Processing: "Kale" → cleaned: "Kale" → standardized: "kale"
Found existing product: "Kailan" (standardized: "kale")
🔍 Standardizing: "Kelapa muda" (category: fruits)
🔍 No similar product found for "Kelapa muda" (best similarity: 0.385, threshold: 0.8)
🤖 Using GPT-4o for: "Kelapa muda"
🎯 GPT-4o standardized: "Kelapa muda" → "coconut young"
💾 Saving reference product: coconut young
➕ Added to reference base: "coconut young" (category: fruits)
Processing: "Kelapa muda" → cleaned: "Kelapa muda" → standardized: "coconut young"
Found existing product: "Kelapa muda" (standardized: "coconut young")
🔍 Standardizing: "Water Melon red" (category: fruits)
🎯 Found similar product: "Water Melon red" → "watermelon red" (similarity: 0.848)
✅ Found via embedding: "Water Melon red" → "watermelon red" (similarity: 0.848)
Processing: "Water Melon red" → cleaned: "Water Melon red" → standardized: "watermelon red"
Found existing product: "Water Melon red" (standardized: "watermelon red")
🔍 Standardizing: "Papaya" (category: fruits)
🎯 Found similar product: "Papaya" → "papaya" (similarity: 1.000)
✅ Found via embedding: "Papaya" → "papaya" (similarity: 1.000)
Processing: "Papaya" → cleaned: "Papaya" → standardized: "papaya"
Found existing product: "Papaya" (standardized: "papaya")
🔍 Standardizing: "Pineaple/ nanas super" (category: fruits)
🔍 No similar product found for "Pineaple/ nanas super" (best similarity: 0.694, threshold: 0.8)
🤖 Using GPT-4o for: "Pineaple/ nanas super"
🎯 GPT-4o standardized: "Pineaple/ nanas super" → "pineapple super"
💾 Saving reference product: pineapple super
➕ Added to reference base: "pineapple super" (category: fruits)
Processing: "Pineaple/ nanas super" → cleaned: "Pineaple/ nanas super" → standardized: "pineapple super"
Found existing product: "Pineapple / Nanas super" (standardized: "pineapple super")
🔍 Standardizing: "Avocado" (category: fruits)
🎯 Found similar product: "Avocado" → "avocado" (similarity: 1.000)
✅ Found via embedding: "Avocado" → "avocado" (similarity: 1.000)
Processing: "Avocado" → cleaned: "Avocado" → standardized: "avocado"
Found existing product: "Avocado" (standardized: "avocado")
🔍 Standardizing: "Arum Manis Manggo" (category: fruits)
🎯 Found similar product: "Arum Manis Manggo" → "mango arum manis" (similarity: 0.835)
✅ Found via embedding: "Arum Manis Manggo" → "mango arum manis" (similarity: 0.835)
Processing: "Arum Manis Manggo" → cleaned: "Arum Manis Manggo" → standardized: "mango arum manis"
Found existing product: "Arum Manis Mango" (standardized: "mango arum manis")
🔍 Standardizing: "Pisang Kepok" (category: fruits)
🔍 No similar product found for "Pisang Kepok" (best similarity: 0.616, threshold: 0.8)
🤖 Using GPT-4o for: "Pisang Kepok"
🎯 GPT-4o standardized: "Pisang Kepok" → "banana kepok"
💾 Saving reference product: banana kepok
➕ Added to reference base: "banana kepok" (category: fruits)
Processing: "Pisang Kepok" → cleaned: "Pisang Kepok" → standardized: "banana kepok"
Found existing product: "Pisang Kepok" (standardized: "banana kepok")
🔍 Standardizing: "Pisang raja" (category: fruits)
🔍 No similar product found for "Pisang raja" (best similarity: 0.634, threshold: 0.8)
🤖 Using GPT-4o for: "Pisang raja"
🎯 GPT-4o standardized: "Pisang raja" → "banana raja"
💾 Saving reference product: banana raja
➕ Added to reference base: "banana raja" (category: fruits)
Processing: "Pisang raja" → cleaned: "Pisang raja" → standardized: "banana raja"
Found existing product: "Pisang Raja" (standardized: "banana raja")
🔍 Standardizing: "Apel malang" (category: fruits)
🔍 No similar product found for "Apel malang" (best similarity: 0.717, threshold: 0.8)
🤖 Using GPT-4o for: "Apel malang"
🎯 GPT-4o standardized: "Apel malang" → "apple malang"
💾 Saving reference product: apple malang
➕ Added to reference base: "apple malang" (category: fruits)
Processing: "Apel malang" → cleaned: "Apel malang" → standardized: "apple malang"
Found existing product: "Apel Malang" (standardized: "apple malang")
🔍 Standardizing: "Buah Naga" (category: fruit)
🔍 No similar product found for "Buah Naga" (best similarity: 0.469, threshold: 0.8)
🤖 Using GPT-4o for: "Buah Naga"
🎯 GPT-4o standardized: "Buah Naga" → "dragon fruit"
💾 Saving reference product: dragon fruit
➕ Added to reference base: "dragon fruit" (category: fruit)
Processing: "Buah Naga" → cleaned: "Buah Naga" → standardized: "dragon fruit"
Found existing product: "Buah Naga" (standardized: "dragon fruit")
🔍 Standardizing: "Jeruk Sunkist" (category: fruit)
🔍 No similar product found for "Jeruk Sunkist" (best similarity: 0.336, threshold: 0.8)
🤖 Using GPT-4o for: "Jeruk Sunkist"
🎯 GPT-4o standardized: "Jeruk Sunkist" → "orange sunkist"
💾 Saving reference product: orange sunkist
➕ Added to reference base: "orange sunkist" (category: fruit)
Processing: "Jeruk Sunkist" → cleaned: "Jeruk Sunkist" → standardized: "orange sunkist"
Found existing product: "Jeruk Sunkist" (standardized: "orange sunkist")
🔍 Standardizing: "Pisang Hijau" (category: fruit)
🔍 No similar product found for "Pisang Hijau" (best similarity: 0.482, threshold: 0.8)
🤖 Using GPT-4o for: "Pisang Hijau"
🎯 GPT-4o standardized: "Pisang Hijau" → "banana green"
💾 Saving reference product: banana green
➕ Added to reference base: "banana green" (category: fruit)
Processing: "Pisang Hijau" → cleaned: "Pisang Hijau" → standardized: "banana green"
Found existing product: "Pisang Hijau" (standardized: "banana green")
🔍 Standardizing: "Markisa" (category: fruit)
🔍 No similar product found for "Markisa" (best similarity: 0.274, threshold: 0.8)
🤖 Using GPT-4o for: "Markisa"
🎯 GPT-4o standardized: "Markisa" → "passion fruit"
💾 Saving reference product: passion fruit
➕ Added to reference base: "passion fruit" (category: fruit)
Processing: "Markisa" → cleaned: "Markisa" → standardized: "passion fruit"
Found existing product: "Markisa" (standardized: "passion fruit")
🔍 Standardizing: "Jeruk Tangerine" (category: fruit)
🔍 No similar product found for "Jeruk Tangerine" (best similarity: 0.442, threshold: 0.8)
🤖 Using GPT-4o for: "Jeruk Tangerine"
🎯 GPT-4o standardized: "Jeruk Tangerine" → "tangerine jeruk"
💾 Saving reference product: tangerine jeruk
➕ Added to reference base: "tangerine jeruk" (category: fruit)
Processing: "Jeruk Tangerine" → cleaned: "Jeruk Tangerine" → standardized: "tangerine jeruk"
Found existing product: "Jeruk Tangerine" (standardized: "tangerine jeruk")
🔍 Standardizing: "Lime Lokal" (category: fruit)
🔍 No similar product found for "Lime Lokal" (best similarity: 0.407, threshold: 0.8)
🤖 Using GPT-4o for: "Lime Lokal"
🎯 GPT-4o standardized: "Lime Lokal" → "lime local"
💾 Saving reference product: lime local
➕ Added to reference base: "lime local" (category: fruit)
Processing: "Lime Lokal" → cleaned: "Lime Lokal" → standardized: "lime local"
Found existing product: "Lime Lokal" (standardized: "lime local")
🔍 Standardizing: "Melon Rock" (category: fruit)
🔍 No similar product found for "Melon Rock" (best similarity: 0.453, threshold: 0.8)
🤖 Using GPT-4o for: "Melon Rock"
🎯 GPT-4o standardized: "Melon Rock" → "melon rock"
💾 Saving reference product: melon rock
➕ Added to reference base: "melon rock" (category: fruit)
Processing: "Melon Rock" → cleaned: "Melon Rock" → standardized: "melon rock"
Found existing product: "Melon Rock" (standardized: "melon rock")
🔍 Standardizing: "Strowberry" (category: fruit)
🔍 No similar product found for "Strowberry" (best similarity: 0.395, threshold: 0.8)
🤖 Using GPT-4o for: "Strowberry"
🎯 GPT-4o standardized: "Strowberry" → "strawberry"
💾 Saving reference product: strawberry
➕ Added to reference base: "strawberry" (category: fruit)
Processing: "Strowberry" → cleaned: "Strowberry" → standardized: "strawberry"
Found existing product: "Strawberry" (standardized: "strawberry")
🔍 Standardizing: "Lemon Impor" (category: fruit)
🔍 No similar product found for "Lemon Impor" (best similarity: 0.446, threshold: 0.8)
🤖 Using GPT-4o for: "Lemon Impor"
🎯 GPT-4o standardized: "Lemon Impor" → "lemon import"
💾 Saving reference product: lemon import
➕ Added to reference base: "lemon import" (category: fruit)
Processing: "Lemon Impor" → cleaned: "Lemon Impor" → standardized: "lemon import"
Found existing product: "Lemon import" (standardized: "lemon import")
🔍 Standardizing: "Apel Fuji" (category: fruit)
🔍 No similar product found for "Apel Fuji" (best similarity: 0.680, threshold: 0.8)
🤖 Using GPT-4o for: "Apel Fuji"
🎯 GPT-4o standardized: "Apel Fuji" → "apple fuji"
💾 Saving reference product: apple fuji
➕ Added to reference base: "apple fuji" (category: fruit)
Processing: "Apel Fuji" → cleaned: "Apel Fuji" → standardized: "apple fuji"
Found existing product: "Apel Fuji" (standardized: "apple fuji")
🔍 Standardizing: "Guava" (category: fruit)
🔍 No similar product found for "Guava" (best similarity: 0.572, threshold: 0.8)
🤖 Using GPT-4o for: "Guava"
🎯 GPT-4o standardized: "Guava" → "guava"
💾 Saving reference product: guava
➕ Added to reference base: "guava" (category: fruit)
Processing: "Guava" → cleaned: "Guava" → standardized: "guava"
Found existing product: "Guava" (standardized: "guava")
🔍 Standardizing: "Kiwi" (category: fruit)
🔍 No similar product found for "Kiwi" (best similarity: 0.448, threshold: 0.8)
🤖 Using GPT-4o for: "Kiwi"
🎯 GPT-4o standardized: "Kiwi" → "kiwi fruit"
💾 Saving reference product: kiwi fruit
➕ Added to reference base: "kiwi fruit" (category: fruit)
Processing: "Kiwi" → cleaned: "Kiwi" → standardized: "kiwi fruit"
Created new product: "Kiwi" (standardized: "kiwi fruit")
🔍 Standardizing: "Melon Honey" (category: fruit)
🔍 No similar product found for "Melon Honey" (best similarity: 0.564, threshold: 0.8)
🤖 Using GPT-4o for: "Melon Honey"
🎯 GPT-4o standardized: "Melon Honey" → "melon honey"
💾 Saving reference product: melon honey
➕ Added to reference base: "melon honey" (category: fruit)
Processing: "Melon Honey" → cleaned: "Melon Honey" → standardized: "melon honey"
Found existing product: "Melon Honey" (standardized: "melon honey")
🔍 Standardizing: "Water Melon Yellow" (category: fruit)
🔍 No similar product found for "Water Melon Yellow" (best similarity: 0.503, threshold: 0.8)
🤖 Using GPT-4o for: "Water Melon Yellow"
🎯 GPT-4o standardized: "Water Melon Yellow" → "melon yellow"
💾 Saving reference product: melon yellow
➕ Added to reference base: "melon yellow" (category: fruit)
Processing: "Water Melon Yellow" → cleaned: "Water Melon Yellow" → standardized: "melon yellow"
Found existing product: "Water Melon Yellow" (standardized: "melon yellow")
🔍 Standardizing: "Sirsak" (category: fruit)
🔍 No similar product found for "Sirsak" (best similarity: 0.347, threshold: 0.8)
🤖 Using GPT-4o for: "Sirsak"
🎯 GPT-4o standardized: "Sirsak" → "fruit soursop"
💾 Saving reference product: fruit soursop
➕ Added to reference base: "fruit soursop" (category: fruit)
Processing: "Sirsak" → cleaned: "Sirsak" → standardized: "fruit soursop"
Found existing product: "Sirsak" (standardized: "fruit soursop")
🔍 Standardizing: "Belimbing" (category: fruit)
🔍 No similar product found for "Belimbing" (best similarity: 0.405, threshold: 0.8)
🤖 Using GPT-4o for: "Belimbing"
🎯 GPT-4o standardized: "Belimbing" → "starfruit"
💾 Saving reference product: starfruit
➕ Added to reference base: "starfruit" (category: fruit)
Processing: "Belimbing" → cleaned: "Belimbing" → standardized: "starfruit"
Found existing product: "Belimbing" (standardized: "starfruit")
🔍 Standardizing: "Jackfruit" (category: fruit)
🔍 No similar product found for "Jackfruit" (best similarity: 0.608, threshold: 0.8)
🤖 Using GPT-4o for: "Jackfruit"
🎯 GPT-4o standardized: "Jackfruit" → "jackfruit"
💾 Saving reference product: jackfruit
➕ Added to reference base: "jackfruit" (category: fruit)
Processing: "Jackfruit" → cleaned: "Jackfruit" → standardized: "jackfruit"
Found existing product: "Jackfruit" (standardized: "jackfruit")
🔍 Standardizing: "Pear Hijau" (category: fruit)
🔍 No similar product found for "Pear Hijau" (best similarity: 0.562, threshold: 0.8)
🤖 Using GPT-4o for: "Pear Hijau"
🎯 GPT-4o standardized: "Pear Hijau" → "pear green"
💾 Saving reference product: pear green
➕ Added to reference base: "pear green" (category: fruit)
Processing: "Pear Hijau" → cleaned: "Pear Hijau" → standardized: "pear green"
Found existing product: "Pear Hijau" (standardized: "pear green")
🔍 Standardizing: "Pear Kuning" (category: fruit)
🔍 No similar product found for "Pear Kuning" (best similarity: 0.526, threshold: 0.8)
🤖 Using GPT-4o for: "Pear Kuning"
🎯 GPT-4o standardized: "Pear Kuning" → "pear yellow"
💾 Saving reference product: pear yellow
➕ Added to reference base: "pear yellow" (category: fruit)
Processing: "Pear Kuning" → cleaned: "Pear Kuning" → standardized: "pear yellow"
Found existing product: "Pear Kuning" (standardized: "pear yellow")
🔍 Standardizing: "Manggis" (category: fruit)
🔍 No similar product found for "Manggis" (best similarity: 0.533, threshold: 0.8)
🤖 Using GPT-4o for: "Manggis"
🎯 GPT-4o standardized: "Manggis" → "mangosteen"
💾 Saving reference product: mangosteen
➕ Added to reference base: "mangosteen" (category: fruit)
Processing: "Manggis" → cleaned: "Manggis" → standardized: "mangosteen"
Found existing product: "Manggis" (standardized: "mangosteen")
🔍 Standardizing: "Kelengkeng" (category: fruit)
🔍 No similar product found for "Kelengkeng" (best similarity: 0.333, threshold: 0.8)
🤖 Using GPT-4o for: "Kelengkeng"
🎯 GPT-4o standardized: "Kelengkeng" → "longan"
💾 Saving reference product: longan
➕ Added to reference base: "longan" (category: fruit)
Processing: "Kelengkeng" → cleaned: "Kelengkeng" → standardized: "longan"
Found existing product: "Kelengkeng" (standardized: "longan")
🔍 Standardizing: "Pamelo" (category: fruit)
🔍 No similar product found for "Pamelo" (best similarity: 0.438, threshold: 0.8)
🤖 Using GPT-4o for: "Pamelo"
🎯 GPT-4o standardized: "Pamelo" → "pomelo"
💾 Saving reference product: pomelo
➕ Added to reference base: "pomelo" (category: fruit)
Processing: "Pamelo" → cleaned: "Pamelo" → standardized: "pomelo"
Found existing product: "Pamelo" (standardized: "pomelo")
🔍 Standardizing: "Salak Pondoh" (category: fruit)
🔍 No similar product found for "Salak Pondoh" (best similarity: 0.493, threshold: 0.8)
🤖 Using GPT-4o for: "Salak Pondoh"
🎯 GPT-4o standardized: "Salak Pondoh" → "snakefruit pondoh"
💾 Saving reference product: snakefruit pondoh
➕ Added to reference base: "snakefruit pondoh" (category: fruit)
Processing: "Salak Pondoh" → cleaned: "Salak Pondoh" → standardized: "snakefruit pondoh"
Found existing product: "Salak Pondoh" (standardized: "snakefruit pondoh")
🔍 Standardizing: "Pumpkin" (category: vegetable)
🔍 No similar product found for "Pumpkin" (best similarity: 0.492, threshold: 0.8)
🤖 Using GPT-4o for: "Pumpkin"
🎯 GPT-4o standardized: "Pumpkin" → "pumpkin"
💾 Saving reference product: pumpkin
➕ Added to reference base: "pumpkin" (category: vegetable)
Processing: "Pumpkin" → cleaned: "Pumpkin" → standardized: "pumpkin"
Found existing product: "Pumpkin" (standardized: "pumpkin")
🔍 Standardizing: "Mangga Rujak" (category: fruit)
🔍 No similar product found for "Mangga Rujak" (best similarity: 0.550, threshold: 0.8)
🤖 Using GPT-4o for: "Mangga Rujak"
🎯 GPT-4o standardized: "Mangga Rujak" → "mango rujak"
💾 Saving reference product: mango rujak
➕ Added to reference base: "mango rujak" (category: fruit)
Processing: "Mangga Rujak" → cleaned: "Mangga Rujak" → standardized: "mango rujak"
Found existing product: "Mangga Rujak" (standardized: "mango rujak")
Successfully processed 132 products from sai fresh.xlsx
Processing file cmbm7fdn2001eoust5pkuroxd (1 remaining in queue)
Processing file: sri 2 vegetables supplier.xlsx
Processing Excel: https://cdc1w79ssc4kg6xh.public.blob.vercel-storage.com/sri%202%20vegetables%20supplier-qMQZgjNhVUlPvrVMg0cUGV1kw2rKwv.xlsx
Excel file has 1 sheets: Sheet1
Sheet "Sheet1": 247 rows with data
Found 1 sheets with data: Sheet1(247)
Processing sheet "Sheet1" with 247 rows...
Sheet "Sheet1": Processing 247 rows with data
Large sheet detected (247 rows), processing in chunks...
Processing chunk 1 with 30 rows...
Processing chunk 2 with 30 rows...
Processing chunk 3 with 30 rows...
Processing chunk 4 with 30 rows...
Processing chunk 5 with 30 rows...
 ✓ Compiled in 24ms
Processing chunk 6 with 30 rows...
 ✓ Compiled in 17ms
Processing chunk 7 with 30 rows...
Processing chunk 8 with 30 rows...
Processing chunk 9 with 7 rows...
 ✓ Compiled in 17ms
Sheet "Sheet1": Merged 9 chunks into 230 products
Processed 1 sheets, extracted 230 total products
Found existing supplier: SRI SEDANA
🔍 Standardizing: "Avocado" (category: fruit)
🎯 Found similar product: "Avocado" → "avocado" (similarity: 1.000)
✅ Found via embedding: "Avocado" → "avocado" (similarity: 1.000)
Processing: "Avocado" → cleaned: "Avocado" → standardized: "avocado"
Found existing product: "Avocado" (standardized: "avocado")
🔍 Standardizing: "Anggur Red import" (category: fruit)
🔍 No similar product found for "Anggur Red import" (best similarity: 0.468, threshold: 0.8)
🤖 Using GPT-4o for: "Anggur Red import"
🎯 GPT-4o standardized: "Anggur Red import" → "grape red import"
💾 Saving reference product: grape red import
➕ Added to reference base: "grape red import" (category: fruit)
Processing: "Anggur Red import" → cleaned: "Anggur Red import" → standardized: "grape red import"
Found existing product: "red anggur import" (standardized: "grape red import")
🔍 Standardizing: "Anggur local" (category: fruit)
🔍 No similar product found for "Anggur local" (best similarity: 0.462, threshold: 0.8)
🤖 Using GPT-4o for: "Anggur local"
🎯 GPT-4o standardized: "Anggur local" → "grape local"
💾 Saving reference product: grape local
➕ Added to reference base: "grape local" (category: fruit)
Processing: "Anggur local" → cleaned: "Anggur local" → standardized: "grape local"
Found existing product: "Anggur local" (standardized: "grape local")
🔍 Standardizing: "Apple lokal malang besar" (category: fruit)
🔍 No similar product found for "Apple lokal malang besar" (best similarity: 0.666, threshold: 0.8)
🤖 Using GPT-4o for: "Apple lokal malang besar"
🔄 Reprocessing upload: Island Organics Bali.pdf (cmbm7f64z000woust2lj94mj5)
🔄 Starting reprocessing for upload: cmbm7f64z000woust2lj94mj5
📚 Loading reference products from database...
 POST /api/reprocess-upload 200 in 735ms
Error loading reference products: Error [PrismaClientValidationError]: 
Invalid `prisma.product.findMany()` invocation in
/Users/denisdomashenko/monito-web/.next/server/chunks/[root of the server]__8b8352._.js:199:59

  196 try {
  197     console.log('📚 Loading reference products from database...');
  198     // Загружаем из БД существующие стандартизированные продукты
→ 199     const existingProducts = await prisma.product.findMany({
            select: {
              id: true,
              standardizedName: true,
              category: true,
              name: true
            },
            where: {
              standardizedName: {
          +     not: String
              }
            }
          })

Argument `not` must not be null.
    at <unknown> (app/services/embeddingService.ts:181:52)
    at async EmbeddingService.loadReferenceProducts (app/services/embeddingService.ts:181:31)
  179 |       
  180 |       // Загружаем из БД существующие стандартизированные продукты
> 181 |       const existingProducts = await prisma.product.findMany({
      |                                                    ^
  182 |         select: {
  183 |           id: true,
  184 |           standardizedName: true, {
  clientVersion: '6.9.0'
}
🏗️ Initializing basic reference base...
Processing file: Island Organics Bali.pdf
🚀 Starting advanced PDF processing: https://cdc1w79ssc4kg6xh.public.blob.vercel-storage.com/Island%20Organics%20Bali-ywWEuvZsODuKBVATgMUy9cXdN48q0B.pdf
🔄 Starting advanced PDF processing for: https://cdc1w79ssc4kg6xh.public.blob.vercel-storage.com/Island%20Organics%20Bali-ywWEuvZsODuKBVATgMUy9cXdN48q0B.pdf
📄 Attempting text extraction from PDF...
🎯 GPT-4o standardized: "Apple lokal malang besar" → "apple malang large"
Warning: Please use the `legacy` build in Node.js environments.
⚠️ pdfjs-dist failed, trying alternative approaches: ReferenceError: DOMMatrix is not defined
    at <unknown> (.next/server/chunks/_453590._.js:21:16)
    at async AdvancedPdfProcessor.extractTextFromPdf (app/services/advancedPdfProcessor.ts:73:25)
    at async AdvancedPdfProcessor.processComplexPdf (app/services/advancedPdfProcessor.ts:35:23)
    at async processPDF (app/services/fileProcessor.ts:112:19)
    at async processFile (app/services/fileProcessor.ts:51:22)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  71 |       // Approach 1: pdfjs-dist
  72 |       try {
> 73 |         const pdfjsLib = await import('pdfjs-dist');
     |                         ^
  74 |         const pdf = await pdfjsLib.getDocument({
  75 |           data: arrayBuffer,
  76 |           useWorkerFetch: false,
🔍 Raw analysis extracted 149611 characters
📝 Total text extracted: 149611 characters
✅ Initialized 24 basic reference products
💾 Saving reference product: apple malang large
➕ Added to reference base: "apple malang large" (category: fruit)
Processing: "Apple lokal malang besar" → cleaned: "Apple lokal malang besar" → standardized: "apple malang large"
Found existing product: "Apple lokal malang besar" (standardized: "apple malang large")
🔍 Standardizing: "Apel lokal tanggung" (category: fruit)
❌ Advanced PDF processing failed: TypeError: Cannot read properties of undefined (reading 'length')
    at AdvancedPdfProcessor.processComplexPdf (app/services/advancedPdfProcessor.ts:36:59)
    at async processPDF (app/services/fileProcessor.ts:112:19)
    at async processFile (app/services/fileProcessor.ts:51:22)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  34 |       // Step 1: Пытаемся извлечь текстовую информацию
  35 |       const textData = await this.extractTextFromPdf(fileUrl);
> 36 |       console.log(`📝 Text extraction: ${textData.products.length} products found`);
     |                                                           ^
  37 |       
  38 |       // Step 2: Обрабатываем PDF как последовательность изображений для Vision API
  39 |       const visionData = await this.processPdfAsImages(fileUrl);
❌ Advanced PDF processing failed: TypeError: Cannot read properties of undefined (reading 'length')
    at AdvancedPdfProcessor.processComplexPdf (app/services/advancedPdfProcessor.ts:36:59)
    at async processPDF (app/services/fileProcessor.ts:112:19)
    at async processFile (app/services/fileProcessor.ts:51:22)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  34 |       // Step 1: Пытаемся извлечь текстовую информацию
  35 |       const textData = await this.extractTextFromPdf(fileUrl);
> 36 |       console.log(`📝 Text extraction: ${textData.products.length} products found`);
     |                                                           ^
  37 |       
  38 |       // Step 2: Обрабатываем PDF как последовательность изображений для Vision API
  39 |       const visionData = await this.processPdfAsImages(fileUrl);
🔄 Falling back to basic PDF processing...
📄 Basic PDF processing: https://cdc1w79ssc4kg6xh.public.blob.vercel-storage.com/Island%20Organics%20Bali-ywWEuvZsODuKBVATgMUy9cXdN48q0B.pdf
🔍 No similar product found for "Apel lokal tanggung" (best similarity: 0.405, threshold: 0.8)
🤖 Using GPT-4o for: "Apel lokal tanggung"
❌ Basic PDF processing failed: ReferenceError: DOMMatrix is not defined
    at <unknown> (.next/server/chunks/_453590._.js:21:16)
    at async AdvancedPdfProcessor.extractTextFromPdf (app/services/advancedPdfProcessor.ts:73:25)
    at async AdvancedPdfProcessor.processComplexPdf (app/services/advancedPdfProcessor.ts:35:23)
    at async processPDF (app/services/fileProcessor.ts:112:19)
    at async processFile (app/services/fileProcessor.ts:51:22)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  71 |       // Approach 1: pdfjs-dist
  72 |       try {
> 73 |         const pdfjsLib = await import('pdfjs-dist');
     |                         ^
  74 |         const pdf = await pdfjsLib.getDocument({
  75 |           data: arrayBuffer,
  76 |           useWorkerFetch: false,
❌ Basic PDF processing also failed: ReferenceError: DOMMatrix is not defined
    at <unknown> (.next/server/chunks/_453590._.js:21:16)
    at async AdvancedPdfProcessor.extractTextFromPdf (app/services/advancedPdfProcessor.ts:73:25)
    at async AdvancedPdfProcessor.processComplexPdf (app/services/advancedPdfProcessor.ts:35:23)
    at async processPDF (app/services/fileProcessor.ts:112:19)
    at async processFile (app/services/fileProcessor.ts:51:22)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  71 |       // Approach 1: pdfjs-dist
  72 |       try {
> 73 |         const pdfjsLib = await import('pdfjs-dist');
     |                         ^
  74 |         const pdf = await pdfjsLib.getDocument({
  75 |           data: arrayBuffer,
  76 |           useWorkerFetch: false,
Successfully processed 0 products from Island Organics Bali.pdf
🎉 Successfully reprocessed: cmbm7f64z000woust2lj94mj5
🎯 GPT-4o standardized: "Apel lokal tanggung" → "apple local"
💾 Saving reference product: apple local
➕ Added to reference base: "apple local" (category: fruit)
Processing: "Apel lokal tanggung" → cleaned: "Apel lokal tanggung" → standardized: "apple local"
Found existing product: "Apel lokal tanggung" (standardized: "apple local")
🔍 Standardizing: "Apple green smit USA" (category: fruit)
🔍 No similar product found for "Apple green smit USA" (best similarity: 0.682, threshold: 0.8)
🤖 Using GPT-4o for: "Apple green smit USA"
🎯 GPT-4o standardized: "Apple green smit USA" → "apple green smith"
💾 Saving reference product: apple green smith
➕ Added to reference base: "apple green smith" (category: fruit)
Processing: "Apple green smit USA" → cleaned: "Apple green smit USA" → standardized: "apple green smith"
Found existing product: "Apple Green Smith Biasa/Asli" (standardized: "apple green smith")
🔍 Standardizing: "Apple GS CINA" (category: fruit)
🔍 No similar product found for "Apple GS CINA" (best similarity: 0.394, threshold: 0.8)
🤖 Using GPT-4o for: "Apple GS CINA"
🎯 GPT-4o standardized: "Apple GS CINA" → "apple gs china"
💾 Saving reference product: apple gs china
➕ Added to reference base: "apple gs china" (category: fruit)
Processing: "Apple GS CINA" → cleaned: "Apple GS CINA" → standardized: "apple gs china"
Found existing product: "Apple GS CINA" (standardized: "apple gs china")
🔍 Standardizing: "Apple Merah USA" (category: fruit)
🔍 No similar product found for "Apple Merah USA" (best similarity: 0.682, threshold: 0.8)
🤖 Using GPT-4o for: "Apple Merah USA"
🎯 GPT-4o standardized: "Apple Merah USA" → "apple red"
💾 Saving reference product: apple red
➕ Added to reference base: "apple red" (category: fruit)
Processing: "Apple Merah USA" → cleaned: "Apple Merah USA" → standardized: "apple red"
Found existing product: "Apple Red" (standardized: "apple red")
🔍 Standardizing: "Apple Fuji premium" (category: fruit)
🎯 Found similar product: "Apple Fuji premium" → "apple fuji" (similarity: 0.888)
✅ Found via embedding: "Apple Fuji premium" → "apple fuji" (similarity: 0.888)
Processing: "Apple Fuji premium" → cleaned: "Apple Fuji premium" → standardized: "apple fuji"
Found existing product: "Apel Fuji" (standardized: "apple fuji")
🔍 Standardizing: "Buah Naga" (category: fruit)
🔍 No similar product found for "Buah Naga" (best similarity: 0.469, threshold: 0.8)
🤖 Using GPT-4o for: "Buah Naga"
🎯 GPT-4o standardized: "Buah Naga" → "dragon fruit"
💾 Saving reference product: dragon fruit
➕ Added to reference base: "dragon fruit" (category: fruit)
Processing: "Buah Naga" → cleaned: "Buah Naga" → standardized: "dragon fruit"
Found existing product: "Buah Naga" (standardized: "dragon fruit")
🔍 Standardizing: "Belimbing/Star fruit" (category: fruit)
🔍 No similar product found for "Belimbing/Star fruit" (best similarity: 0.652, threshold: 0.8)
🤖 Using GPT-4o for: "Belimbing/Star fruit"
🎯 GPT-4o standardized: "Belimbing/Star fruit" → "fruit star"
💾 Saving reference product: fruit star
➕ Added to reference base: "fruit star" (category: fruit)
Processing: "Belimbing/Star fruit" → cleaned: "Belimbing/Star fruit" → standardized: "fruit star"
Found existing product: "Belimbing/Star fruit" (standardized: "fruit star")
🔍 Standardizing: "Fomegraanate / Delima" (category: fruit)
🔍 No similar product found for "Fomegraanate / Delima" (best similarity: 0.319, threshold: 0.8)
🤖 Using GPT-4o for: "Fomegraanate / Delima"
🎯 GPT-4o standardized: "Fomegraanate / Delima" → "pomegranate"
💾 Saving reference product: pomegranate
➕ Added to reference base: "pomegranate" (category: fruit)
Processing: "Fomegraanate / Delima" → cleaned: "Fomegraanate / Delima" → standardized: "pomegranate"
Found existing product: "Fomegraanate / Delima" (standardized: "pomegranate")
🔍 Standardizing: "Guava /jambu biji" (category: fruit)
🔍 No similar product found for "Guava /jambu biji" (best similarity: 0.730, threshold: 0.8)
🤖 Using GPT-4o for: "Guava /jambu biji"
🎯 GPT-4o standardized: "Guava /jambu biji" → "guava jambu biji"
💾 Saving reference product: guava jambu biji
➕ Added to reference base: "guava jambu biji" (category: fruit)
Processing: "Guava /jambu biji" → cleaned: "Guava /jambu biji" → standardized: "guava jambu biji"
Found existing product: "Guava /jambu biji" (standardized: "guava jambu biji")
🔍 Standardizing: "Jambu Air" (category: fruit)
🔍 No similar product found for "Jambu Air" (best similarity: 0.630, threshold: 0.8)
🤖 Using GPT-4o for: "Jambu Air"
🎯 GPT-4o standardized: "Jambu Air" → "water apple"
💾 Saving reference product: water apple
➕ Added to reference base: "water apple" (category: fruit)
Processing: "Jambu Air" → cleaned: "Jambu Air" → standardized: "water apple"
Found existing product: "Jambu Air" (standardized: "water apple")
🔍 Standardizing: "Kiwi" (category: fruit)
🎯 Found similar product: "Kiwi" → "kiwi fruit" (similarity: 0.852)
✅ Found via embedding: "Kiwi" → "kiwi fruit" (similarity: 0.852)
Processing: "Kiwi" → cleaned: "Kiwi" → standardized: "kiwi fruit"
Found existing product: "Kiwi" (standardized: "kiwi fruit")
🔍 Standardizing: "Mangga Harum Manis" (category: fruit)
🔍 No similar product found for "Mangga Harum Manis" (best similarity: 0.547, threshold: 0.8)
🤖 Using GPT-4o for: "Mangga Harum Manis"
🎯 GPT-4o standardized: "Mangga Harum Manis" → "mango harum manis"
💾 Saving reference product: mango harum manis
➕ Added to reference base: "mango harum manis" (category: fruit)
Processing: "Mangga Harum Manis" → cleaned: "Mangga Harum Manis" → standardized: "mango harum manis"
Found existing product: "Mangga Harum Manis" (standardized: "mango harum manis")
🔍 Standardizing: "Mangga mentah" (category: fruit)
🔍 No similar product found for "Mangga mentah" (best similarity: 0.559, threshold: 0.8)
🤖 Using GPT-4o for: "Mangga mentah"
🎯 GPT-4o standardized: "Mangga mentah" → "mango raw"
💾 Saving reference product: mango raw
➕ Added to reference base: "mango raw" (category: fruit)
Processing: "Mangga mentah" → cleaned: "Mangga mentah" → standardized: "mango raw"
Found existing product: "Mangga mentah" (standardized: "mango raw")
🔍 Standardizing: "Melon Honey" (category: fruit)
🎯 Found similar product: "Melon Honey" → "melon honey" (similarity: 1.000)
✅ Found via embedding: "Melon Honey" → "melon honey" (similarity: 1.000)
Processing: "Melon Honey" → cleaned: "Melon Honey" → standardized: "melon honey"
Found existing product: "Melon Honey" (standardized: "melon honey")
🔍 Standardizing: "Melon Rock" (category: fruit)
🎯 Found similar product: "Melon Rock" → "melon rock" (similarity: 1.000)
✅ Found via embedding: "Melon Rock" → "melon rock" (similarity: 1.000)
Processing: "Melon Rock" → cleaned: "Melon Rock" → standardized: "melon rock"
Found existing product: "Melon Rock" (standardized: "melon rock")
🔍 Standardizing: "Nangka Whole" (category: fruit)
🔍 No similar product found for "Nangka Whole" (best similarity: 0.450, threshold: 0.8)
🤖 Using GPT-4o for: "Nangka Whole"
🎯 GPT-4o standardized: "Nangka Whole" → "jackfruit whole"
💾 Saving reference product: jackfruit whole
➕ Added to reference base: "jackfruit whole" (category: fruit)
Processing: "Nangka Whole" → cleaned: "Nangka Whole" → standardized: "jackfruit whole"
Found existing product: "Nangka Whole" (standardized: "jackfruit whole")
🔍 Standardizing: "Nanas lokal" (category: fruit)
🔍 No similar product found for "Nanas lokal" (best similarity: 0.459, threshold: 0.8)
🤖 Using GPT-4o for: "Nanas lokal"
🎯 GPT-4o standardized: "Nanas lokal" → "pineapple local"
💾 Saving reference product: pineapple local
➕ Added to reference base: "pineapple local" (category: fruit)
Processing: "Nanas lokal" → cleaned: "Nanas lokal" → standardized: "pineapple local"
Found existing product: "Nanas lokal" (standardized: "pineapple local")
🔍 Standardizing: "Nanas madu" (category: fruit)
🔍 No similar product found for "Nanas madu" (best similarity: 0.497, threshold: 0.8)
🤖 Using GPT-4o for: "Nanas madu"
🎯 GPT-4o standardized: "Nanas madu" → "pineapple honey"
💾 Saving reference product: pineapple honey
➕ Added to reference base: "pineapple honey" (category: fruit)
Processing: "Nanas madu" → cleaned: "Nanas madu" → standardized: "pineapple honey"
Found existing product: "Nanas madu" (standardized: "pineapple honey")
🔍 Standardizing: "Nanas bogor" (category: fruit)
🔍 No similar product found for "Nanas bogor" (best similarity: 0.536, threshold: 0.8)
🤖 Using GPT-4o for: "Nanas bogor"
🎯 GPT-4o standardized: "Nanas bogor" → "pineapple bogor"
💾 Saving reference product: pineapple bogor
➕ Added to reference base: "pineapple bogor" (category: fruit)
Processing: "Nanas bogor" → cleaned: "Nanas bogor" → standardized: "pineapple bogor"
Found existing product: "Nanas bogor" (standardized: "pineapple bogor")
🔍 Standardizing: "Jeruk kintamani super" (category: fruit)
🔍 No similar product found for "Jeruk kintamani super" (best similarity: 0.526, threshold: 0.8)
🤖 Using GPT-4o for: "Jeruk kintamani super"
🎯 GPT-4o standardized: "Jeruk kintamani super" → "orange kintamani"
💾 Saving reference product: orange kintamani
➕ Added to reference base: "orange kintamani" (category: fruit)
Processing: "Jeruk kintamani super" → cleaned: "Jeruk kintamani super" → standardized: "orange kintamani"
Found existing product: "Jeruk kintamani super" (standardized: "orange kintamani")
🔍 Standardizing: "Jeruk orange kintamani" (category: fruit)
🔍 No similar product found for "Jeruk orange kintamani" (best similarity: 0.795, threshold: 0.8)
🤖 Using GPT-4o for: "Jeruk orange kintamani"
🎯 GPT-4o standardized: "Jeruk orange kintamani" → "orange kintamani"
💾 Saving reference product: orange kintamani
➕ Added to reference base: "orange kintamani" (category: fruit)
Processing: "Jeruk orange kintamani" → cleaned: "Jeruk orange kintamani" → standardized: "orange kintamani"
Found existing product: "Jeruk kintamani super" (standardized: "orange kintamani")
🔍 Standardizing: "Jeruk peras tanggerin" (category: fruit)
🔍 No similar product found for "Jeruk peras tanggerin" (best similarity: 0.668, threshold: 0.8)
🤖 Using GPT-4o for: "Jeruk peras tanggerin"
🎯 GPT-4o standardized: "Jeruk peras tanggerin" → "tangerine juice"
💾 Saving reference product: tangerine juice
➕ Added to reference base: "tangerine juice" (category: fruit)
Processing: "Jeruk peras tanggerin" → cleaned: "Jeruk peras tanggerin" → standardized: "tangerine juice"
Found existing product: "Jeruk peras tanggerin" (standardized: "tangerine juice")
🔍 Standardizing: "Jeruk santang madu" (category: fruit)
🔍 No similar product found for "Jeruk santang madu" (best similarity: 0.622, threshold: 0.8)
🤖 Using GPT-4o for: "Jeruk santang madu"
🎯 GPT-4o standardized: "Jeruk santang madu" → "orange santang madu"
💾 Saving reference product: orange santang madu
➕ Added to reference base: "orange santang madu" (category: fruit)
Processing: "Jeruk santang madu" → cleaned: "Jeruk santang madu" → standardized: "orange santang madu"
Created new product: "Jeruk santang madu" (standardized: "orange santang madu")
🔍 Standardizing: "Jeruk mandarin" (category: fruit)
🔍 No similar product found for "Jeruk mandarin" (best similarity: 0.767, threshold: 0.8)
🤖 Using GPT-4o for: "Jeruk mandarin"
🎯 GPT-4o standardized: "Jeruk mandarin" → "mandarin orange"
💾 Saving reference product: mandarin orange
➕ Added to reference base: "mandarin orange" (category: fruit)
Processing: "Jeruk mandarin" → cleaned: "Jeruk mandarin" → standardized: "mandarin orange"
Found existing product: "Jeruk mandarin" (standardized: "mandarin orange")
🔍 Standardizing: "Jeruk sunkist import" (category: fruit)
🔍 No similar product found for "Jeruk sunkist import" (best similarity: 0.512, threshold: 0.8)
🤖 Using GPT-4o for: "Jeruk sunkist import"
🎯 GPT-4o standardized: "Jeruk sunkist import" → "orange sunkist import"
💾 Saving reference product: orange sunkist import
➕ Added to reference base: "orange sunkist import" (category: fruit)
Processing: "Jeruk sunkist import" → cleaned: "Jeruk sunkist import" → standardized: "orange sunkist import"
Found existing product: "Jeruk sunkist import" (standardized: "orange sunkist import")
🔍 Standardizing: "Jeruk Ponkam" (category: fruit)
🔍 No similar product found for "Jeruk Ponkam" (best similarity: 0.508, threshold: 0.8)
🤖 Using GPT-4o for: "Jeruk Ponkam"
🎯 GPT-4o standardized: "Jeruk Ponkam" → "orange ponkam"
💾 Saving reference product: orange ponkam
➕ Added to reference base: "orange ponkam" (category: fruit)
Processing: "Jeruk Ponkam" → cleaned: "Jeruk Ponkam" → standardized: "orange ponkam"
Found existing product: "Jeruk Ponkam" (standardized: "orange ponkam")
🔍 Standardizing: "Jeruk bali/ pamelo" (category: fruit)
🔍 No similar product found for "Jeruk bali/ pamelo" (best similarity: 0.621, threshold: 0.8)
🤖 Using GPT-4o for: "Jeruk bali/ pamelo"
🎯 GPT-4o standardized: "Jeruk bali/ pamelo" → "pomelo"
💾 Saving reference product: pomelo
➕ Added to reference base: "pomelo" (category: fruit)
Processing: "Jeruk bali/ pamelo" → cleaned: "Jeruk bali/ pamelo" → standardized: "pomelo"
Found existing product: "Jeruk bali/ pamelo" (standardized: "pomelo")
🔍 Standardizing: "Jeruk nipis / lime" (category: fruit)
🔍 No similar product found for "Jeruk nipis / lime" (best similarity: 0.642, threshold: 0.8)
🤖 Using GPT-4o for: "Jeruk nipis / lime"
🎯 GPT-4o standardized: "Jeruk nipis / lime" → "lime"
💾 Saving reference product: lime
➕ Added to reference base: "lime" (category: fruit)
Processing: "Jeruk nipis / lime" → cleaned: "Jeruk nipis / lime" → standardized: "lime"
Found existing product: "Limo" (standardized: "lime")
🔍 Standardizing: "Jeruk lemon tea import" (category: fruit)
🔍 No similar product found for "Jeruk lemon tea import" (best similarity: 0.651, threshold: 0.8)
🤖 Using GPT-4o for: "Jeruk lemon tea import"
🎯 GPT-4o standardized: "Jeruk lemon tea import" → "tea lemon import"
💾 Saving reference product: tea lemon import
➕ Added to reference base: "tea lemon import" (category: fruit)
Processing: "Jeruk lemon tea import" → cleaned: "Jeruk lemon tea import" → standardized: "tea lemon import"
Found existing product: "Jeruk lemon tea import" (standardized: "tea lemon import")
🔍 Standardizing: "Pepaya thailand" (category: fruit)
🔍 No similar product found for "Pepaya thailand" (best similarity: 0.472, threshold: 0.8)
🤖 Using GPT-4o for: "Pepaya thailand"
🎯 GPT-4o standardized: "Pepaya thailand" → "papaya thailand"
💾 Saving reference product: papaya thailand
➕ Added to reference base: "papaya thailand" (category: fruit)
Processing: "Pepaya thailand" → cleaned: "Pepaya thailand" → standardized: "papaya thailand"
Found existing product: "Pepaya thailand" (standardized: "papaya thailand")
🔍 Standardizing: "Papaya Matang california" (category: fruit)
🔍 No similar product found for "Papaya Matang california" (best similarity: 0.666, threshold: 0.8)
🤖 Using GPT-4o for: "Papaya Matang california"
🎯 GPT-4o standardized: "Papaya Matang california" → "papaya california"
💾 Saving reference product: papaya california
➕ Added to reference base: "papaya california" (category: fruit)
Processing: "Papaya Matang california" → cleaned: "Papaya Matang california" → standardized: "papaya california"
Found existing product: "papaya california" (standardized: "papaya california")
🔍 Standardizing: "Pisang kavendis" (category: fruit)
🔍 No similar product found for "Pisang kavendis" (best similarity: 0.449, threshold: 0.8)
🤖 Using GPT-4o for: "Pisang kavendis"
🎯 GPT-4o standardized: "Pisang kavendis" → "banana cavendish"
 GET /api/uploads/status 200 in 629ms
💾 Saving reference product: banana cavendish
➕ Added to reference base: "banana cavendish" (category: fruit)
Processing: "Pisang kavendis" → cleaned: "Pisang kavendis" → standardized: "banana cavendish"
Found existing product: "Banana Cavendis" (standardized: "banana cavendish")
🔍 Standardizing: "Pisang Hijau / Ambon" (category: fruit)
🔍 No similar product found for "Pisang Hijau / Ambon" (best similarity: 0.669, threshold: 0.8)
🤖 Using GPT-4o for: "Pisang Hijau / Ambon"
🎯 GPT-4o standardized: "Pisang Hijau / Ambon" → "banana green"
💾 Saving reference product: banana green
➕ Added to reference base: "banana green" (category: fruit)
Processing: "Pisang Hijau / Ambon" → cleaned: "Pisang Hijau / Ambon" → standardized: "banana green"
Found existing product: "Pisang hijau / ambon" (standardized: "banana green")
🔍 Standardizing: "Pisang kepok" (category: fruit)
🔍 No similar product found for "Pisang kepok" (best similarity: 0.616, threshold: 0.8)
🤖 Using GPT-4o for: "Pisang kepok"
🎯 GPT-4o standardized: "Pisang kepok" → "banana kepok"
💾 Saving reference product: banana kepok
➕ Added to reference base: "banana kepok" (category: fruit)
Processing: "Pisang kepok" → cleaned: "Pisang kepok" → standardized: "banana kepok"
Found existing product: "Pisang Kepok" (standardized: "banana kepok")
🔍 Standardizing: "Pisang Mas" (category: fruit)
🔍 No similar product found for "Pisang Mas" (best similarity: 0.512, threshold: 0.8)
🤖 Using GPT-4o for: "Pisang Mas"
🎯 GPT-4o standardized: "Pisang Mas" → "banana mas"
💾 Saving reference product: banana mas
➕ Added to reference base: "banana mas" (category: fruit)
Processing: "Pisang Mas" → cleaned: "Pisang Mas" → standardized: "banana mas"
Found existing product: "Banana Mas" (standardized: "banana mas")
🔍 Standardizing: "Pisang Raja" (category: fruit)
🔍 No similar product found for "Pisang Raja" (best similarity: 0.634, threshold: 0.8)
🤖 Using GPT-4o for: "Pisang Raja"
🎯 GPT-4o standardized: "Pisang Raja" → "banana raja"
💾 Saving reference product: banana raja
➕ Added to reference base: "banana raja" (category: fruit)
Processing: "Pisang Raja" → cleaned: "Pisang Raja" → standardized: "banana raja"
Found existing product: "Pisang raja" (standardized: "banana raja")
🔍 Standardizing: "Pisang Tanduk" (category: fruit)
🔍 No similar product found for "Pisang Tanduk" (best similarity: 0.517, threshold: 0.8)
🤖 Using GPT-4o for: "Pisang Tanduk"
🎯 GPT-4o standardized: "Pisang Tanduk" → "banana tanduk"
💾 Saving reference product: banana tanduk
➕ Added to reference base: "banana tanduk" (category: fruit)
Processing: "Pisang Tanduk" → cleaned: "Pisang Tanduk" → standardized: "banana tanduk"
Found existing product: "Pisang tanduk" (standardized: "banana tanduk")
🔍 Standardizing: "Salak Bali /Snack Fruite" (category: fruit)
🔍 No similar product found for "Salak Bali /Snack Fruite" (best similarity: 0.510, threshold: 0.8)
🤖 Using GPT-4o for: "Salak Bali /Snack Fruite"
🎯 GPT-4o standardized: "Salak Bali /Snack Fruite" → "fruit salak"
💾 Saving reference product: fruit salak
➕ Added to reference base: "fruit salak" (category: fruit)
Processing: "Salak Bali /Snack Fruite" → cleaned: "Salak Bali /Snack Fruite" → standardized: "fruit salak"
Created new product: "Salak Bali /Snack Fruite" (standardized: "fruit salak")
🔍 Standardizing: "Salak Pondoh" (category: fruit)
🔍 No similar product found for "Salak Pondoh" (best similarity: 0.662, threshold: 0.8)
🤖 Using GPT-4o for: "Salak Pondoh"
🎯 GPT-4o standardized: "Salak Pondoh" → "snakefruit pondoh"
💾 Saving reference product: snakefruit pondoh
➕ Added to reference base: "snakefruit pondoh" (category: fruit)
Processing: "Salak Pondoh" → cleaned: "Salak Pondoh" → standardized: "snakefruit pondoh"
Found existing product: "Salak Pondoh" (standardized: "snakefruit pondoh")
🔍 Standardizing: "Strawberry" (category: fruit)
🎯 Found similar product: "Strawberry" → "strawberry" (similarity: 1.000)
✅ Found via embedding: "Strawberry" → "strawberry" (similarity: 1.000)
Processing: "Strawberry" → cleaned: "Strawberry" → standardized: "strawberry"
Found existing product: "Strawberry" (standardized: "strawberry")
🔍 Standardizing: "Watermelon red" (category: fruit)
🔍 No similar product found for "Watermelon red" (best similarity: 0.579, threshold: 0.8)
🤖 Using GPT-4o for: "Watermelon red"
🎯 GPT-4o standardized: "Watermelon red" → "watermelon red"
💾 Saving reference product: watermelon red
➕ Added to reference base: "watermelon red" (category: fruit)
Processing: "Watermelon red" → cleaned: "Watermelon red" → standardized: "watermelon red"
Found existing product: "Water Melon red" (standardized: "watermelon red")
🔍 Standardizing: "Watermelon yellow" (category: fruit)
🎯 Found similar product: "Watermelon yellow" → "watermelon red" (similarity: 0.830)
✅ Found via embedding: "Watermelon yellow" → "watermelon red" (similarity: 0.830)
Processing: "Watermelon yellow" → cleaned: "Watermelon yellow" → standardized: "watermelon red"
Found existing product: "Water Melon red" (standardized: "watermelon red")
🔍 Standardizing: "Pear green yely" (category: fruit)
🔍 No similar product found for "Pear green yely" (best similarity: 0.778, threshold: 0.8)
🤖 Using GPT-4o for: "Pear green yely"
🎯 GPT-4o standardized: "Pear green yely" → "pear green"
💾 Saving reference product: pear green
➕ Added to reference base: "pear green" (category: fruit)
Processing: "Pear green yely" → cleaned: "Pear green yely" → standardized: "pear green"
Found existing product: "Pear Hijau" (standardized: "pear green")
🔍 Standardizing: "Pear century" (category: fruit)
🔍 No similar product found for "Pear century" (best similarity: 0.411, threshold: 0.8)
🤖 Using GPT-4o for: "Pear century"
🎯 GPT-4o standardized: "Pear century" → "pear century"
💾 Saving reference product: pear century
➕ Added to reference base: "pear century" (category: fruit)
Processing: "Pear century" → cleaned: "Pear century" → standardized: "pear century"
Found existing product: "Pear century" (standardized: "pear century")
🔍 Standardizing: "Pear Sandong" (category: fruit)
🔍 No similar product found for "Pear Sandong" (best similarity: 0.474, threshold: 0.8)
🤖 Using GPT-4o for: "Pear Sandong"
🎯 GPT-4o standardized: "Pear Sandong" → "pear sandong"
💾 Saving reference product: pear sandong
➕ Added to reference base: "pear sandong" (category: fruit)
Processing: "Pear Sandong" → cleaned: "Pear Sandong" → standardized: "pear sandong"
Found existing product: "Pear Sandong" (standardized: "pear sandong")
🔍 Standardizing: "Pear yaly kuning" (category: vegetables)
🔍 No similar product found for "Pear yaly kuning" (best similarity: 0.431, threshold: 0.8)
🤖 Using GPT-4o for: "Pear yaly kuning"
🎯 GPT-4o standardized: "Pear yaly kuning" → "pear yaly yellow"
💾 Saving reference product: pear yaly yellow
➕ Added to reference base: "pear yaly yellow" (category: vegetables)
Processing: "Pear yaly kuning" → cleaned: "Pear yaly kuning" → standardized: "pear yaly yellow"
Found existing product: "Pear yaly kuning" (standardized: "pear yaly yellow")
🔍 Standardizing: "Sirsak" (category: vegetables)
🔍 No similar product found for "Sirsak" (best similarity: 0.347, threshold: 0.8)
🤖 Using GPT-4o for: "Sirsak"
🎯 GPT-4o standardized: "Sirsak" → "soursop"
💾 Saving reference product: soursop
➕ Added to reference base: "soursop" (category: vegetables)
Processing: "Sirsak" → cleaned: "Sirsak" → standardized: "soursop"
Found existing product: "Sirsak" (standardized: "soursop")
🔍 Standardizing: "Klengkeng" (category: vegetables)
🔍 No similar product found for "Klengkeng" (best similarity: 0.379, threshold: 0.8)
🤖 Using GPT-4o for: "Klengkeng"
🎯 GPT-4o standardized: "Klengkeng" → "longan"
💾 Saving reference product: longan
➕ Added to reference base: "longan" (category: vegetables)
Processing: "Klengkeng" → cleaned: "Klengkeng" → standardized: "longan"
Found existing product: "Kelengkeng" (standardized: "longan")
🔍 Standardizing: "Bangkuang" (category: vegetables)
🔍 No similar product found for "Bangkuang" (best similarity: 0.408, threshold: 0.8)
🤖 Using GPT-4o for: "Bangkuang"
🎯 GPT-4o standardized: "Bangkuang" → "yam bean"
💾 Saving reference product: yam bean
➕ Added to reference base: "yam bean" (category: vegetables)
Processing: "Bangkuang" → cleaned: "Bangkuang" → standardized: "yam bean"
Found existing product: "Bangkuang" (standardized: "yam bean")
🔍 Standardizing: "Asem" (category: vegetables)
🔍 No similar product found for "Asem" (best similarity: 0.386, threshold: 0.8)
🤖 Using GPT-4o for: "Asem"
🎯 GPT-4o standardized: "Asem" → "tamarind"
💾 Saving reference product: tamarind
➕ Added to reference base: "tamarind" (category: vegetables)
Processing: "Asem" → cleaned: "Asem" → standardized: "tamarind"
Found existing product: "Asem" (standardized: "tamarind")
🔍 Standardizing: "Asparagus" (category: vegetables)
🎯 Found similar product: "Asparagus" → "asparagus green" (similarity: 0.821)
✅ Found via embedding: "Asparagus" → "asparagus green" (similarity: 0.821)
Processing: "Asparagus" → cleaned: "Asparagus" → standardized: "asparagus green"
Found existing product: "Asparagus Green" (standardized: "asparagus green")
🔍 Standardizing: "Baby corn" (category: vegetables)
🔍 No similar product found for "Baby corn" (best similarity: 0.598, threshold: 0.8)
🤖 Using GPT-4o for: "Baby corn"
🎯 GPT-4o standardized: "Baby corn" → "corn baby"
💾 Saving reference product: corn baby
➕ Added to reference base: "corn baby" (category: vegetables)
Processing: "Baby corn" → cleaned: "Baby corn" → standardized: "corn baby"
Found existing product: "Baby Corn" (standardized: "corn baby")
🔍 Standardizing: "Baby potato" (category: vegetables)
🎯 Found similar product: "Baby potato" → "potato baby" (similarity: 0.803)
✅ Found via embedding: "Baby potato" → "potato baby" (similarity: 0.803)
Processing: "Baby potato" → cleaned: "Baby potato" → standardized: "potato baby"
Found existing product: "Potato baby" (standardized: "potato baby")
🔍 Standardizing: "Baby Spinach english" (category: vegetables)
🎯 Found similar product: "Baby Spinach english" → "spinach english" (similarity: 0.869)
✅ Found via embedding: "Baby Spinach english" → "spinach english" (similarity: 0.869)
Processing: "Baby Spinach english" → cleaned: "Baby Spinach english" → standardized: "spinach english"
Found existing product: "Spinach English / Horenso" (standardized: "spinach english")
🔍 Standardizing: "Bawang bombay" (category: vegetables)
🔍 No similar product found for "Bawang bombay" (best similarity: 0.407, threshold: 0.8)
🤖 Using GPT-4o for: "Bawang bombay"
🎯 GPT-4o standardized: "Bawang bombay" → "onion brown"
💾 Saving reference product: onion brown
➕ Added to reference base: "onion brown" (category: vegetables)
Processing: "Bawang bombay" → cleaned: "Bawang bombay" → standardized: "onion brown"
Found existing product: "Onion Brown" (standardized: "onion brown")
🔍 Standardizing: "Bawang Merah kupas" (category: vegetables)
🔍 No similar product found for "Bawang Merah kupas" (best similarity: 0.452, threshold: 0.8)
🤖 Using GPT-4o for: "Bawang Merah kupas"
🎯 GPT-4o standardized: "Bawang Merah kupas" → "onion peeled"
💾 Saving reference product: onion peeled
➕ Added to reference base: "onion peeled" (category: vegetables)
Processing: "Bawang Merah kupas" → cleaned: "Bawang Merah kupas" → standardized: "onion peeled"
Found existing product: "Bawang Merah kupas" (standardized: "onion peeled")
🔍 Standardizing: "Bawang merah utuh" (category: vegetables)
🔍 No similar product found for "Bawang merah utuh" (best similarity: 0.466, threshold: 0.8)
🤖 Using GPT-4o for: "Bawang merah utuh"
🎯 GPT-4o standardized: "Bawang merah utuh" → "onion shallot"
💾 Saving reference product: onion shallot
➕ Added to reference base: "onion shallot" (category: vegetables)
Processing: "Bawang merah utuh" → cleaned: "Bawang merah utuh" → standardized: "onion shallot"
Found existing product: "Bawang merah utuh" (standardized: "onion shallot")
🔍 Standardizing: "Bawang Goreng Asli" (category: vegetables)
🔍 No similar product found for "Bawang Goreng Asli" (best similarity: 0.474, threshold: 0.8)
🤖 Using GPT-4o for: "Bawang Goreng Asli"
🎯 GPT-4o standardized: "Bawang Goreng Asli" → "onion fried"
💾 Saving reference product: onion fried
➕ Added to reference base: "onion fried" (category: vegetables)
Processing: "Bawang Goreng Asli" → cleaned: "Bawang Goreng Asli" → standardized: "onion fried"
Found existing product: "bawang goreng biasa" (standardized: "onion fried")
🔍 Standardizing: "Basil Leaf" (category: vegetables)
🔍 No similar product found for "Basil Leaf" (best similarity: 0.565, threshold: 0.8)
🤖 Using GPT-4o for: "Basil Leaf"
🎯 GPT-4o standardized: "Basil Leaf" → "leaf basil"
💾 Saving reference product: leaf basil
➕ Added to reference base: "leaf basil" (category: vegetables)
Processing: "Basil Leaf" → cleaned: "Basil Leaf" → standardized: "leaf basil"
Found existing product: "Basil Leaf" (standardized: "leaf basil")
🔍 Standardizing: "Bayam/Spinach akar" (category: vegetables)
🔍 No similar product found for "Bayam/Spinach akar" (best similarity: 0.749, threshold: 0.8)
🤖 Using GPT-4o for: "Bayam/Spinach akar"
🎯 GPT-4o standardized: "Bayam/Spinach akar" → "spinach root"
💾 Saving reference product: spinach root
➕ Added to reference base: "spinach root" (category: vegetables)
Processing: "Bayam/Spinach akar" → cleaned: "Bayam/Spinach akar" → standardized: "spinach root"
Found existing product: "Bayam/Spinach akar" (standardized: "spinach root")
🔍 Standardizing: "Beet Root" (category: vegetables)
🎯 Found similar product: "Beet Root" → "beetroot" (similarity: 0.855)
✅ Found via embedding: "Beet Root" → "beetroot" (similarity: 0.855)
Processing: "Beet Root" → cleaned: "Beet Root" → standardized: "beetroot"
Found existing product: "Beetroot" (standardized: "beetroot")
🔍 Standardizing: "Black pepper Whole" (category: vegetables)
🔍 No similar product found for "Black pepper Whole" (best similarity: 0.457, threshold: 0.8)
🤖 Using GPT-4o for: "Black pepper Whole"
🎯 GPT-4o standardized: "Black pepper Whole" → "pepper black whole"
💾 Saving reference product: pepper black whole
➕ Added to reference base: "pepper black whole" (category: vegetables)
Processing: "Black pepper Whole" → cleaned: "Black pepper Whole" → standardized: "pepper black whole"
Found existing product: "Black pepper Whole" (standardized: "pepper black whole")
🔍 Standardizing: "Black pepper crush" (category: vegetables)
🔍 No similar product found for "Black pepper crush" (best similarity: 0.585, threshold: 0.8)
🤖 Using GPT-4o for: "Black pepper crush"
🎯 GPT-4o standardized: "Black pepper crush" → "pepper black crush"
💾 Saving reference product: pepper black crush
➕ Added to reference base: "pepper black crush" (category: vegetables)
Processing: "Black pepper crush" → cleaned: "Black pepper crush" → standardized: "pepper black crush"
Found existing product: "Black pepper crush" (standardized: "pepper black crush")
🔍 Standardizing: "Blego" (category: vegetables)
🔍 No similar product found for "Blego" (best similarity: 0.282, threshold: 0.8)
🤖 Using GPT-4o for: "Blego"
🎯 GPT-4o standardized: "Blego" → "okra"
💾 Saving reference product: okra
➕ Added to reference base: "okra" (category: vegetables)
Processing: "Blego" → cleaned: "Blego" → standardized: "okra"
Found existing product: "okra" (standardized: "okra")
🔍 Standardizing: "Arcis" (category: vegetables)
🔍 No similar product found for "Arcis" (best similarity: 0.342, threshold: 0.8)
🤖 Using GPT-4o for: "Arcis"
🎯 GPT-4o standardized: "Arcis" → "artichoke"
💾 Saving reference product: artichoke
➕ Added to reference base: "artichoke" (category: vegetables)
Processing: "Arcis" → cleaned: "Arcis" → standardized: "artichoke"
Found existing product: "Arcis" (standardized: "artichoke")
🔍 Standardizing: "Bongkot" (category: vegetables)
🔍 No similar product found for "Bongkot" (best similarity: 0.363, threshold: 0.8)
🤖 Using GPT-4o for: "Bongkot"
🎯 GPT-4o standardized: "Bongkot" → "galangal"
💾 Saving reference product: galangal
➕ Added to reference base: "galangal" (category: vegetables)
Processing: "Bongkot" → cleaned: "Bongkot" → standardized: "galangal"
Found existing product: "Galangal" (standardized: "galangal")
🔍 Standardizing: "Buah Melinjo Muda" (category: vegetables)
🔍 No similar product found for "Buah Melinjo Muda" (best similarity: 0.431, threshold: 0.8)
🤖 Using GPT-4o for: "Buah Melinjo Muda"
🎯 GPT-4o standardized: "Buah Melinjo Muda" → "melinjo young"
💾 Saving reference product: melinjo young
➕ Added to reference base: "melinjo young" (category: vegetables)
Processing: "Buah Melinjo Muda" → cleaned: "Buah Melinjo Muda" → standardized: "melinjo young"
Found existing product: "Buah Melinjo Muda" (standardized: "melinjo young")
🔍 Standardizing: "Bunga Bongkot" (category: vegetables)
🔍 No similar product found for "Bunga Bongkot" (best similarity: 0.314, threshold: 0.8)
🤖 Using GPT-4o for: "Bunga Bongkot"
🎯 GPT-4o standardized: "Bunga Bongkot" → "torch ginger"
💾 Saving reference product: torch ginger
➕ Added to reference base: "torch ginger" (category: vegetables)
Processing: "Bunga Bongkot" → cleaned: "Bunga Bongkot" → standardized: "torch ginger"
Found existing product: "Kecombrang" (standardized: "torch ginger")
🔍 Standardizing: "Brokoli Clean" (category: vegetables)
🔍 No similar product found for "Brokoli Clean" (best similarity: 0.656, threshold: 0.8)
🤖 Using GPT-4o for: "Brokoli Clean"
🎯 GPT-4o standardized: "Brokoli Clean" → "broccoli clean"
💾 Saving reference product: broccoli clean
➕ Added to reference base: "broccoli clean" (category: vegetables)
Processing: "Brokoli Clean" → cleaned: "Brokoli Clean" → standardized: "broccoli clean"
Found existing product: "Brokoli Clean" (standardized: "broccoli clean")
🔍 Standardizing: "Buncis/Bean String" (category: vegetables)
🔍 No similar product found for "Buncis/Bean String" (best similarity: 0.532, threshold: 0.8)
🤖 Using GPT-4o for: "Buncis/Bean String"
🎯 GPT-4o standardized: "Buncis/Bean String" → "bean string"
💾 Saving reference product: bean string
➕ Added to reference base: "bean string" (category: vegetables)
Processing: "Buncis/Bean String" → cleaned: "Buncis/Bean String" → standardized: "bean string"
Found existing product: "Buncis/Bean String" (standardized: "bean string")
🔍 Standardizing: "Buncis baby" (category: vegetables)
🔍 No similar product found for "Buncis baby" (best similarity: 0.472, threshold: 0.8)
🤖 Using GPT-4o for: "Buncis baby"
🎯 GPT-4o standardized: "Buncis baby" → "bean baby"
💾 Saving reference product: bean baby
➕ Added to reference base: "bean baby" (category: vegetables)
Processing: "Buncis baby" → cleaned: "Buncis baby" → standardized: "bean baby"
Found existing product: "Baby Buncis" (standardized: "bean baby")
🔍 Standardizing: "Caizin/Sayur Hijau" (category: vegetables)
🔍 No similar product found for "Caizin/Sayur Hijau" (best similarity: 0.536, threshold: 0.8)
🤖 Using GPT-4o for: "Caizin/Sayur Hijau"
🎯 GPT-4o standardized: "Caizin/Sayur Hijau" → "vegetable green"
💾 Saving reference product: vegetable green
➕ Added to reference base: "vegetable green" (category: vegetables)
Processing: "Caizin/Sayur Hijau" → cleaned: "Caizin/Sayur Hijau" → standardized: "vegetable green"
Found existing product: "Caisin / Sayur Hijau" (standardized: "vegetable green")
🔍 Standardizing: "Capsicum Green" (category: vegetables)
🔍 No similar product found for "Capsicum Green" (best similarity: 0.708, threshold: 0.8)
🤖 Using GPT-4o for: "Capsicum Green"
 ✓ Compiled /api/upload-status-monitor in 41ms
🎯 GPT-4o standardized: "Capsicum Green" → "capsicum green"
💾 Saving reference product: capsicum green
➕ Added to reference base: "capsicum green" (category: vegetables)
Processing: "Capsicum Green" → cleaned: "Capsicum Green" → standardized: "capsicum green"
Found existing product: "Capsicum Green" (standardized: "capsicum green")
🔍 Standardizing: "Capsicum Red" (category: vegetables)
 GET /api/upload-status-monitor 200 in 1210ms
🎯 Found similar product: "Capsicum Red" → "capsicum green" (similarity: 0.812)
✅ Found via embedding: "Capsicum Red" → "capsicum green" (similarity: 0.812)
Processing: "Capsicum Red" → cleaned: "Capsicum Red" → standardized: "capsicum green"
Found existing product: "Capsicum Green" (standardized: "capsicum green")
🔍 Standardizing: "Capsicum Yellow" (category: vegetables)
🎯 Found similar product: "Capsicum Yellow" → "capsicum green" (similarity: 0.802)
✅ Found via embedding: "Capsicum Yellow" → "capsicum green" (similarity: 0.802)
Processing: "Capsicum Yellow" → cleaned: "Capsicum Yellow" → standardized: "capsicum green"
Found existing product: "Capsicum Green" (standardized: "capsicum green")
🔍 Standardizing: "Carrot Baby" (category: vegetables)
🎯 Found similar product: "Carrot Baby" → "carrot baby" (similarity: 1.000)
✅ Found via embedding: "Carrot Baby" → "carrot baby" (similarity: 1.000)
Processing: "Carrot Baby" → cleaned: "Carrot Baby" → standardized: "carrot baby"
Found existing product: "Carrot Baby Import" (standardized: "carrot baby")
🔍 Standardizing: "Carrot Lokal" (category: vegetables)
🔍 No similar product found for "Carrot Lokal" (best similarity: 0.690, threshold: 0.8)
🤖 Using GPT-4o for: "Carrot Lokal"
🎯 GPT-4o standardized: "Carrot Lokal" → "carrot local"
💾 Saving reference product: carrot local
➕ Added to reference base: "carrot local" (category: vegetables)
Processing: "Carrot Lokal" → cleaned: "Carrot Lokal" → standardized: "carrot local"
Found existing product: "Carrot Local" (standardized: "carrot local")
🔍 Standardizing: "Carrot/Wortel Import" (category: vegetables)
🔍 No similar product found for "Carrot/Wortel Import" (best similarity: 0.760, threshold: 0.8)
🤖 Using GPT-4o for: "Carrot/Wortel Import"
🎯 GPT-4o standardized: "Carrot/Wortel Import" → "carrot import"
💾 Saving reference product: carrot import
➕ Added to reference base: "carrot import" (category: vegetables)
Processing: "Carrot/Wortel Import" → cleaned: "Carrot/Wortel Import" → standardized: "carrot import"
Found existing product: "Carrot Import" (standardized: "carrot import")
🔍 Standardizing: "Cauliflower Clean" (category: vegetables)
🎯 Found similar product: "Cauliflower Clean" → "cauliflower" (similarity: 0.832)
✅ Found via embedding: "Cauliflower Clean" → "cauliflower" (similarity: 0.832)
Processing: "Cauliflower Clean" → cleaned: "Cauliflower Clean" → standardized: "cauliflower"
Found existing product: "Cauli Flower" (standardized: "cauliflower")
🔍 Standardizing: "Chili Hot Small" (category: vegetables)
🔍 No similar product found for "Chili Hot Small" (best similarity: 0.460, threshold: 0.8)
🤖 Using GPT-4o for: "Chili Hot Small"
🎯 GPT-4o standardized: "Chili Hot Small" → "chili small"
💾 Saving reference product: chili small
➕ Added to reference base: "chili small" (category: vegetables)
Processing: "Chili Hot Small" → cleaned: "Chili Hot Small" → standardized: "chili small"
Found existing product: "Chili Hot Small" (standardized: "chili small")
🔍 Standardizing: "Chili Green Big" (category: vegetables)
🔍 No similar product found for "Chili Green Big" (best similarity: 0.708, threshold: 0.8)
🤖 Using GPT-4o for: "Chili Green Big"
🎯 GPT-4o standardized: "Chili Green Big" → "chili green big"
💾 Saving reference product: chili green big
➕ Added to reference base: "chili green big" (category: vegetables)
Processing: "Chili Green Big" → cleaned: "Chili Green Big" → standardized: "chili green big"
Created new product: "Chili Green Big" (standardized: "chili green big")
🔍 Standardizing: "Chili Green Small (Acar)" (category: vegetables)
🔍 No similar product found for "Chili Green Small (Acar)" (best similarity: 0.771, threshold: 0.8)
🤖 Using GPT-4o for: "Chili Green Small (Acar)"
🎯 GPT-4o standardized: "Chili Green Small (Acar)" → "chili green small"
💾 Saving reference product: chili green small
➕ Added to reference base: "chili green small" (category: vegetables)
Processing: "Chili Green Small (Acar)" → cleaned: "Chili Green Small (Acar)" → standardized: "chili green small"
Found existing product: "Chili Hot Green small" (standardized: "chili green small")
🔍 Standardizing: "Chili Red Big" (category: vegetables)
🔍 No similar product found for "Chili Red Big" (best similarity: 0.792, threshold: 0.8)
🤖 Using GPT-4o for: "Chili Red Big"
🎯 GPT-4o standardized: "Chili Red Big" → "chili red"
💾 Saving reference product: chili red
➕ Added to reference base: "chili red" (category: vegetables)
Processing: "Chili Red Big" → cleaned: "Chili Red Big" → standardized: "chili red"
Found existing product: "Chili Red large" (standardized: "chili red")
🔍 Standardizing: "Cinamon stick" (category: Other)
🔍 No similar product found for "Cinamon stick" (best similarity: 0.586, threshold: 0.8)
🤖 Using GPT-4o for: "Cinamon stick"
 GET /api/upload-status-monitor 200 in 547ms
🔄 Reprocessing upload: Island Organics Bali.pdf (cmbm7f64z000woust2lj94mj5)
🔄 Starting reprocessing for upload: cmbm7f64z000woust2lj94mj5
📚 Loading reference products from database...
 POST /api/reprocess-upload 200 in 718ms
Error loading reference products: Error [PrismaClientValidationError]: 
Invalid `prisma.product.findMany()` invocation in
/Users/denisdomashenko/monito-web/.next/server/chunks/[root of the server]__8b8352._.js:199:59

  196 try {
  197     console.log('📚 Loading reference products from database...');
  198     // Загружаем из БД существующие стандартизированные продукты
→ 199     const existingProducts = await prisma.product.findMany({
            select: {
              id: true,
              standardizedName: true,
              category: true,
              name: true
            },
            where: {
              standardizedName: {
          +     not: String
              }
            }
          })

Argument `not` must not be null.
    at <unknown> (app/services/embeddingService.ts:181:52)
    at async EmbeddingService.loadReferenceProducts (app/services/embeddingService.ts:181:31)
  179 |       
  180 |       // Загружаем из БД существующие стандартизированные продукты
> 181 |       const existingProducts = await prisma.product.findMany({
      |                                                    ^
  182 |         select: {
  183 |           id: true,
  184 |           standardizedName: true, {
  clientVersion: '6.9.0'
}
🏗️ Initializing basic reference base...
Processing file: Island Organics Bali.pdf
🚀 Starting advanced PDF processing: https://cdc1w79ssc4kg6xh.public.blob.vercel-storage.com/Island%20Organics%20Bali-ywWEuvZsODuKBVATgMUy9cXdN48q0B.pdf
🔄 Starting advanced PDF processing for: https://cdc1w79ssc4kg6xh.public.blob.vercel-storage.com/Island%20Organics%20Bali-ywWEuvZsODuKBVATgMUy9cXdN48q0B.pdf
📄 Attempting text extraction from PDF...
Warning: Please use the `legacy` build in Node.js environments.
⚠️ pdfjs-dist failed, trying alternative approaches: ReferenceError: DOMMatrix is not defined
    at <unknown> (.next/server/chunks/_453590._.js:21:16)
    at async AdvancedPdfProcessor.extractTextFromPdf (app/services/advancedPdfProcessor.ts:73:25)
    at async AdvancedPdfProcessor.processComplexPdf (app/services/advancedPdfProcessor.ts:35:23)
    at async processPDF (app/services/fileProcessor.ts:112:19)
    at async processFile (app/services/fileProcessor.ts:51:22)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  71 |       // Approach 1: pdfjs-dist
  72 |       try {
> 73 |         const pdfjsLib = await import('pdfjs-dist');
     |                         ^
  74 |         const pdf = await pdfjsLib.getDocument({
  75 |           data: arrayBuffer,
  76 |           useWorkerFetch: false,
🔍 Raw analysis extracted 149611 characters
📝 Total text extracted: 149611 characters
🎯 GPT-4o standardized: "Cinamon stick" → "stick cinnamon"
💾 Saving reference product: stick cinnamon
➕ Added to reference base: "stick cinnamon" (category: Other)
Processing: "Cinamon stick" → cleaned: "Cinamon stick" → standardized: "stick cinnamon"
✅ Initialized 24 basic reference products
Found existing product: "Cinamon Stick" (standardized: "stick cinnamon")
❌ Advanced PDF processing failed: TypeError: Cannot read properties of undefined (reading 'length')
    at AdvancedPdfProcessor.processComplexPdf (app/services/advancedPdfProcessor.ts:36:59)
    at async processPDF (app/services/fileProcessor.ts:112:19)
    at async processFile (app/services/fileProcessor.ts:51:22)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  34 |       // Step 1: Пытаемся извлечь текстовую информацию
  35 |       const textData = await this.extractTextFromPdf(fileUrl);
> 36 |       console.log(`📝 Text extraction: ${textData.products.length} products found`);
     |                                                           ^
  37 |       
  38 |       // Step 2: Обрабатываем PDF как последовательность изображений для Vision API
  39 |       const visionData = await this.processPdfAsImages(fileUrl);
❌ Advanced PDF processing failed: TypeError: Cannot read properties of undefined (reading 'length')
    at AdvancedPdfProcessor.processComplexPdf (app/services/advancedPdfProcessor.ts:36:59)
    at async processPDF (app/services/fileProcessor.ts:112:19)
    at async processFile (app/services/fileProcessor.ts:51:22)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  34 |       // Step 1: Пытаемся извлечь текстовую информацию
  35 |       const textData = await this.extractTextFromPdf(fileUrl);
> 36 |       console.log(`📝 Text extraction: ${textData.products.length} products found`);
     |                                                           ^
  37 |       
  38 |       // Step 2: Обрабатываем PDF как последовательность изображений для Vision API
  39 |       const visionData = await this.processPdfAsImages(fileUrl);
🔄 Falling back to basic PDF processing...
📄 Basic PDF processing: https://cdc1w79ssc4kg6xh.public.blob.vercel-storage.com/Island%20Organics%20Bali-ywWEuvZsODuKBVATgMUy9cXdN48q0B.pdf
🔍 Standardizing: "Clove" (category: Other)
🎯 Found similar product: "Clove" → "clove" (similarity: 1.000)
✅ Found via embedding: "Clove" → "clove" (similarity: 1.000)
Processing: "Clove" → cleaned: "Clove" → standardized: "clove"
Found existing product: "Clove" (standardized: "clove")
❌ Basic PDF processing failed: ReferenceError: DOMMatrix is not defined
    at <unknown> (.next/server/chunks/_453590._.js:21:16)
    at async AdvancedPdfProcessor.extractTextFromPdf (app/services/advancedPdfProcessor.ts:73:25)
    at async AdvancedPdfProcessor.processComplexPdf (app/services/advancedPdfProcessor.ts:35:23)
    at async processPDF (app/services/fileProcessor.ts:112:19)
    at async processFile (app/services/fileProcessor.ts:51:22)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  71 |       // Approach 1: pdfjs-dist
  72 |       try {
> 73 |         const pdfjsLib = await import('pdfjs-dist');
     |                         ^
  74 |         const pdf = await pdfjsLib.getDocument({
  75 |           data: arrayBuffer,
  76 |           useWorkerFetch: false,
❌ Basic PDF processing also failed: ReferenceError: DOMMatrix is not defined
    at <unknown> (.next/server/chunks/_453590._.js:21:16)
    at async AdvancedPdfProcessor.extractTextFromPdf (app/services/advancedPdfProcessor.ts:73:25)
    at async AdvancedPdfProcessor.processComplexPdf (app/services/advancedPdfProcessor.ts:35:23)
    at async processPDF (app/services/fileProcessor.ts:112:19)
    at async processFile (app/services/fileProcessor.ts:51:22)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  71 |       // Approach 1: pdfjs-dist
  72 |       try {
> 73 |         const pdfjsLib = await import('pdfjs-dist');
     |                         ^
  74 |         const pdf = await pdfjsLib.getDocument({
  75 |           data: arrayBuffer,
  76 |           useWorkerFetch: false,
🔍 Standardizing: "Cumin / Jinten" (category: Other)
Successfully processed 0 products from Island Organics Bali.pdf
🎉 Successfully reprocessed: cmbm7f64z000woust2lj94mj5
🔍 No similar product found for "Cumin / Jinten" (best similarity: 0.779, threshold: 0.8)
🤖 Using GPT-4o for: "Cumin / Jinten"
🎯 GPT-4o standardized: "Cumin / Jinten" → "cumin"
💾 Saving reference product: cumin
➕ Added to reference base: "cumin" (category: Other)
Processing: "Cumin / Jinten" → cleaned: "Cumin / Jinten" → standardized: "cumin"
Found existing product: "Cumin / Jinten" (standardized: "cumin")
🔍 Standardizing: "Daun jeruk/Lemon Leaf" (category: Other)
🔍 No similar product found for "Daun jeruk/Lemon Leaf" (best similarity: 0.659, threshold: 0.8)
🤖 Using GPT-4o for: "Daun jeruk/Lemon Leaf"
🎯 GPT-4o standardized: "Daun jeruk/Lemon Leaf" → "leaf lemon"
💾 Saving reference product: leaf lemon
➕ Added to reference base: "leaf lemon" (category: Other)
Processing: "Daun jeruk/Lemon Leaf" → cleaned: "Daun jeruk/Lemon Leaf" → standardized: "leaf lemon"
Found existing product: "Lemen Leaf" (standardized: "leaf lemon")
🔍 Standardizing: "Daun Kayu Suji" (category: Other)
🔍 No similar product found for "Daun Kayu Suji" (best similarity: 0.392, threshold: 0.8)
🤖 Using GPT-4o for: "Daun Kayu Suji"
🎯 GPT-4o standardized: "Daun Kayu Suji" → "leaf suji"
💾 Saving reference product: leaf suji
➕ Added to reference base: "leaf suji" (category: Other)
Processing: "Daun Kayu Suji" → cleaned: "Daun Kayu Suji" → standardized: "leaf suji"
Found existing product: "Daun Kayu Suji" (standardized: "leaf suji")
🔍 Standardizing: "Daun Kunyit" (category: Other)
🔍 No similar product found for "Daun Kunyit" (best similarity: 0.434, threshold: 0.8)
🤖 Using GPT-4o for: "Daun Kunyit"
🎯 GPT-4o standardized: "Daun Kunyit" → "turmeric leaf"
💾 Saving reference product: turmeric leaf
➕ Added to reference base: "turmeric leaf" (category: Other)
Processing: "Daun Kunyit" → cleaned: "Daun Kunyit" → standardized: "turmeric leaf"
Found existing product: "Daun Kunyit" (standardized: "turmeric leaf")
🔍 Standardizing: "Daun Melinjo" (category: Other)
🔍 No similar product found for "Daun Melinjo" (best similarity: 0.521, threshold: 0.8)
🤖 Using GPT-4o for: "Daun Melinjo"
🎯 GPT-4o standardized: "Daun Melinjo" → "melinjo leaf"
💾 Saving reference product: melinjo leaf
➕ Added to reference base: "melinjo leaf" (category: Other)
Processing: "Daun Melinjo" → cleaned: "Daun Melinjo" → standardized: "melinjo leaf"
Created new product: "Daun Melinjo" (standardized: "melinjo leaf")
🔍 Standardizing: "Daun pandan" (category: Other)
🔍 No similar product found for "Daun pandan" (best similarity: 0.757, threshold: 0.8)
🤖 Using GPT-4o for: "Daun pandan"
🎯 GPT-4o standardized: "Daun pandan" → "pandan leaf"
💾 Saving reference product: pandan leaf
➕ Added to reference base: "pandan leaf" (category: Other)
Processing: "Daun pandan" → cleaned: "Daun pandan" → standardized: "pandan leaf"
Found existing product: "Leaf Pandan" (standardized: "pandan leaf")
🔍 Standardizing: "Daun pisang" (category: Other)
🔍 No similar product found for "Daun pisang" (best similarity: 0.525, threshold: 0.8)
🤖 Using GPT-4o for: "Daun pisang"
🎯 GPT-4o standardized: "Daun pisang" → "banana leaf"
💾 Saving reference product: banana leaf
➕ Added to reference base: "banana leaf" (category: Other)
Processing: "Daun pisang" → cleaned: "Daun pisang" → standardized: "banana leaf"
Found existing product: "Daun pisang" (standardized: "banana leaf")
🔍 Standardizing: "Daun salam/ Salam leaf" (category: Other)
🔍 No similar product found for "Daun salam/ Salam leaf" (best similarity: 0.608, threshold: 0.8)
🤖 Using GPT-4o for: "Daun salam/ Salam leaf"
🎯 GPT-4o standardized: "Daun salam/ Salam leaf" → "leaf salam"
💾 Saving reference product: leaf salam
➕ Added to reference base: "leaf salam" (category: Other)
Processing: "Daun salam/ Salam leaf" → cleaned: "Daun salam/ Salam leaf" → standardized: "leaf salam"
Found existing product: "Salam Leaf" (standardized: "leaf salam")
🔍 Standardizing: "Daun seledri" (category: Other)
🔍 No similar product found for "Daun seledri" (best similarity: 0.502, threshold: 0.8)
🤖 Using GPT-4o for: "Daun seledri"
🎯 GPT-4o standardized: "Daun seledri" → "celery leaf"
💾 Saving reference product: celery leaf
➕ Added to reference base: "celery leaf" (category: Other)
Processing: "Daun seledri" → cleaned: "Daun seledri" → standardized: "celery leaf"
Found existing product: "Daun seledri" (standardized: "celery leaf")
🔍 Standardizing: "Daun Singkong" (category: Other)
🔍 No similar product found for "Daun Singkong" (best similarity: 0.473, threshold: 0.8)
🤖 Using GPT-4o for: "Daun Singkong"
🎯 GPT-4o standardized: "Daun Singkong" → "cassava leaf"
💾 Saving reference product: cassava leaf
➕ Added to reference base: "cassava leaf" (category: Other)
Processing: "Daun Singkong" → cleaned: "Daun Singkong" → standardized: "cassava leaf"
Found existing product: "Daun Singkong" (standardized: "cassava leaf")
🔍 Standardizing: "Dried Chili" (category: Other)
🔍 No similar product found for "Dried Chili" (best similarity: 0.518, threshold: 0.8)
🤖 Using GPT-4o for: "Dried Chili"
🎯 GPT-4o standardized: "Dried Chili" → "chili dried"
💾 Saving reference product: chili dried
➕ Added to reference base: "chili dried" (category: Other)
Processing: "Dried Chili" → cleaned: "Dried Chili" → standardized: "chili dried"
Found existing product: "Dried Chili" (standardized: "chili dried")
🔍 Standardizing: "Ebi kering" (category: Other)
🔍 No similar product found for "Ebi kering" (best similarity: 0.400, threshold: 0.8)
🤖 Using GPT-4o for: "Ebi kering"
🎯 GPT-4o standardized: "Ebi kering" → "shrimp dried"
💾 Saving reference product: shrimp dried
➕ Added to reference base: "shrimp dried" (category: Other)
Processing: "Ebi kering" → cleaned: "Ebi kering" → standardized: "shrimp dried"
Found existing product: "Ebi kering" (standardized: "shrimp dried")
🔍 Standardizing: "Edamame" (category: vegetables)
🔍 No similar product found for "Edamame" (best similarity: 0.576, threshold: 0.8)
🤖 Using GPT-4o for: "Edamame"
🎯 GPT-4o standardized: "Edamame" → "edamame"
💾 Saving reference product: edamame
➕ Added to reference base: "edamame" (category: vegetables)
Processing: "Edamame" → cleaned: "Edamame" → standardized: "edamame"
Found existing product: "Edamame" (standardized: "edamame")
🔍 Standardizing: "Edible flowers" (category: Other)
🔍 No similar product found for "Edible flowers" (best similarity: 0.741, threshold: 0.8)
🤖 Using GPT-4o for: "Edible flowers"
🎯 GPT-4o standardized: "Edible flowers" → "flower edible"
💾 Saving reference product: flower edible
➕ Added to reference base: "flower edible" (category: Other)
Processing: "Edible flowers" → cleaned: "Edible flowers" → standardized: "flower edible"
Found existing product: "Edible flowers" (standardized: "flower edible")
🔍 Standardizing: "Eggplant keripit" (category: vegetables)
🔍 No similar product found for "Eggplant keripit" (best similarity: 0.614, threshold: 0.8)
🤖 Using GPT-4o for: "Eggplant keripit"
🎯 GPT-4o standardized: "Eggplant keripit" → "eggplant keripit"
💾 Saving reference product: eggplant keripit
➕ Added to reference base: "eggplant keripit" (category: vegetables)
Processing: "Eggplant keripit" → cleaned: "Eggplant keripit" → standardized: "eggplant keripit"
Found existing product: "Eggplant keripit" (standardized: "eggplant keripit")
🔍 Standardizing: "Emping" (category: Other)
🔍 No similar product found for "Emping" (best similarity: 0.377, threshold: 0.8)
🤖 Using GPT-4o for: "Emping"
🎯 GPT-4o standardized: "Emping" → "cracker emping"
💾 Saving reference product: cracker emping
➕ Added to reference base: "cracker emping" (category: Other)
Processing: "Emping" → cleaned: "Emping" → standardized: "cracker emping"
Found existing product: "Emping" (standardized: "cracker emping")
🔍 Standardizing: "Egg plant/ terong ungu" (category: vegetables)
🔍 No similar product found for "Egg plant/ terong ungu" (best similarity: 0.606, threshold: 0.8)
🤖 Using GPT-4o for: "Egg plant/ terong ungu"
🎯 GPT-4o standardized: "Egg plant/ terong ungu" → "eggplant purple"
💾 Saving reference product: eggplant purple
➕ Added to reference base: "eggplant purple" (category: vegetables)
Processing: "Egg plant/ terong ungu" → cleaned: "Egg plant/ terong ungu" → standardized: "eggplant purple"
Found existing product: "Eggplant Unggu" (standardized: "eggplant purple")
🔍 Standardizing: "Ercis Manis" (category: Other)
🔍 No similar product found for "Ercis Manis" (best similarity: 0.401, threshold: 0.8)
🤖 Using GPT-4o for: "Ercis Manis"
🎯 GPT-4o standardized: "Ercis Manis" → "banana sweet"
💾 Saving reference product: banana sweet
➕ Added to reference base: "banana sweet" (category: Other)
Processing: "Ercis Manis" → cleaned: "Ercis Manis" → standardized: "banana sweet"
Found existing product: "Ercis Manis" (standardized: "banana sweet")
🔍 Standardizing: "Fennel" (category: Other)
🎯 Found similar product: "Fennel" → "fennel" (similarity: 1.000)
✅ Found via embedding: "Fennel" → "fennel" (similarity: 1.000)
Processing: "Fennel" → cleaned: "Fennel" → standardized: "fennel"
Found existing product: "fennel" (standardized: "fennel")
🔍 Standardizing: "Garlic / Clean" (category: Other)
 GET /api/upload-status-monitor 200 in 560ms
🎯 Found similar product: "Garlic / Clean" → "garlic clean" (similarity: 1.000)
✅ Found via embedding: "Garlic / Clean" → "garlic clean" (similarity: 1.000)
Processing: "Garlic / Clean" → cleaned: "Garlic / Clean" → standardized: "garlic clean"
Found existing product: "Garlic Clean" (standardized: "garlic clean")
🔍 Standardizing: "Garlic whole / utuh" (category: Other)
🎯 Found similar product: "Garlic whole / utuh" → "garlic whole" (similarity: 0.835)
✅ Found via embedding: "Garlic whole / utuh" → "garlic whole" (similarity: 0.835)
Processing: "Garlic whole / utuh" → cleaned: "Garlic whole / utuh" → standardized: "garlic whole"
Found existing product: "Garlic Whole" (standardized: "garlic whole")
🔍 Standardizing: "Gonde" (category: Other)
🔍 No similar product found for "Gonde" (best similarity: 0.307, threshold: 0.8)
🤖 Using GPT-4o for: "Gonde"
🎯 GPT-4o standardized: "Gonde" → "gonde"
💾 Saving reference product: gonde
➕ Added to reference base: "gonde" (category: Other)
Processing: "Gonde" → cleaned: "Gonde" → standardized: "gonde"
Found existing product: "Gonde" (standardized: "gonde")
🔍 Standardizing: "kelapa parut" (category: Other)
🔍 No similar product found for "kelapa parut" (best similarity: 0.454, threshold: 0.8)
🤖 Using GPT-4o for: "kelapa parut"
🎯 GPT-4o standardized: "kelapa parut" → "coconut grated"
💾 Saving reference product: coconut grated
➕ Added to reference base: "coconut grated" (category: Other)
Processing: "kelapa parut" → cleaned: "kelapa parut" → standardized: "coconut grated"
Found existing product: "Coconut Grated" (standardized: "coconut grated")
🔍 Standardizing: "Gula Merah" (category: Other)
🔍 No similar product found for "Gula Merah" (best similarity: 0.535, threshold: 0.8)
🤖 Using GPT-4o for: "Gula Merah"
🎯 GPT-4o standardized: "Gula Merah" → "sugar palm"
💾 Saving reference product: sugar palm
➕ Added to reference base: "sugar palm" (category: Other)
Processing: "Gula Merah" → cleaned: "Gula Merah" → standardized: "sugar palm"
Found existing product: "Gula Merah" (standardized: "sugar palm")
🔍 Standardizing: "Jahe Gajah" (category: Other)
🔍 No similar product found for "Jahe Gajah" (best similarity: 0.425, threshold: 0.8)
🤖 Using GPT-4o for: "Jahe Gajah"
🎯 GPT-4o standardized: "Jahe Gajah" → "ginger gajah"
💾 Saving reference product: ginger gajah
➕ Added to reference base: "ginger gajah" (category: Other)
Processing: "Jahe Gajah" → cleaned: "Jahe Gajah" → standardized: "ginger gajah"
Created new product: "Jahe Gajah" (standardized: "ginger gajah")
🔍 Standardizing: "Jangu" (category: Other)
🔍 No similar product found for "Jangu" (best similarity: 0.365, threshold: 0.8)
🤖 Using GPT-4o for: "Jangu"
🎯 GPT-4o standardized: "Jangu" → "jangu"
💾 Saving reference product: jangu
➕ Added to reference base: "jangu" (category: Other)
Processing: "Jangu" → cleaned: "Jangu" → standardized: "jangu"
Found existing product: "Jangu" (standardized: "jangu")
🔍 Standardizing: "Jebug arum/Pala" (category: Other)
🔍 No similar product found for "Jebug arum/Pala" (best similarity: 0.377, threshold: 0.8)
🤖 Using GPT-4o for: "Jebug arum/Pala"
🎯 GPT-4o standardized: "Jebug arum/Pala" → "arum jebug"
💾 Saving reference product: arum jebug
➕ Added to reference base: "arum jebug" (category: Other)
Processing: "Jebug arum/Pala" → cleaned: "Jebug arum/Pala" → standardized: "arum jebug"
Found existing product: "Jebug arum/Pala" (standardized: "arum jebug")
🔍 Standardizing: "Jepang/labu siam" (category: Other)
🔍 No similar product found for "Jepang/labu siam" (best similarity: 0.475, threshold: 0.8)
🤖 Using GPT-4o for: "Jepang/labu siam"
🎯 GPT-4o standardized: "Jepang/labu siam" → "chayote japanese"
💾 Saving reference product: chayote japanese
➕ Added to reference base: "chayote japanese" (category: Other)
Processing: "Jepang/labu siam" → cleaned: "Jepang/labu siam" → standardized: "chayote japanese"
Found existing product: "Jepang/labu siam" (standardized: "chayote japanese")
🔍 Standardizing: "Kacang Hijau" (category: Other)
🔍 No similar product found for "Kacang Hijau" (best similarity: 0.552, threshold: 0.8)
🤖 Using GPT-4o for: "Kacang Hijau"
🎯 GPT-4o standardized: "Kacang Hijau" → "bean mung"
💾 Saving reference product: bean mung
➕ Added to reference base: "bean mung" (category: Other)
Processing: "Kacang Hijau" → cleaned: "Kacang Hijau" → standardized: "bean mung"
Found existing product: "Mung Beans" (standardized: "bean mung")
🔍 Standardizing: "Kacang kedelai goreng" (category: Other)
🔍 No similar product found for "Kacang kedelai goreng" (best similarity: 0.451, threshold: 0.8)
🤖 Using GPT-4o for: "Kacang kedelai goreng"
🎯 GPT-4o standardized: "Kacang kedelai goreng" → "soybean fried"
💾 Saving reference product: soybean fried
➕ Added to reference base: "soybean fried" (category: Other)
Processing: "Kacang kedelai goreng" → cleaned: "Kacang kedelai goreng" → standardized: "soybean fried"
Found existing product: "Kacang kedelai goreng" (standardized: "soybean fried")
🔍 Standardizing: "Kacang merah/Bean Red" (category: Other)
🔍 No similar product found for "Kacang merah/Bean Red" (best similarity: 0.488, threshold: 0.8)
🤖 Using GPT-4o for: "Kacang merah/Bean Red"
🎯 GPT-4o standardized: "Kacang merah/Bean Red" → "bean red"
💾 Saving reference product: bean red
➕ Added to reference base: "bean red" (category: Other)
Processing: "Kacang merah/Bean Red" → cleaned: "Kacang merah/Bean Red" → standardized: "bean red"
Found existing product: "Bean Red (Kacang Buncis)" (standardized: "bean red")
🔍 Standardizing: "Kacang panjang" (category: Other)
🔍 No similar product found for "Kacang panjang" (best similarity: 0.508, threshold: 0.8)
🤖 Using GPT-4o for: "Kacang panjang"
🎯 GPT-4o standardized: "Kacang panjang" → "bean long"
💾 Saving reference product: bean long
➕ Added to reference base: "bean long" (category: Other)
Processing: "Kacang panjang" → cleaned: "Kacang panjang" → standardized: "bean long"
Found existing product: "Bean Long (Kacang Panjang)" (standardized: "bean long")
🔍 Standardizing: "Kacang tanah/Peanut" (category: Other)
🔍 No similar product found for "Kacang tanah/Peanut" (best similarity: 0.509, threshold: 0.8)
🤖 Using GPT-4o for: "Kacang tanah/Peanut"
🎯 GPT-4o standardized: "Kacang tanah/Peanut" → "peanut"
💾 Saving reference product: peanut
➕ Added to reference base: "peanut" (category: Other)
Processing: "Kacang tanah/Peanut" → cleaned: "Kacang tanah/Peanut" → standardized: "peanut"
Found existing product: "kacang tanah" (standardized: "peanut")
🔍 Standardizing: "Kacang tanah Kulit" (category: Other)
🔍 No similar product found for "Kacang tanah Kulit" (best similarity: 0.433, threshold: 0.8)
🤖 Using GPT-4o for: "Kacang tanah Kulit"
🎯 GPT-4o standardized: "Kacang tanah Kulit" → "peanut skin"
💾 Saving reference product: peanut skin
➕ Added to reference base: "peanut skin" (category: Other)
Processing: "Kacang tanah Kulit" → cleaned: "Kacang tanah Kulit" → standardized: "peanut skin"
Found existing product: "Kacang tanah Kulit" (standardized: "peanut skin")
🔍 Standardizing: "Kacang Kapri Goreng" (category: Other)
🔍 No similar product found for "Kacang Kapri Goreng" (best similarity: 0.488, threshold: 0.8)
🤖 Using GPT-4o for: "Kacang Kapri Goreng"
🎯 GPT-4o standardized: "Kacang Kapri Goreng" → "pea fried"
💾 Saving reference product: pea fried
➕ Added to reference base: "pea fried" (category: Other)
Processing: "Kacang Kapri Goreng" → cleaned: "Kacang Kapri Goreng" → standardized: "pea fried"
Found existing product: "Kacang Kapri Goreng" (standardized: "pea fried")
🔍 Standardizing: "Kecipir" (category: Other)
🔍 No similar product found for "Kecipir" (best similarity: 0.441, threshold: 0.8)
🤖 Using GPT-4o for: "Kecipir"
🎯 GPT-4o standardized: "Kecipir" → "winged bean"
💾 Saving reference product: winged bean
➕ Added to reference base: "winged bean" (category: Other)
Processing: "Kecipir" → cleaned: "Kecipir" → standardized: "winged bean"
Found existing product: "Kecipir" (standardized: "winged bean")
🔍 Standardizing: "Kangkung" (category: Other)
🔍 No similar product found for "Kangkung" (best similarity: 0.610, threshold: 0.8)
🤖 Using GPT-4o for: "Kangkung"
🎯 GPT-4o standardized: "Kangkung" → "water spinach"
💾 Saving reference product: water spinach
➕ Added to reference base: "water spinach" (category: Other)
Processing: "Kangkung" → cleaned: "Kangkung" → standardized: "water spinach"
Found existing product: "Kangkung" (standardized: "water spinach")
🔍 Standardizing: "Kapulaga" (category: Other)
🔍 No similar product found for "Kapulaga" (best similarity: 0.352, threshold: 0.8)
🤖 Using GPT-4o for: "Kapulaga"
🎯 GPT-4o standardized: "Kapulaga" → "cardamom"
💾 Saving reference product: cardamom
➕ Added to reference base: "cardamom" (category: Other)
Processing: "Kapulaga" → cleaned: "Kapulaga" → standardized: "cardamom"
Found existing product: "Kapulaga" (standardized: "cardamom")
🔍 Standardizing: "Kailan" (category: Other)
🔍 No similar product found for "Kailan" (best similarity: 0.562, threshold: 0.8)
🤖 Using GPT-4o for: "Kailan"
🎯 GPT-4o standardized: "Kailan" → "kale"
💾 Saving reference product: kale
➕ Added to reference base: "kale" (category: Other)
Processing: "Kailan" → cleaned: "Kailan" → standardized: "kale"
Found existing product: "Kailan" (standardized: "kale")
🔍 Standardizing: "Kailan Baby" (category: Other)
🔍 No similar product found for "Kailan Baby" (best similarity: 0.503, threshold: 0.8)
🤖 Using GPT-4o for: "Kailan Baby"
🎯 GPT-4o standardized: "Kailan Baby" → "kailan baby"
💾 Saving reference product: kailan baby
➕ Added to reference base: "kailan baby" (category: Other)
Processing: "Kailan Baby" → cleaned: "Kailan Baby" → standardized: "kailan baby"
Found existing product: "Kailan baby" (standardized: "kailan baby")
🔍 Standardizing: "Kelapa Muda" (category: Other)
🔍 No similar product found for "Kelapa Muda" (best similarity: 0.441, threshold: 0.8)
🤖 Using GPT-4o for: "Kelapa Muda"
🎯 GPT-4o standardized: "Kelapa Muda" → "coconut young"
💾 Saving reference product: coconut young
➕ Added to reference base: "coconut young" (category: Other)
Processing: "Kelapa Muda" → cleaned: "Kelapa Muda" → standardized: "coconut young"
Found existing product: "Coconut Young" (standardized: "coconut young")
🔍 Standardizing: "Pare" (category: Other)
🔍 No similar product found for "Pare" (best similarity: 0.408, threshold: 0.8)
🤖 Using GPT-4o for: "Pare"
🎯 GPT-4o standardized: "Pare" → "bitter melon"
💾 Saving reference product: bitter melon
➕ Added to reference base: "bitter melon" (category: Other)
Processing: "Pare" → cleaned: "Pare" → standardized: "bitter melon"
Found existing product: "Pare" (standardized: "bitter melon")
🔍 Standardizing: "Kelapa whole" (category: Other)
🔍 No similar product found for "Kelapa whole" (best similarity: 0.473, threshold: 0.8)
🤖 Using GPT-4o for: "Kelapa whole"
🎯 GPT-4o standardized: "Kelapa whole" → "coconut whole"
💾 Saving reference product: coconut whole
➕ Added to reference base: "coconut whole" (category: Other)
Processing: "Kelapa whole" → cleaned: "Kelapa whole" → standardized: "coconut whole"
Found existing product: "Kelapa whole" (standardized: "coconut whole")
🔍 Standardizing: "Kemangi" (category: Other)
🔍 No similar product found for "Kemangi" (best similarity: 0.461, threshold: 0.8)
🤖 Using GPT-4o for: "Kemangi"
🎯 GPT-4o standardized: "Kemangi" → "basil lemon"
💾 Saving reference product: basil lemon
➕ Added to reference base: "basil lemon" (category: Other)
Processing: "Kemangi" → cleaned: "Kemangi" → standardized: "basil lemon"
Found existing product: "Kemangi" (standardized: "basil lemon")
🔍 Standardizing: "Kemiri" (category: Other)
🔍 No similar product found for "Kemiri" (best similarity: 0.498, threshold: 0.8)
🤖 Using GPT-4o for: "Kemiri"
🎯 GPT-4o standardized: "Kemiri" → "candlenut"
💾 Saving reference product: candlenut
➕ Added to reference base: "candlenut" (category: Other)
Processing: "Kemiri" → cleaned: "Kemiri" → standardized: "candlenut"
Found existing product: "Kemiri" (standardized: "candlenut")
🔍 Standardizing: "Kencur" (category: Other)
🎯 Found similar product: "Kencur" → "kencur" (similarity: 1.000)
✅ Found via embedding: "Kencur" → "kencur" (similarity: 1.000)
Processing: "Kencur" → cleaned: "Kencur" → standardized: "kencur"
Found existing product: "Kencur" (standardized: "kencur")
🔍 Standardizing: "Kentang/Potato Big" (category: Vegetables)
🔍 No similar product found for "Kentang/Potato Big" (best similarity: 0.586, threshold: 0.85)
🤖 Using GPT-4o for: "Kentang/Potato Big"
🎯 GPT-4o standardized: "Kentang/Potato Big" → "potato big"
💾 Saving reference product: potato big
➕ Added to reference base: "potato big" (category: Vegetables)
Processing: "Kentang/Potato Big" → cleaned: "Kentang/Potato Big" → standardized: "potato big"
Found existing product: "Potato bigg" (standardized: "potato big")
🔍 Standardizing: "Kentang/Potato Medium" (category: vegetables)
🔍 No similar product found for "Kentang/Potato Medium" (best similarity: 0.666, threshold: 0.8)
🤖 Using GPT-4o for: "Kentang/Potato Medium"
🎯 GPT-4o standardized: "Kentang/Potato Medium" → "potato medium"
💾 Saving reference product: potato medium
➕ Added to reference base: "potato medium" (category: vegetables)
Processing: "Kentang/Potato Medium" → cleaned: "Kentang/Potato Medium" → standardized: "potato medium"
Found existing product: "potato medium" (standardized: "potato medium")
 ✓ Compiled in 16ms
🔍 Standardizing: "Ketela rambat" (category: vegetables)
🔍 No similar product found for "Ketela rambat" (best similarity: 0.351, threshold: 0.8)
🤖 Using GPT-4o for: "Ketela rambat"
🎯 GPT-4o standardized: "Ketela rambat" → "sweet potato"
💾 Saving reference product: sweet potato
➕ Added to reference base: "sweet potato" (category: vegetables)
Processing: "Ketela rambat" → cleaned: "Ketela rambat" → standardized: "sweet potato"
Found existing product: "Ketela rambat" (standardized: "sweet potato")
🔍 Standardizing: "Ketumbar" (category: Other)
🔍 No similar product found for "Ketumbar" (best similarity: 0.444, threshold: 0.8)
🤖 Using GPT-4o for: "Ketumbar"
🎯 GPT-4o standardized: "Ketumbar" → "coriander"
💾 Saving reference product: coriander
➕ Added to reference base: "coriander" (category: Other)
Processing: "Ketumbar" → cleaned: "Ketumbar" → standardized: "coriander"
Found existing product: "cilantro/corriander" (standardized: "coriander")
🔍 Standardizing: "Ketan hitam (injin)" (category: Other)
🔍 No similar product found for "Ketan hitam (injin)" (best similarity: 0.402, threshold: 0.8)
🤖 Using GPT-4o for: "Ketan hitam (injin)"
🎯 GPT-4o standardized: "Ketan hitam (injin)" → "rice black"
💾 Saving reference product: rice black
➕ Added to reference base: "rice black" (category: Other)
Processing: "Ketan hitam (injin)" → cleaned: "Ketan hitam (injin)" → standardized: "rice black"
Found existing product: "Ketan hitam (injin)" (standardized: "rice black")
🔍 Standardizing: "Ketan putih" (category: Other)
🔍 No similar product found for "Ketan putih" (best similarity: 0.443, threshold: 0.8)
🤖 Using GPT-4o for: "Ketan putih"
🎯 GPT-4o standardized: "Ketan putih" → "rice white"
💾 Saving reference product: rice white
➕ Added to reference base: "rice white" (category: Other)
Processing: "Ketan putih" → cleaned: "Ketan putih" → standardized: "rice white"
Found existing product: "Ketan putih" (standardized: "rice white")
🔍 Standardizing: "Kerupuk pelangi" (category: Other)
🔍 No similar product found for "Kerupuk pelangi" (best similarity: 0.426, threshold: 0.8)
🤖 Using GPT-4o for: "Kerupuk pelangi"
🎯 GPT-4o standardized: "Kerupuk pelangi" → "cracker rainbow"
💾 Saving reference product: cracker rainbow
➕ Added to reference base: "cracker rainbow" (category: Other)
Processing: "Kerupuk pelangi" → cleaned: "Kerupuk pelangi" → standardized: "cracker rainbow"
Found existing product: "Kerupuk pelangi" (standardized: "cracker rainbow")
🔍 Standardizing: "Kerupuk kampung / barokah" (category: Other)
🔍 No similar product found for "Kerupuk kampung / barokah" (best similarity: 0.347, threshold: 0.8)
🤖 Using GPT-4o for: "Kerupuk kampung / barokah"
🎯 GPT-4o standardized: "Kerupuk kampung / barokah" → "cracker village"
💾 Saving reference product: cracker village
➕ Added to reference base: "cracker village" (category: Other)
Processing: "Kerupuk kampung / barokah" → cleaned: "Kerupuk kampung / barokah" → standardized: "cracker village"
Found existing product: "Kerupuk kampung / barokah" (standardized: "cracker village")
🔍 Standardizing: "Kerupuk Tempe" (category: Other)
🔍 No similar product found for "Kerupuk Tempe" (best similarity: 0.447, threshold: 0.8)
🤖 Using GPT-4o for: "Kerupuk Tempe"
🎯 GPT-4o standardized: "Kerupuk Tempe" → "tempeh cracker"
💾 Saving reference product: tempeh cracker
➕ Added to reference base: "tempeh cracker" (category: Other)
Processing: "Kerupuk Tempe" → cleaned: "Kerupuk Tempe" → standardized: "tempeh cracker"
Found existing product: "Kerupuk Tempe" (standardized: "tempeh cracker")
🔍 Standardizing: "Kluwek" (category: Other)
🔍 No similar product found for "Kluwek" (best similarity: 0.383, threshold: 0.8)
🤖 Using GPT-4o for: "Kluwek"
🎯 GPT-4o standardized: "Kluwek" → "nut kluwek"
💾 Saving reference product: nut kluwek
➕ Added to reference base: "nut kluwek" (category: Other)
Processing: "Kluwek" → cleaned: "Kluwek" → standardized: "nut kluwek"
Found existing product: "Kluwek" (standardized: "nut kluwek")
🔍 Standardizing: "KUNYIT" (category: Other)
🔍 No similar product found for "KUNYIT" (best similarity: 0.435, threshold: 0.8)
🤖 Using GPT-4o for: "KUNYIT"
🎯 GPT-4o standardized: "KUNYIT" → "turmeric"
💾 Saving reference product: turmeric
➕ Added to reference base: "turmeric" (category: Other)
Processing: "KUNYIT" → cleaned: "KUNYIT" → standardized: "turmeric"
Found existing product: "Turmeric" (standardized: "turmeric")
🔍 Standardizing: "Laos" (category: Other)
🔍 No similar product found for "Laos" (best similarity: 0.387, threshold: 0.8)
🤖 Using GPT-4o for: "Laos"
🎯 GPT-4o standardized: "Laos" → "galangal"
💾 Saving reference product: galangal
➕ Added to reference base: "galangal" (category: Other)
Processing: "Laos" → cleaned: "Laos" → standardized: "galangal"
Found existing product: "Galangal" (standardized: "galangal")
🔍 Standardizing: "Labu kaboca" (category: vegetables)
🔍 No similar product found for "Labu kaboca" (best similarity: 0.431, threshold: 0.8)
🤖 Using GPT-4o for: "Labu kaboca"
🎯 GPT-4o standardized: "Labu kaboca" → "pumpkin kabocha"
💾 Saving reference product: pumpkin kabocha
➕ Added to reference base: "pumpkin kabocha" (category: vegetables)
Processing: "Labu kaboca" → cleaned: "Labu kaboca" → standardized: "pumpkin kabocha"
Found existing product: "Labu kaboca" (standardized: "pumpkin kabocha")
🔍 Standardizing: "Leek/pree Clean" (category: vegetables)
🔍 No similar product found for "Leek/pree Clean" (best similarity: 0.687, threshold: 0.8)
🤖 Using GPT-4o for: "Leek/pree Clean"
🎯 GPT-4o standardized: "Leek/pree Clean" → "leek clean"
💾 Saving reference product: leek clean
➕ Added to reference base: "leek clean" (category: vegetables)
Processing: "Leek/pree Clean" → cleaned: "Leek/pree Clean" → standardized: "leek clean"
Found existing product: "Leek clean" (standardized: "leek clean")
🔍 Standardizing: "Lemo" (category: Other)
🔍 No similar product found for "Lemo" (best similarity: 0.695, threshold: 0.8)
🤖 Using GPT-4o for: "Lemo"
🎯 GPT-4o standardized: "Lemo" → "lemon"
💾 Saving reference product: lemon
➕ Added to reference base: "lemon" (category: Other)
Processing: "Lemo" → cleaned: "Lemo" → standardized: "lemon"
Found existing product: "Limo" (standardized: "lemon")
🔍 Standardizing: "Lettuce baby arugula" (category: vegetables)
🎯 Found similar product: "Lettuce baby arugula" → "lettuce arugula" (similarity: 0.940)
✅ Found via embedding: "Lettuce baby arugula" → "lettuce arugula" (similarity: 0.940)
Processing: "Lettuce baby arugula" → cleaned: "Lettuce baby arugula" → standardized: "lettuce arugula"
Found existing product: "Lettuce Rucola" (standardized: "lettuce arugula")
🔍 Standardizing: "Lettuce Butter" (category: vegetables)
🔍 No similar product found for "Lettuce Butter" (best similarity: 0.768, threshold: 0.8)
🤖 Using GPT-4o for: "Lettuce Butter"
🎯 GPT-4o standardized: "Lettuce Butter" → "lettuce butter"
💾 Saving reference product: lettuce butter
➕ Added to reference base: "lettuce butter" (category: vegetables)
Processing: "Lettuce Butter" → cleaned: "Lettuce Butter" → standardized: "lettuce butter"
Found existing product: "Lettuce Bater" (standardized: "lettuce butter")
🔍 Standardizing: "Lettuce Green Curly" (category: vegetables)
🎯 Found similar product: "Lettuce Green Curly" → "lettuce curly" (similarity: 0.932)
✅ Found via embedding: "Lettuce Green Curly" → "lettuce curly" (similarity: 0.932)
Processing: "Lettuce Green Curly" → cleaned: "Lettuce Green Curly" → standardized: "lettuce curly"
Found existing product: "Lettuce Curly" (standardized: "lettuce curly")
🔍 Standardizing: "Lettuce Frize" (category: vegetables)
🎯 Found similar product: "Lettuce Frize" → "lettuce frisée" (similarity: 0.873)
✅ Found via embedding: "Lettuce Frize" → "lettuce frisée" (similarity: 0.873)
Processing: "Lettuce Frize" → cleaned: "Lettuce Frize" → standardized: "lettuce frisée"
Found existing product: "Lettuce Frisse" (standardized: "lettuce frisée")
🔍 Standardizing: "Lettuce Ice berg" (category: vegetables)
🎯 Found similar product: "Lettuce Ice berg" → "lettuce iceberg" (similarity: 0.909)
✅ Found via embedding: "Lettuce Ice berg" → "lettuce iceberg" (similarity: 0.909)
Processing: "Lettuce Ice berg" → cleaned: "Lettuce Ice berg" → standardized: "lettuce iceberg"
Found existing product: "Lettuce Iceberg" (standardized: "lettuce iceberg")
🔍 Standardizing: "Lettuce Radichio" (category: vegetables)
🎯 Found similar product: "Lettuce Radichio" → "lettuce arugula" (similarity: 0.823)
✅ Found via embedding: "Lettuce Radichio" → "lettuce arugula" (similarity: 0.823)
Processing: "Lettuce Radichio" → cleaned: "Lettuce Radichio" → standardized: "lettuce arugula"
Found existing product: "Lettuce Rucola" (standardized: "lettuce arugula")
🔍 Standardizing: "Lettuce Red Curly" (category: vegetables)
🎯 Found similar product: "Lettuce Red Curly" → "lettuce curly" (similarity: 0.903)
✅ Found via embedding: "Lettuce Red Curly" → "lettuce curly" (similarity: 0.903)
Processing: "Lettuce Red Curly" → cleaned: "Lettuce Red Curly" → standardized: "lettuce curly"
Found existing product: "Lettuce Curly" (standardized: "lettuce curly")
🔍 Standardizing: "Lettuce Rokert" (category: vegetables)
🔍 No similar product found for "Lettuce Rokert" (best similarity: 0.659, threshold: 0.8)
🤖 Using GPT-4o for: "Lettuce Rokert"
🎯 GPT-4o standardized: "Lettuce Rokert" → "lettuce rocket"
💾 Saving reference product: lettuce rocket
➕ Added to reference base: "lettuce rocket" (category: vegetables)
Processing: "Lettuce Rokert" → cleaned: "Lettuce Rokert" → standardized: "lettuce rocket"
Found existing product: "Lettuce Rocket" (standardized: "lettuce rocket")
🔍 Standardizing: "Lettuce Romaine" (category: vegetables)
🎯 Found similar product: "Lettuce Romaine" → "lettuce romaine baby" (similarity: 0.902)
✅ Found via embedding: "Lettuce Romaine" → "lettuce romaine baby" (similarity: 0.902)
Processing: "Lettuce Romaine" → cleaned: "Lettuce Romaine" → standardized: "lettuce romaine baby"
Found existing product: "Lettuce Romain baby" (standardized: "lettuce romaine baby")
🔍 Standardizing: "Lettuce Romana baby" (category: vegetables)
🎯 Found similar product: "Lettuce Romana baby" → "lettuce romaine baby" (similarity: 0.886)
✅ Found via embedding: "Lettuce Romana baby" → "lettuce romaine baby" (similarity: 0.886)
Processing: "Lettuce Romana baby" → cleaned: "Lettuce Romana baby" → standardized: "lettuce romaine baby"
Found existing product: "Lettuce Romain baby" (standardized: "lettuce romaine baby")
🔍 Standardizing: "Lettuce wild ruccola" (category: vegetables)
🔍 No similar product found for "Lettuce wild ruccola" (best similarity: 0.766, threshold: 0.8)
🤖 Using GPT-4o for: "Lettuce wild ruccola"
🎯 GPT-4o standardized: "Lettuce wild ruccola" → "lettuce arugula"
💾 Saving reference product: lettuce arugula
➕ Added to reference base: "lettuce arugula" (category: vegetables)
Processing: "Lettuce wild ruccola" → cleaned: "Lettuce wild ruccola" → standardized: "lettuce arugula"
Found existing product: "Lettuce Rucola" (standardized: "lettuce arugula")
🔍 Standardizing: "Lettuce Water Crash" (category: vegetables)
🔍 No similar product found for "Lettuce Water Crash" (best similarity: 0.664, threshold: 0.8)
🤖 Using GPT-4o for: "Lettuce Water Crash"
🎯 GPT-4o standardized: "Lettuce Water Crash" → "lettuce water crash"
💾 Saving reference product: lettuce water crash
➕ Added to reference base: "lettuce water crash" (category: vegetables)
Processing: "Lettuce Water Crash" → cleaned: "Lettuce Water Crash" → standardized: "lettuce water crash"
Found existing product: "Lettuce Water Crash" (standardized: "lettuce water crash")
🔍 Standardizing: "Lettuce Mix" (category: vegetables)
🎯 Found similar product: "Lettuce Mix" → "lettuce mix" (similarity: 1.000)
✅ Found via embedding: "Lettuce Mix" → "lettuce mix" (similarity: 1.000)
Processing: "Lettuce Mix" → cleaned: "Lettuce Mix" → standardized: "lettuce mix"
Found existing product: "Lettuce Mix" (standardized: "lettuce mix")
🔍 Standardizing: "Lobak" (category: vegetables)
🔍 No similar product found for "Lobak" (best similarity: 0.440, threshold: 0.8)
🤖 Using GPT-4o for: "Lobak"
🎯 GPT-4o standardized: "Lobak" → "radish"
💾 Saving reference product: radish
➕ Added to reference base: "radish" (category: vegetables)
Processing: "Lobak" → cleaned: "Lobak" → standardized: "radish"
Found existing product: "Lobak" (standardized: "radish")
🔍 Standardizing: "Mint Leaf" (category: Other)
🔍 No similar product found for "Mint Leaf" (best similarity: 0.622, threshold: 0.8)
🤖 Using GPT-4o for: "Mint Leaf"
🎯 GPT-4o standardized: "Mint Leaf" → "leaf mint"
💾 Saving reference product: leaf mint
➕ Added to reference base: "leaf mint" (category: Other)
Processing: "Mint Leaf" → cleaned: "Mint Leaf" → standardized: "leaf mint"
Found existing product: "mint leaf" (standardized: "leaf mint")
🔍 Standardizing: "Mushroom Button" (category: Other)
🔍 No similar product found for "Mushroom Button" (best similarity: 0.462, threshold: 0.8)
🤖 Using GPT-4o for: "Mushroom Button"
🎯 GPT-4o standardized: "Mushroom Button" → "mushroom button"
💾 Saving reference product: mushroom button
➕ Added to reference base: "mushroom button" (category: Other)
Processing: "Mushroom Button" → cleaned: "Mushroom Button" → standardized: "mushroom button"
Found existing product: "Mushroom Button" (standardized: "mushroom button")
 GET /api/upload-status-monitor 200 in 547ms
🔍 Standardizing: "Mushroom Oyster" (category: vegetables)
🎯 Found similar product: "Mushroom Oyster" → "mushroom king oyster" (similarity: 0.883)
✅ Found via embedding: "Mushroom Oyster" → "mushroom king oyster" (similarity: 0.883)
Processing: "Mushroom Oyster" → cleaned: "Mushroom Oyster" → standardized: "mushroom king oyster"
Found existing product: "Mushroom Oyster" (standardized: "mushroom king oyster")
🔄 Reprocessing upload: Island Organics Bali.pdf (cmbm7f64z000woust2lj94mj5)
🔍 Standardizing: "Mushroom kuping kering" (category: vegetables)
🔄 Starting reprocessing for upload: cmbm7f64z000woust2lj94mj5
📚 Loading reference products from database...
 POST /api/reprocess-upload 200 in 827ms
🔍 No similar product found for "Mushroom kuping kering" (best similarity: 0.675, threshold: 0.8)
🤖 Using GPT-4o for: "Mushroom kuping kering"
Error loading reference products: Error [PrismaClientValidationError]: 
Invalid `prisma.product.findMany()` invocation in
/Users/denisdomashenko/monito-web/.next/server/chunks/[root of the server]__9891e6._.js:199:59

  196 try {
  197     console.log('📚 Loading reference products from database...');
  198     // Загружаем из БД существующие стандартизированные продукты
→ 199     const existingProducts = await prisma.product.findMany({
            select: {
              id: true,
              standardizedName: true,
              category: true,
              name: true
            },
            where: {
              standardizedName: {
          +     not: String
              }
            }
          })

Argument `not` must not be null.
    at <unknown> (app/services/embeddingService.ts:181:52)
    at async EmbeddingService.loadReferenceProducts (app/services/embeddingService.ts:181:31)
  179 |       
  180 |       // Загружаем из БД существующие стандартизированные продукты
> 181 |       const existingProducts = await prisma.product.findMany({
      |                                                    ^
  182 |         select: {
  183 |           id: true,
  184 |           standardizedName: true, {
  clientVersion: '6.9.0'
}
🏗️ Initializing basic reference base...
Processing file: Island Organics Bali.pdf
🚀 Starting advanced PDF processing: https://cdc1w79ssc4kg6xh.public.blob.vercel-storage.com/Island%20Organics%20Bali-ywWEuvZsODuKBVATgMUy9cXdN48q0B.pdf
🔄 Starting advanced PDF processing for: https://cdc1w79ssc4kg6xh.public.blob.vercel-storage.com/Island%20Organics%20Bali-ywWEuvZsODuKBVATgMUy9cXdN48q0B.pdf
📄 Attempting text extraction from PDF...
Warning: Please use the `legacy` build in Node.js environments.
⚠️ pdfjs-dist failed, trying alternative approaches: ReferenceError: DOMMatrix is not defined
    at <unknown> (.next/server/chunks/_71fd70._.js:21:16)
    at async AdvancedPdfProcessor.extractTextFromPdf (app/services/advancedPdfProcessor.ts:73:25)
    at async AdvancedPdfProcessor.processComplexPdf (app/services/advancedPdfProcessor.ts:35:23)
    at async processPDF (app/services/fileProcessor.ts:112:19)
    at async processFile (app/services/fileProcessor.ts:51:22)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  71 |       // Approach 1: pdfjs-dist
  72 |       try {
> 73 |         const pdfjsLib = await import('pdfjs-dist');
     |                         ^
  74 |         const pdf = await pdfjsLib.getDocument({
  75 |           data: arrayBuffer,
  76 |           useWorkerFetch: false,
🔍 Raw analysis extracted 149611 characters
📝 Total text extracted: 149611 characters
✅ Initialized 24 basic reference products
🎯 GPT-4o standardized: "Mushroom kuping kering" → "mushroom ear dry"
❌ Advanced PDF processing failed: TypeError: Cannot read properties of undefined (reading 'length')
    at AdvancedPdfProcessor.processComplexPdf (app/services/advancedPdfProcessor.ts:36:59)
    at async processPDF (app/services/fileProcessor.ts:112:19)
    at async processFile (app/services/fileProcessor.ts:51:22)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  34 |       // Step 1: Пытаемся извлечь текстовую информацию
  35 |       const textData = await this.extractTextFromPdf(fileUrl);
> 36 |       console.log(`📝 Text extraction: ${textData.products.length} products found`);
     |                                                           ^
  37 |       
  38 |       // Step 2: Обрабатываем PDF как последовательность изображений для Vision API
  39 |       const visionData = await this.processPdfAsImages(fileUrl);
❌ Advanced PDF processing failed: TypeError: Cannot read properties of undefined (reading 'length')
    at AdvancedPdfProcessor.processComplexPdf (app/services/advancedPdfProcessor.ts:36:59)
    at async processPDF (app/services/fileProcessor.ts:112:19)
    at async processFile (app/services/fileProcessor.ts:51:22)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  34 |       // Step 1: Пытаемся извлечь текстовую информацию
  35 |       const textData = await this.extractTextFromPdf(fileUrl);
> 36 |       console.log(`📝 Text extraction: ${textData.products.length} products found`);
     |                                                           ^
  37 |       
  38 |       // Step 2: Обрабатываем PDF как последовательность изображений для Vision API
  39 |       const visionData = await this.processPdfAsImages(fileUrl);
🔄 Falling back to basic PDF processing...
📄 Basic PDF processing: https://cdc1w79ssc4kg6xh.public.blob.vercel-storage.com/Island%20Organics%20Bali-ywWEuvZsODuKBVATgMUy9cXdN48q0B.pdf
💾 Saving reference product: mushroom ear dry
➕ Added to reference base: "mushroom ear dry" (category: vegetables)
Processing: "Mushroom kuping kering" → cleaned: "Mushroom kuping kering" → standardized: "mushroom ear dry"
❌ Basic PDF processing failed: ReferenceError: DOMMatrix is not defined
    at <unknown> (.next/server/chunks/_71fd70._.js:21:16)
    at async AdvancedPdfProcessor.extractTextFromPdf (app/services/advancedPdfProcessor.ts:73:25)
    at async AdvancedPdfProcessor.processComplexPdf (app/services/advancedPdfProcessor.ts:35:23)
    at async processPDF (app/services/fileProcessor.ts:112:19)
    at async processFile (app/services/fileProcessor.ts:51:22)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  71 |       // Approach 1: pdfjs-dist
  72 |       try {
> 73 |         const pdfjsLib = await import('pdfjs-dist');
     |                         ^
  74 |         const pdf = await pdfjsLib.getDocument({
  75 |           data: arrayBuffer,
  76 |           useWorkerFetch: false,
❌ Basic PDF processing also failed: ReferenceError: DOMMatrix is not defined
    at <unknown> (.next/server/chunks/_71fd70._.js:21:16)
    at async AdvancedPdfProcessor.extractTextFromPdf (app/services/advancedPdfProcessor.ts:73:25)
    at async AdvancedPdfProcessor.processComplexPdf (app/services/advancedPdfProcessor.ts:35:23)
    at async processPDF (app/services/fileProcessor.ts:112:19)
    at async processFile (app/services/fileProcessor.ts:51:22)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  71 |       // Approach 1: pdfjs-dist
  72 |       try {
> 73 |         const pdfjsLib = await import('pdfjs-dist');
     |                         ^
  74 |         const pdf = await pdfjsLib.getDocument({
  75 |           data: arrayBuffer,
  76 |           useWorkerFetch: false,
Found existing product: "Mushroom kuping kering" (standardized: "mushroom ear dry")
Successfully processed 0 products from Island Organics Bali.pdf
🎉 Successfully reprocessed: cmbm7f64z000woust2lj94mj5
🔍 Standardizing: "Mushroom portabelo" (category: vegetables)
🎯 Found similar product: "Mushroom portabelo" → "mushroom portobello" (similarity: 0.897)
✅ Found via embedding: "Mushroom portabelo" → "mushroom portobello" (similarity: 0.897)
Processing: "Mushroom portabelo" → cleaned: "Mushroom portabelo" → standardized: "mushroom portobello"
Found existing product: "Mushroom Portabelo" (standardized: "mushroom portobello")
🔍 Standardizing: "Mushroom Shimeji Brown" (category: vegetables)
🎯 Found similar product: "Mushroom Shimeji Brown" → "mushroom shimeji" (similarity: 0.912)
✅ Found via embedding: "Mushroom Shimeji Brown" → "mushroom shimeji" (similarity: 0.912)
Processing: "Mushroom Shimeji Brown" → cleaned: "Mushroom Shimeji Brown" → standardized: "mushroom shimeji"
Found existing product: "Mushroom Shimeji" (standardized: "mushroom shimeji")
🔍 Standardizing: "Mushroom Shimeji White" (category: vegetables)
🎯 Found similar product: "Mushroom Shimeji White" → "mushroom shimeji" (similarity: 0.927)
✅ Found via embedding: "Mushroom Shimeji White" → "mushroom shimeji" (similarity: 0.927)
Processing: "Mushroom Shimeji White" → cleaned: "Mushroom Shimeji White" → standardized: "mushroom shimeji"
Found existing product: "Mushroom Shimeji" (standardized: "mushroom shimeji")
🔍 Standardizing: "Mushroom shitake fresh" (category: vegetables)
🎯 Found similar product: "Mushroom shitake fresh" → "mushroom shiitake fresh" (similarity: 0.931)
✅ Found via embedding: "Mushroom shitake fresh" → "mushroom shiitake fresh" (similarity: 0.931)
Processing: "Mushroom shitake fresh" → cleaned: "Mushroom shitake fresh" → standardized: "mushroom shiitake fresh"
Found existing product: "Mushroom Shitake Fresh" (standardized: "mushroom shiitake fresh")
🔍 Standardizing: "Nangka Muda" (category: vegetables)
🔍 No similar product found for "Nangka Muda" (best similarity: 0.424, threshold: 0.8)
🤖 Using GPT-4o for: "Nangka Muda"
🎯 GPT-4o standardized: "Nangka Muda" → "jackfruit young"
💾 Saving reference product: jackfruit young
➕ Added to reference base: "jackfruit young" (category: vegetables)
Processing: "Nangka Muda" → cleaned: "Nangka Muda" → standardized: "jackfruit young"
Found existing product: "Nangka Muda" (standardized: "jackfruit young")
🔍 Standardizing: "Okra baby" (category: vegetables)
🎯 Found similar product: "Okra baby" → "okra" (similarity: 0.846)
✅ Found via embedding: "Okra baby" → "okra" (similarity: 0.846)
Processing: "Okra baby" → cleaned: "Okra baby" → standardized: "okra"
Found existing product: "okra" (standardized: "okra")
🔍 Standardizing: "Onion bombay red" (category: vegetables)
🔍 No similar product found for "Onion bombay red" (best similarity: 0.637, threshold: 0.8)
🤖 Using GPT-4o for: "Onion bombay red"
🎯 GPT-4o standardized: "Onion bombay red" → "onion red"
💾 Saving reference product: onion red
➕ Added to reference base: "onion red" (category: vegetables)
Processing: "Onion bombay red" → cleaned: "Onion bombay red" → standardized: "onion red"
Found existing product: "Onion Red" (standardized: "onion red")
🔍 Standardizing: "Oregano fresh" (category: vegetables)
🎯 Found similar product: "Oregano fresh" → "oregano fresh" (similarity: 1.000)
✅ Found via embedding: "Oregano fresh" → "oregano fresh" (similarity: 1.000)
Processing: "Oregano fresh" → cleaned: "Oregano fresh" → standardized: "oregano fresh"
Found existing product: "Oregano Fresh" (standardized: "oregano fresh")
🔍 Standardizing: "Pepper powder white" (category: spices)
🔍 No similar product found for "Pepper powder white" (best similarity: 0.664, threshold: 0.8)
🤖 Using GPT-4o for: "Pepper powder white"
🎯 GPT-4o standardized: "Pepper powder white" → "powder pepper white"
💾 Saving reference product: powder pepper white
➕ Added to reference base: "powder pepper white" (category: spices)
Processing: "Pepper powder white" → cleaned: "Pepper powder white" → standardized: "powder pepper white"
Found existing product: "Pepper powder white" (standardized: "powder pepper white")
🔍 Standardizing: "Pepper whole white" (category: spices)
🔍 No similar product found for "Pepper whole white" (best similarity: 0.761, threshold: 0.8)
🤖 Using GPT-4o for: "Pepper whole white"
🎯 GPT-4o standardized: "Pepper whole white" → "pepper white whole"
💾 Saving reference product: pepper white whole
➕ Added to reference base: "pepper white whole" (category: spices)
Processing: "Pepper whole white" → cleaned: "Pepper whole white" → standardized: "pepper white whole"
Found existing product: "Pepper whole white" (standardized: "pepper white whole")
🔍 Standardizing: "Pakis" (category: vegetables)
🔍 No similar product found for "Pakis" (best similarity: 0.323, threshold: 0.8)
🤖 Using GPT-4o for: "Pakis"
🎯 GPT-4o standardized: "Pakis" → "fern"
💾 Saving reference product: fern
➕ Added to reference base: "fern" (category: vegetables)
Processing: "Pakis" → cleaned: "Pakis" → standardized: "fern"
Found existing product: "Pakis" (standardized: "fern")
🔍 Standardizing: "Papaya Muda" (category: fruits)
🔍 No similar product found for "Papaya Muda" (best similarity: 0.795, threshold: 0.8)
🤖 Using GPT-4o for: "Papaya Muda"
🎯 GPT-4o standardized: "Papaya Muda" → "papaya young"
💾 Saving reference product: papaya young
➕ Added to reference base: "papaya young" (category: fruits)
Processing: "Papaya Muda" → cleaned: "Papaya Muda" → standardized: "papaya young"
Found existing product: "Papaya Muda" (standardized: "papaya young")
🔍 Standardizing: "Parsley" (category: herbs)
🔍 No similar product found for "Parsley" (best similarity: 0.000, threshold: 0.8)
🤖 Using GPT-4o for: "Parsley"
🎯 GPT-4o standardized: "Parsley" → "parsley"
💾 Saving reference product: parsley
➕ Added to reference base: "parsley" (category: herbs)
Processing: "Parsley" → cleaned: "Parsley" → standardized: "parsley"
Found existing product: "parsley" (standardized: "parsley")
🔍 Standardizing: "Pakcoy" (category: vegetables)
🔍 No similar product found for "Pakcoy" (best similarity: 0.320, threshold: 0.8)
🤖 Using GPT-4o for: "Pakcoy"
🎯 GPT-4o standardized: "Pakcoy" → "bok choy"
💾 Saving reference product: bok choy
➕ Added to reference base: "bok choy" (category: vegetables)
Processing: "Pakcoy" → cleaned: "Pakcoy" → standardized: "bok choy"
Found existing product: "Box Coy" (standardized: "bok choy")
🔍 Standardizing: "Pakcoy baby" (category: vegetables)
🔍 No similar product found for "Pakcoy baby" (best similarity: 0.469, threshold: 0.8)
🤖 Using GPT-4o for: "Pakcoy baby"
🎯 GPT-4o standardized: "Pakcoy baby" → "bok choy baby"
💾 Saving reference product: bok choy baby
➕ Added to reference base: "bok choy baby" (category: vegetables)
Processing: "Pakcoy baby" → cleaned: "Pakcoy baby" → standardized: "bok choy baby"
Found existing product: "Pakcoy baby" (standardized: "bok choy baby")
🔍 Standardizing: "Pumpkin" (category: vegetables)
🎯 Found similar product: "Pumpkin" → "pumpkin" (similarity: 1.000)
✅ Found via embedding: "Pumpkin" → "pumpkin" (similarity: 1.000)
Processing: "Pumpkin" → cleaned: "Pumpkin" → standardized: "pumpkin"
Found existing product: "Pumpkin" (standardized: "pumpkin")
🔍 Standardizing: "Petis" (category: condiments)
🔍 No similar product found for "Petis" (best similarity: 0.000, threshold: 0.8)
🤖 Using GPT-4o for: "Petis"
🎯 GPT-4o standardized: "Petis" → "shrimp paste"
💾 Saving reference product: shrimp paste
➕ Added to reference base: "shrimp paste" (category: condiments)
Processing: "Petis" → cleaned: "Petis" → standardized: "shrimp paste"
Found existing product: "Petis" (standardized: "shrimp paste")
🔍 Standardizing: "Petai Kulit" (category: vegetables)
🔍 No similar product found for "Petai Kulit" (best similarity: 0.414, threshold: 0.8)
🤖 Using GPT-4o for: "Petai Kulit"
🎯 GPT-4o standardized: "Petai Kulit" → "bean petai"
💾 Saving reference product: bean petai
➕ Added to reference base: "bean petai" (category: vegetables)
Processing: "Petai Kulit" → cleaned: "Petai Kulit" → standardized: "bean petai"
Found existing product: "Petai Kulit" (standardized: "bean petai")
🔍 Standardizing: "Petai Clean" (category: vegetables)
🔍 No similar product found for "Petai Clean" (best similarity: 0.641, threshold: 0.8)
🤖 Using GPT-4o for: "Petai Clean"
🎯 GPT-4o standardized: "Petai Clean" → "bean petai"
💾 Saving reference product: bean petai
➕ Added to reference base: "bean petai" (category: vegetables)
Processing: "Petai Clean" → cleaned: "Petai Clean" → standardized: "bean petai"
Found existing product: "Petai Kulit" (standardized: "bean petai")
🔍 Standardizing: "Red cabbage" (category: vegetables)
🔍 No similar product found for "Red cabbage" (best similarity: 0.663, threshold: 0.8)
🤖 Using GPT-4o for: "Red cabbage"
🎯 GPT-4o standardized: "Red cabbage" → "cabbage red"
💾 Saving reference product: cabbage red
➕ Added to reference base: "cabbage red" (category: vegetables)
Processing: "Red cabbage" → cleaned: "Red cabbage" → standardized: "cabbage red"
Found existing product: "Cabbage Red / Kol Merah" (standardized: "cabbage red")
🔍 Standardizing: "Rosemarry Leave" (category: herbs)
🔍 No similar product found for "Rosemarry Leave" (best similarity: 0.346, threshold: 0.8)
🤖 Using GPT-4o for: "Rosemarry Leave"
🎯 GPT-4o standardized: "Rosemarry Leave" → "leave rosemary"
💾 Saving reference product: leave rosemary
➕ Added to reference base: "leave rosemary" (category: herbs)
Processing: "Rosemarry Leave" → cleaned: "Rosemarry Leave" → standardized: "leave rosemary"
Found existing product: "Rosemarry Leave" (standardized: "leave rosemary")
🔍 Standardizing: "Sawi putih" (category: vegetables)
🔍 No similar product found for "Sawi putih" (best similarity: 0.402, threshold: 0.8)
🤖 Using GPT-4o for: "Sawi putih"
🎯 GPT-4o standardized: "Sawi putih" → "cabbage napa"
💾 Saving reference product: cabbage napa
➕ Added to reference base: "cabbage napa" (category: vegetables)
Processing: "Sawi putih" → cleaned: "Sawi putih" → standardized: "cabbage napa"
Found existing product: "Cabbage Chinese" (standardized: "cabbage napa")
🔍 Standardizing: "Serundeng / saur" (category: condiments)
🔍 No similar product found for "Serundeng / saur" (best similarity: 0.227, threshold: 0.8)
🤖 Using GPT-4o for: "Serundeng / saur"
🎯 GPT-4o standardized: "Serundeng / saur" → "serundeng"
💾 Saving reference product: serundeng
➕ Added to reference base: "serundeng" (category: condiments)
Processing: "Serundeng / saur" → cleaned: "Serundeng / saur" → standardized: "serundeng"
Found existing product: "Serundeng / saur" (standardized: "serundeng")
🔍 Standardizing: "Sereh / lemon gras" (category: herbs)
🔍 No similar product found for "Sereh / lemon gras" (best similarity: 0.341, threshold: 0.8)
🤖 Using GPT-4o for: "Sereh / lemon gras"
 GET /api/upload-status-monitor 200 in 557ms
🎯 GPT-4o standardized: "Sereh / lemon gras" → "grass lemon"
💾 Saving reference product: grass lemon
➕ Added to reference base: "grass lemon" (category: herbs)
Processing: "Sereh / lemon gras" → cleaned: "Sereh / lemon gras" → standardized: "grass lemon"
Found existing product: "Lemon Grass (Sereh)" (standardized: "grass lemon")
🔍 Standardizing: "Singkong/Cassava" (category: vegetables)
🔍 No similar product found for "Singkong/Cassava" (best similarity: 0.557, threshold: 0.8)
🤖 Using GPT-4o for: "Singkong/Cassava"
🎯 GPT-4o standardized: "Singkong/Cassava" → "cassava"
💾 Saving reference product: cassava
➕ Added to reference base: "cassava" (category: vegetables)
Processing: "Singkong/Cassava" → cleaned: "Singkong/Cassava" → standardized: "cassava"
Found existing product: "Cassava" (standardized: "cassava")
🔍 Standardizing: "Spring onion" (category: vegetables)
🔍 No similar product found for "Spring onion" (best similarity: 0.692, threshold: 0.8)
🤖 Using GPT-4o for: "Spring onion"
🎯 GPT-4o standardized: "Spring onion" → "onion spring"
💾 Saving reference product: onion spring
➕ Added to reference base: "onion spring" (category: vegetables)
Processing: "Spring onion" → cleaned: "Spring onion" → standardized: "onion spring"
Found existing product: "Onion Spring" (standardized: "onion spring")
 GET /api/upload-status-monitor 200 in 500ms
🔍 Standardizing: "Sweet corn" (category: vegetables)
🔍 No similar product found for "Sweet corn" (best similarity: 0.575, threshold: 0.8)
🤖 Using GPT-4o for: "Sweet corn"
🎯 GPT-4o standardized: "Sweet corn" → "corn sweet"
💾 Saving reference product: corn sweet
➕ Added to reference base: "corn sweet" (category: vegetables)
Processing: "Sweet corn" → cleaned: "Sweet corn" → standardized: "corn sweet"
Found existing product: "Corn sweet/jagung" (standardized: "corn sweet")
🔍 Standardizing: "Tahu/Bean Curd" (category: vegetables)
🔍 No similar product found for "Tahu/Bean Curd" (best similarity: 0.571, threshold: 0.8)
🤖 Using GPT-4o for: "Tahu/Bean Curd"
🎯 GPT-4o standardized: "Tahu/Bean Curd" → "curd bean"
💾 Saving reference product: curd bean
➕ Added to reference base: "curd bean" (category: vegetables)
Processing: "Tahu/Bean Curd" → cleaned: "Tahu/Bean Curd" → standardized: "curd bean"
Created new product: "Tahu/Bean Curd" (standardized: "curd bean")
🔍 Standardizing: "Talas" (category: vegetables)
🔍 No similar product found for "Talas" (best similarity: 0.364, threshold: 0.8)
🤖 Using GPT-4o for: "Talas"
🎯 GPT-4o standardized: "Talas" → "taro"
💾 Saving reference product: taro
➕ Added to reference base: "taro" (category: vegetables)
Processing: "Talas" → cleaned: "Talas" → standardized: "taro"
Found existing product: "Talas" (standardized: "taro")
🔍 Standardizing: "Tamarilo" (category: vegetables)
🔍 No similar product found for "Tamarilo" (best similarity: 0.540, threshold: 0.8)
🤖 Using GPT-4o for: "Tamarilo"
🎯 GPT-4o standardized: "Tamarilo" → "tamarillo"
💾 Saving reference product: tamarillo
➕ Added to reference base: "tamarillo" (category: vegetables)
Processing: "Tamarilo" → cleaned: "Tamarilo" → standardized: "tamarillo"
Found existing product: "Tamarilo" (standardized: "tamarillo")
🔍 Standardizing: "Tauge Panjang" (category: vegetables)
🔍 No similar product found for "Tauge Panjang" (best similarity: 0.336, threshold: 0.8)
🤖 Using GPT-4o for: "Tauge Panjang"
🎯 GPT-4o standardized: "Tauge Panjang" → "sprout long"
💾 Saving reference product: sprout long
➕ Added to reference base: "sprout long" (category: vegetables)
Processing: "Tauge Panjang" → cleaned: "Tauge Panjang" → standardized: "sprout long"
Created new product: "Tauge Panjang" (standardized: "sprout long")
🔍 Standardizing: "Tauge Pendek" (category: vegetables)
🔍 No similar product found for "Tauge Pendek" (best similarity: 0.332, threshold: 0.8)
🤖 Using GPT-4o for: "Tauge Pendek"
🎯 GPT-4o standardized: "Tauge Pendek" → "sprout short"
💾 Saving reference product: sprout short
➕ Added to reference base: "sprout short" (category: vegetables)
Processing: "Tauge Pendek" → cleaned: "Tauge Pendek" → standardized: "sprout short"
Created new product: "Tauge Pendek" (standardized: "sprout short")
🔍 Standardizing: "Tabye Bun" (category: vegetables)
🔍 No similar product found for "Tabye Bun" (best similarity: 0.530, threshold: 0.8)
🤖 Using GPT-4o for: "Tabye Bun"
🎯 GPT-4o standardized: "Tabye Bun" → "bun tabye"
💾 Saving reference product: bun tabye
➕ Added to reference base: "bun tabye" (category: vegetables)
Processing: "Tabye Bun" → cleaned: "Tabye Bun" → standardized: "bun tabye"
Created new product: "Tabye Bun" (standardized: "bun tabye")
🔍 Standardizing: "Thyme fresh" (category: vegetables)
🔍 No similar product found for "Thyme fresh" (best similarity: 0.770, threshold: 0.8)
🤖 Using GPT-4o for: "Thyme fresh"
 ✓ Compiled / in 20ms
 GET / 200 in 87ms
 GET / 200 in 25ms
 GET / 200 in 12ms
 GET / 200 in 14ms
 GET / 200 in 12ms
 GET / 200 in 13ms
 GET / 200 in 14ms
 GET / 200 in 12ms
🎯 GPT-4o standardized: "Thyme fresh" → "thyme fresh"
💾 Saving reference product: thyme fresh
➕ Added to reference base: "thyme fresh" (category: vegetables)
Processing: "Thyme fresh" → cleaned: "Thyme fresh" → standardized: "thyme fresh"
Created new product: "Thyme fresh" (standardized: "thyme fresh")
🔍 Standardizing: "Teri Belah" (category: vegetables)
🔍 No similar product found for "Teri Belah" (best similarity: 0.353, threshold: 0.8)
🤖 Using GPT-4o for: "Teri Belah"
🎯 GPT-4o standardized: "Teri Belah" → "eggplant split"
💾 Saving reference product: eggplant split
➕ Added to reference base: "eggplant split" (category: vegetables)
Processing: "Teri Belah" → cleaned: "Teri Belah" → standardized: "eggplant split"
Created new product: "Teri Belah" (standardized: "eggplant split")
🔍 Standardizing: "Telur Puyuh" (category: vegetables)
🔍 No similar product found for "Telur Puyuh" (best similarity: 0.486, threshold: 0.8)
🤖 Using GPT-4o for: "Telur Puyuh"
🎯 GPT-4o standardized: "Telur Puyuh" → "egg quail"
💾 Saving reference product: egg quail
➕ Added to reference base: "egg quail" (category: vegetables)
Processing: "Telur Puyuh" → cleaned: "Telur Puyuh" → standardized: "egg quail"
Found existing product: "Egg Quail" (standardized: "egg quail")
🔍 Standardizing: "Tempe/Bean Cake" (category: vegetables)
🔍 No similar product found for "Tempe/Bean Cake" (best similarity: 0.600, threshold: 0.8)
🤖 Using GPT-4o for: "Tempe/Bean Cake"
🎯 GPT-4o standardized: "Tempe/Bean Cake" → "cake bean"
💾 Saving reference product: cake bean
➕ Added to reference base: "cake bean" (category: vegetables)
Processing: "Tempe/Bean Cake" → cleaned: "Tempe/Bean Cake" → standardized: "cake bean"
Created new product: "Tempe/Bean Cake" (standardized: "cake bean")
🔍 Standardizing: "Terasi" (category: vegetables)
🔍 No similar product found for "Terasi" (best similarity: 0.391, threshold: 0.8)
🤖 Using GPT-4o for: "Terasi"
🎯 GPT-4o standardized: "Terasi" → "shrimp paste"
💾 Saving reference product: shrimp paste
➕ Added to reference base: "shrimp paste" (category: vegetables)
Processing: "Terasi" → cleaned: "Terasi" → standardized: "shrimp paste"
Created new product: "Terasi" (standardized: "shrimp paste")
🔍 Standardizing: "Terong Bulat" (category: vegetables)
🔍 No similar product found for "Terong Bulat" (best similarity: 0.387, threshold: 0.8)
🤖 Using GPT-4o for: "Terong Bulat"
🎯 GPT-4o standardized: "Terong Bulat" → "eggplant round"
💾 Saving reference product: eggplant round
➕ Added to reference base: "eggplant round" (category: vegetables)
Processing: "Terong Bulat" → cleaned: "Terong Bulat" → standardized: "eggplant round"
Found existing product: "Egg Plant Round" (standardized: "eggplant round")
🔍 Standardizing: "Timun jepang" (category: vegetables)
🔍 No similar product found for "Timun jepang" (best similarity: 0.471, threshold: 0.8)
🤖 Using GPT-4o for: "Timun jepang"
🎯 GPT-4o standardized: "Timun jepang" → "cucumber japanese"
💾 Saving reference product: cucumber japanese
➕ Added to reference base: "cucumber japanese" (category: vegetables)
Processing: "Timun jepang" → cleaned: "Timun jepang" → standardized: "cucumber japanese"
Found existing product: "Cucumber Japanese" (standardized: "cucumber japanese")
🔍 Standardizing: "Timun Local" (category: vegetables)
🔍 No similar product found for "Timun Local" (best similarity: 0.498, threshold: 0.8)
🤖 Using GPT-4o for: "Timun Local"
🎯 GPT-4o standardized: "Timun Local" → "cucumber local"
💾 Saving reference product: cucumber local
➕ Added to reference base: "cucumber local" (category: vegetables)
Processing: "Timun Local" → cleaned: "Timun Local" → standardized: "cucumber local"
Found existing product: "Cucumber Local" (standardized: "cucumber local")
🔍 Standardizing: "Tomat/Tomatoes" (category: vegetables)
🎯 Found similar product: "Tomat/Tomatoes" → "tomato" (similarity: 0.815)
✅ Found via embedding: "Tomat/Tomatoes" → "tomato" (similarity: 0.815)
Processing: "Tomat/Tomatoes" → cleaned: "Tomat/Tomatoes" → standardized: "tomato"
Found existing product: "Tomato" (standardized: "tomato")
🔍 Standardizing: "Tomato cherry Red" (category: vegetables)
🎯 Found similar product: "Tomato cherry Red" → "tomato cherry red" (similarity: 1.000)
✅ Found via embedding: "Tomato cherry Red" → "tomato cherry red" (similarity: 1.000)
Processing: "Tomato cherry Red" → cleaned: "Tomato cherry Red" → standardized: "tomato cherry red"
Found existing product: "red cherry tomato" (standardized: "tomato cherry red")
🔍 Standardizing: "Tomato cherry Green" (category: vegetables)
🎯 Found similar product: "Tomato cherry Green" → "tomato cherry" (similarity: 0.900)
✅ Found via embedding: "Tomato cherry Green" → "tomato cherry" (similarity: 0.900)
Processing: "Tomato cherry Green" → cleaned: "Tomato cherry Green" → standardized: "tomato cherry"
Found existing product: "Tomato cherry red" (standardized: "tomato cherry")
🔍 Standardizing: "Tomato cherry Yellow" (category: vegetables)
🎯 Found similar product: "Tomato cherry Yellow" → "tomato cherry yellow" (similarity: 1.000)
✅ Found via embedding: "Tomato cherry Yellow" → "tomato cherry yellow" (similarity: 1.000)
Processing: "Tomato cherry Yellow" → cleaned: "Tomato cherry Yellow" → standardized: "tomato cherry yellow"
Found existing product: "yellow cherry tomato" (standardized: "tomato cherry yellow")
🔍 Standardizing: "White cabbage/Kol" (category: vegetables)
🔍 No similar product found for "White cabbage/Kol" (best similarity: 0.663, threshold: 0.8)
🤖 Using GPT-4o for: "White cabbage/Kol"
🎯 GPT-4o standardized: "White cabbage/Kol" → "cabbage white"
💾 Saving reference product: cabbage white
➕ Added to reference base: "cabbage white" (category: vegetables)
Processing: "White cabbage/Kol" → cleaned: "White cabbage/Kol" → standardized: "cabbage white"
Found existing product: "Cabbage White / Kol" (standardized: "cabbage white")
🔍 Standardizing: "Zukini Baby" (category: vegetables)
🔍 No similar product found for "Zukini Baby" (best similarity: 0.450, threshold: 0.8)
🤖 Using GPT-4o for: "Zukini Baby"
🎯 GPT-4o standardized: "Zukini Baby" → "zucchini baby"
💾 Saving reference product: zucchini baby
➕ Added to reference base: "zucchini baby" (category: vegetables)
Processing: "Zukini Baby" → cleaned: "Zukini Baby" → standardized: "zucchini baby"
Created new product: "Zukini Baby" (standardized: "zucchini baby")
🔍 Standardizing: "Zukini green" (category: vegetables)
🔍 No similar product found for "Zukini green" (best similarity: 0.624, threshold: 0.8)
🤖 Using GPT-4o for: "Zukini green"
🎯 GPT-4o standardized: "Zukini green" → "zucchini green"
💾 Saving reference product: zucchini green
➕ Added to reference base: "zucchini green" (category: vegetables)
Processing: "Zukini green" → cleaned: "Zukini green" → standardized: "zucchini green"
Found existing product: "Zucchini Green" (standardized: "zucchini green")
🔍 Standardizing: "Zucchini flower" (category: vegetables)
🔍 No similar product found for "Zucchini flower" (best similarity: 0.748, threshold: 0.8)
🤖 Using GPT-4o for: "Zucchini flower"
🎯 GPT-4o standardized: "Zucchini flower" → "flower zucchini"
💾 Saving reference product: flower zucchini
➕ Added to reference base: "flower zucchini" (category: vegetables)
Processing: "Zucchini flower" → cleaned: "Zucchini flower" → standardized: "flower zucchini"
Created new product: "Zucchini flower" (standardized: "flower zucchini")
🔍 Standardizing: "Zucchini yellow" (category: vegetables)
🎯 Found similar product: "Zucchini yellow" → "zucchini yellow" (similarity: 1.000)
✅ Found via embedding: "Zucchini yellow" → "zucchini yellow" (similarity: 1.000)
Processing: "Zucchini yellow" → cleaned: "Zucchini yellow" → standardized: "zucchini yellow"
Found existing product: "Zucchini Yellow" (standardized: "zucchini yellow")
🔍 Standardizing: "ayam whole" (category: meat)
🔍 No similar product found for "ayam whole" (best similarity: 0.000, threshold: 0.8)
🤖 Using GPT-4o for: "ayam whole"
🎯 GPT-4o standardized: "ayam whole" → "chicken whole"
💾 Saving reference product: chicken whole
➕ Added to reference base: "chicken whole" (category: meat)
Processing: "ayam whole" → cleaned: "ayam whole" → standardized: "chicken whole"
Found existing product: "Chicken whole" (standardized: "chicken whole")
🔍 Standardizing: "ayam paha" (category: meat)
🔍 No similar product found for "ayam paha" (best similarity: 0.350, threshold: 0.8)
🤖 Using GPT-4o for: "ayam paha"
🎯 GPT-4o standardized: "ayam paha" → "chicken thigh"
💾 Saving reference product: chicken thigh
➕ Added to reference base: "chicken thigh" (category: meat)
Processing: "ayam paha" → cleaned: "ayam paha" → standardized: "chicken thigh"
Created new product: "ayam paha" (standardized: "chicken thigh")
🔍 Standardizing: "ayam dada whole" (category: meat)
🔍 No similar product found for "ayam dada whole" (best similarity: 0.516, threshold: 0.8)
🤖 Using GPT-4o for: "ayam dada whole"
🎯 GPT-4o standardized: "ayam dada whole" → "chicken whole breast"
💾 Saving reference product: chicken whole breast
➕ Added to reference base: "chicken whole breast" (category: meat)
Processing: "ayam dada whole" → cleaned: "ayam dada whole" → standardized: "chicken whole breast"
Created new product: "ayam dada whole" (standardized: "chicken whole breast")
🔍 Standardizing: "ayam sayap" (category: meat)
🔍 No similar product found for "ayam sayap" (best similarity: 0.345, threshold: 0.8)
🤖 Using GPT-4o for: "ayam sayap"
🎯 GPT-4o standardized: "ayam sayap" → "wing chicken"
💾 Saving reference product: wing chicken
➕ Added to reference base: "wing chicken" (category: meat)
Processing: "ayam sayap" → cleaned: "ayam sayap" → standardized: "wing chicken"
Found existing product: "Chicken wings" (standardized: "wing chicken")
🔍 Standardizing: "ayam dada fillet" (category: meat)
🔍 No similar product found for "ayam dada fillet" (best similarity: 0.380, threshold: 0.8)
🤖 Using GPT-4o for: "ayam dada fillet"
🎯 GPT-4o standardized: "ayam dada fillet" → "chicken fillet breast"
💾 Saving reference product: chicken fillet breast
➕ Added to reference base: "chicken fillet breast" (category: meat)
Processing: "ayam dada fillet" → cleaned: "ayam dada fillet" → standardized: "chicken fillet breast"
Created new product: "ayam dada fillet" (standardized: "chicken fillet breast")
🔍 Standardizing: "ayam.paha fillet" (category: meat)
🔍 No similar product found for "ayam.paha fillet" (best similarity: 0.538, threshold: 0.8)
🤖 Using GPT-4o for: "ayam.paha fillet"
🎯 GPT-4o standardized: "ayam.paha fillet" → "fillet chicken thigh"
💾 Saving reference product: fillet chicken thigh
➕ Added to reference base: "fillet chicken thigh" (category: meat)
Processing: "ayam.paha fillet" → cleaned: "ayam.paha fillet" → standardized: "fillet chicken thigh"
Created new product: "ayam.paha fillet" (standardized: "fillet chicken thigh")
🔍 Standardizing: "Gula Pasir Lokal" (category: other)
🔍 No similar product found for "Gula Pasir Lokal" (best similarity: 0.000, threshold: 0.8)
🤖 Using GPT-4o for: "Gula Pasir Lokal"
🎯 GPT-4o standardized: "Gula Pasir Lokal" → "sugar local"
💾 Saving reference product: sugar local
➕ Added to reference base: "sugar local" (category: other)
Processing: "Gula Pasir Lokal" → cleaned: "Gula Pasir Lokal" → standardized: "sugar local"
Created new product: "Gula Pasir Lokal" (standardized: "sugar local")
🔍 Standardizing: "Kopi Setia Bali" (category: Other)
🔍 No similar product found for "Kopi Setia Bali" (best similarity: 0.458, threshold: 0.8)
🤖 Using GPT-4o for: "Kopi Setia Bali"
🎯 GPT-4o standardized: "Kopi Setia Bali" → "coffee bali"
💾 Saving reference product: coffee bali
➕ Added to reference base: "coffee bali" (category: Other)
Processing: "Kopi Setia Bali" → cleaned: "Kopi Setia Bali" → standardized: "coffee bali"
Found existing product: "Kopi Setia Bali" (standardized: "coffee bali")
🔍 Standardizing: "Merica Bubuk" (category: Other)
🔍 No similar product found for "Merica Bubuk" (best similarity: 0.404, threshold: 0.8)
🤖 Using GPT-4o for: "Merica Bubuk"
🎯 GPT-4o standardized: "Merica Bubuk" → "powder spice"
💾 Saving reference product: powder spice
➕ Added to reference base: "powder spice" (category: Other)
Processing: "Merica Bubuk" → cleaned: "Merica Bubuk" → standardized: "powder spice"
Found existing product: "Merica Bubuk" (standardized: "powder spice")
🔍 Standardizing: "Bumbu Bali" (category: Other)
🔍 No similar product found for "Bumbu Bali" (best similarity: 0.605, threshold: 0.8)
🤖 Using GPT-4o for: "Bumbu Bali"
🎯 GPT-4o standardized: "Bumbu Bali" → "spice bali"
💾 Saving reference product: spice bali
➕ Added to reference base: "spice bali" (category: Other)
Processing: "Bumbu Bali" → cleaned: "Bumbu Bali" → standardized: "spice bali"
Found existing product: "garam bali" (standardized: "spice bali")
🔍 Standardizing: "Bimoli" (category: Other)
🔍 No similar product found for "Bimoli" (best similarity: 0.462, threshold: 0.8)
🤖 Using GPT-4o for: "Bimoli"
🎯 GPT-4o standardized: "Bimoli" → "oil cooking"
💾 Saving reference product: oil cooking
➕ Added to reference base: "oil cooking" (category: Other)
Processing: "Bimoli" → cleaned: "Bimoli" → standardized: "oil cooking"
Found existing product: "Bimoli" (standardized: "oil cooking")
🔍 Standardizing: "Telur" (category: Other)
🔍 No similar product found for "Telur" (best similarity: 0.365, threshold: 0.8)
🤖 Using GPT-4o for: "Telur"
🎯 GPT-4o standardized: "Telur" → "egg"
💾 Saving reference product: egg
➕ Added to reference base: "egg" (category: Other)
Processing: "Telur" → cleaned: "Telur" → standardized: "egg"
Found existing product: "Telur" (standardized: "egg")
Successfully processed 230 products from sri 2 vegetables supplier.xlsx
Processing file cmbm7ff55001houst2v5xpf9u (0 remaining in queue)
Processing file: widi wiguna.xlsx
Processing Excel: https://cdc1w79ssc4kg6xh.public.blob.vercel-storage.com/widi%20wiguna-05dVZQuqf6Rxez9XpQxjpEFsTcxVu8.xlsx
Excel file has 3 sheets: Sheet1, Sheet2, Sheet3
Sheet "Sheet1": 242 rows with data
Sheet "Sheet2": 0 rows with data
Sheet "Sheet3": 0 rows with data
Found 1 sheets with data: Sheet1(242)
Processing sheet "Sheet1" with 242 rows...
Sheet "Sheet1": Processing 242 rows with data
Large sheet detected (242 rows), processing in chunks...
Processing chunk 1 with 30 rows...
Processing chunk 2 with 30 rows...
Processing chunk 3 with 30 rows...
Processing chunk 4 with 30 rows...
Processing chunk 5 with 30 rows...
Processing chunk 6 with 30 rows...
Processing chunk 7 with 30 rows...
Processing chunk 8 with 30 rows...
Processing chunk 9 with 2 rows...
Sheet "Sheet1": Merged 9 chunks into 204 products
Processed 1 sheets, extracted 204 total products
Found existing supplier: Widi Wiguna
🔍 Standardizing: "Ares" (category: vegetables)
🔍 No similar product found for "Ares" (best similarity: 0.420, threshold: 0.8)
🤖 Using GPT-4o for: "Ares"
🎯 GPT-4o standardized: "Ares" → "lettuce romaine"
💾 Saving reference product: lettuce romaine
➕ Added to reference base: "lettuce romaine" (category: vegetables)
Processing: "Ares" → cleaned: "Ares" → standardized: "lettuce romaine"
Found existing product: "romain" (standardized: "lettuce romaine")
🔍 Standardizing: "Asparagus" (category: vegetables)
🎯 Found similar product: "Asparagus" → "asparagus green" (similarity: 0.821)
✅ Found via embedding: "Asparagus" → "asparagus green" (similarity: 0.821)
Processing: "Asparagus" → cleaned: "Asparagus" → standardized: "asparagus green"
Found existing product: "Asparagus Green" (standardized: "asparagus green")
🔍 Standardizing: "Bean Sprout Long" (category: vegetables)
🎯 Found similar product: "Bean Sprout Long" → "bean sprout" (similarity: 0.898)
✅ Found via embedding: "Bean Sprout Long" → "bean sprout" (similarity: 0.898)
Processing: "Bean Sprout Long" → cleaned: "Bean Sprout Long" → standardized: "bean sprout"
Found existing product: "Toge" (standardized: "bean sprout")
🔍 Standardizing: "Bean Green" (category: vegetables)
🔍 No similar product found for "Bean Green" (best similarity: 0.697, threshold: 0.8)
🤖 Using GPT-4o for: "Bean Green"
🎯 GPT-4o standardized: "Bean Green" → "bean green"
💾 Saving reference product: bean green
➕ Added to reference base: "bean green" (category: vegetables)
Processing: "Bean Green" → cleaned: "Bean Green" → standardized: "bean green"
Found existing product: "Bean Green" (standardized: "bean green")
🔍 Standardizing: "Bean Green Baby" (category: vegetables)
🎯 Found similar product: "Bean Green Baby" → "bean green" (similarity: 0.862)
✅ Found via embedding: "Bean Green Baby" → "bean green" (similarity: 0.862)
Processing: "Bean Green Baby" → cleaned: "Bean Green Baby" → standardized: "bean green"
Found existing product: "Bean Green" (standardized: "bean green")
🔍 Standardizing: "Bean Long" (category: vegetables)
🎯 Found similar product: "Bean Long" → "bean long" (similarity: 1.000)
✅ Found via embedding: "Bean Long" → "bean long" (similarity: 1.000)
Processing: "Bean Long" → cleaned: "Bean Long" → standardized: "bean long"
Found existing product: "Bean Long (Kacang Panjang)" (standardized: "bean long")
🔍 Standardizing: "Bean Red (Kacang Buncis)" (category: vegetables)
🔍 No similar product found for "Bean Red (Kacang Buncis)" (best similarity: 0.617, threshold: 0.8)
🤖 Using GPT-4o for: "Bean Red (Kacang Buncis)"
🎯 GPT-4o standardized: "Bean Red (Kacang Buncis)" → "bean red"
💾 Saving reference product: bean red
➕ Added to reference base: "bean red" (category: vegetables)
Processing: "Bean Red (Kacang Buncis)" → cleaned: "Bean Red (Kacang Buncis)" → standardized: "bean red"
Found existing product: "Bean Red (Kacang Buncis)" (standardized: "bean red")
🔍 Standardizing: "Bean Red (Kacang Tolo)" (category: vegetables)
🔍 No similar product found for "Bean Red (Kacang Tolo)" (best similarity: 0.628, threshold: 0.8)
🤖 Using GPT-4o for: "Bean Red (Kacang Tolo)"
🎯 GPT-4o standardized: "Bean Red (Kacang Tolo)" → "bean red"
💾 Saving reference product: bean red
➕ Added to reference base: "bean red" (category: vegetables)
Processing: "Bean Red (Kacang Tolo)" → cleaned: "Bean Red (Kacang Tolo)" → standardized: "bean red"
Found existing product: "Bean Red (Kacang Buncis)" (standardized: "bean red")
🔍 Standardizing: "Bean Sprout Super" (category: vegetables)
🎯 Found similar product: "Bean Sprout Super" → "bean sprout" (similarity: 0.891)
✅ Found via embedding: "Bean Sprout Super" → "bean sprout" (similarity: 0.891)
Processing: "Bean Sprout Super" → cleaned: "Bean Sprout Super" → standardized: "bean sprout"
Found existing product: "Toge" (standardized: "bean sprout")
🔍 Standardizing: "Beet Root" (category: vegetables)
🎯 Found similar product: "Beet Root" → "beetroot" (similarity: 0.855)
✅ Found via embedding: "Beet Root" → "beetroot" (similarity: 0.855)
Processing: "Beet Root" → cleaned: "Beet Root" → standardized: "beetroot"
Found existing product: "Beetroot" (standardized: "beetroot")
🔍 Standardizing: "Bongkot" (category: vegetables)
🔍 No similar product found for "Bongkot" (best similarity: 0.363, threshold: 0.8)
🤖 Using GPT-4o for: "Bongkot"
🎯 GPT-4o standardized: "Bongkot" → "galangal"
💾 Saving reference product: galangal
➕ Added to reference base: "galangal" (category: vegetables)
Processing: "Bongkot" → cleaned: "Bongkot" → standardized: "galangal"
Found existing product: "Galangal" (standardized: "galangal")
🔍 Standardizing: "Brocoly Potong" (category: vegetables)
🔍 No similar product found for "Brocoly Potong" (best similarity: 0.494, threshold: 0.8)
🤖 Using GPT-4o for: "Brocoly Potong"
🎯 GPT-4o standardized: "Brocoly Potong" → "broccoli cut"
💾 Saving reference product: broccoli cut
➕ Added to reference base: "broccoli cut" (category: vegetables)
Processing: "Brocoly Potong" → cleaned: "Brocoly Potong" → standardized: "broccoli cut"
Found existing product: "Brocoly Potong" (standardized: "broccoli cut")
🔍 Standardizing: "Cabbage Chinese" (category: vegetables)
🎯 Found similar product: "Cabbage Chinese" → "cabbage chinese" (similarity: 1.000)
✅ Found via embedding: "Cabbage Chinese" → "cabbage chinese" (similarity: 1.000)
Processing: "Cabbage Chinese" → cleaned: "Cabbage Chinese" → standardized: "cabbage chinese"
Found existing product: "Cabbage Chinese / Sawi Putih" (standardized: "cabbage chinese")
🔍 Standardizing: "Cabbage Red" (category: vegetables)
🎯 Found similar product: "Cabbage Red" → "cabbage red" (similarity: 1.000)
✅ Found via embedding: "Cabbage Red" → "cabbage red" (similarity: 1.000)
Processing: "Cabbage Red" → cleaned: "Cabbage Red" → standardized: "cabbage red"
Found existing product: "Cabbage Red / Kol Merah" (standardized: "cabbage red")
🔍 Standardizing: "Cabbage White" (category: vegetables)
🎯 Found similar product: "Cabbage White" → "cabbage white" (similarity: 1.000)
✅ Found via embedding: "Cabbage White" → "cabbage white" (similarity: 1.000)
Processing: "Cabbage White" → cleaned: "Cabbage White" → standardized: "cabbage white"
Found existing product: "Cabbage White / Kol" (standardized: "cabbage white")
🔍 Standardizing: "Caisin" (category: vegetables)
🔍 No similar product found for "Caisin" (best similarity: 0.596, threshold: 0.8)
🤖 Using GPT-4o for: "Caisin"
🎯 GPT-4o standardized: "Caisin" → "cabbage chinese"
💾 Saving reference product: cabbage chinese
➕ Added to reference base: "cabbage chinese" (category: vegetables)
Processing: "Caisin" → cleaned: "Caisin" → standardized: "cabbage chinese"
Found existing product: "Cabbage Chinese / Sawi Putih" (standardized: "cabbage chinese")
🔍 Standardizing: "Capsicum Green" (category: vegetables)
🎯 Found similar product: "Capsicum Green" → "capsicum green" (similarity: 1.000)
✅ Found via embedding: "Capsicum Green" → "capsicum green" (similarity: 1.000)
Processing: "Capsicum Green" → cleaned: "Capsicum Green" → standardized: "capsicum green"
Found existing product: "Capsicum Green" (standardized: "capsicum green")
🔍 Standardizing: "Capsicum Red" (category: vegetables)
🎯 Found similar product: "Capsicum Red" → "capsicum green" (similarity: 0.812)
✅ Found via embedding: "Capsicum Red" → "capsicum green" (similarity: 0.812)
Processing: "Capsicum Red" → cleaned: "Capsicum Red" → standardized: "capsicum green"
Found existing product: "Capsicum Green" (standardized: "capsicum green")
🔍 Standardizing: "Capsicum Yellow" (category: vegetables)
🎯 Found similar product: "Capsicum Yellow" → "capsicum green" (similarity: 0.802)
✅ Found via embedding: "Capsicum Yellow" → "capsicum green" (similarity: 0.802)
Processing: "Capsicum Yellow" → cleaned: "Capsicum Yellow" → standardized: "capsicum green"
Found existing product: "Capsicum Green" (standardized: "capsicum green")
🔍 Standardizing: "Carrot Impot" (category: vegetables)
🔍 No similar product found for "Carrot Impot" (best similarity: 0.721, threshold: 0.8)
🤖 Using GPT-4o for: "Carrot Impot"
🎯 GPT-4o standardized: "Carrot Impot" → "carrot import"
💾 Saving reference product: carrot import
➕ Added to reference base: "carrot import" (category: vegetables)
Processing: "Carrot Impot" → cleaned: "Carrot Impot" → standardized: "carrot import"
Found existing product: "Carrot Import" (standardized: "carrot import")
🔍 Standardizing: "Carrot Lokal" (category: vegetables)
🎯 Found similar product: "Carrot Lokal" → "carrot local" (similarity: 0.918)
✅ Found via embedding: "Carrot Lokal" → "carrot local" (similarity: 0.918)
Processing: "Carrot Lokal" → cleaned: "Carrot Lokal" → standardized: "carrot local"
Found existing product: "Carrot Local" (standardized: "carrot local")
🔍 Standardizing: "Cauly Flower Clean" (category: vegetables)
🔍 No similar product found for "Cauly Flower Clean" (best similarity: 0.502, threshold: 0.8)
🤖 Using GPT-4o for: "Cauly Flower Clean"
🎯 GPT-4o standardized: "Cauly Flower Clean" → "cauliflower clean"
💾 Saving reference product: cauliflower clean
➕ Added to reference base: "cauliflower clean" (category: vegetables)
Processing: "Cauly Flower Clean" → cleaned: "Cauly Flower Clean" → standardized: "cauliflower clean"
Found existing product: "Cauly Flower Clean" (standardized: "cauliflower clean")
🔍 Standardizing: "Celery" (category: vegetables)
🔍 No similar product found for "Celery" (best similarity: 0.764, threshold: 0.8)
🤖 Using GPT-4o for: "Celery"
🎯 GPT-4o standardized: "Celery" → "celery"
💾 Saving reference product: celery
➕ Added to reference base: "celery" (category: vegetables)
Processing: "Celery" → cleaned: "Celery" → standardized: "celery"
Found existing product: "Celery" (standardized: "celery")
🔍 Standardizing: "Chilly Green BIG" (category: vegetables)
🎯 Found similar product: "Chilly Green BIG" → "chili green big" (similarity: 0.847)
✅ Found via embedding: "Chilly Green BIG" → "chili green big" (similarity: 0.847)
Processing: "Chilly Green BIG" → cleaned: "Chilly Green BIG" → standardized: "chili green big"
Found existing product: "Chili Green Big" (standardized: "chili green big")
🔍 Standardizing: "Chilly Red BIG" (category: vegetables)
🔍 No similar product found for "Chilly Red BIG" (best similarity: 0.681, threshold: 0.8)
🤖 Using GPT-4o for: "Chilly Red BIG"
🎯 GPT-4o standardized: "Chilly Red BIG" → "chili red"
💾 Saving reference product: chili red
➕ Added to reference base: "chili red" (category: vegetables)
Processing: "Chilly Red BIG" → cleaned: "Chilly Red BIG" → standardized: "chili red"
Found existing product: "Chili Red large" (standardized: "chili red")
🔍 Standardizing: "Chily Small Green" (category: vegetables)
🔍 No similar product found for "Chily Small Green" (best similarity: 0.789, threshold: 0.8)
🤖 Using GPT-4o for: "Chily Small Green"
🎯 GPT-4o standardized: "Chily Small Green" → "pepper green small"
💾 Saving reference product: pepper green small
➕ Added to reference base: "pepper green small" (category: vegetables)
Processing: "Chily Small Green" → cleaned: "Chily Small Green" → standardized: "pepper green small"
Found existing product: "Chily Small Green" (standardized: "pepper green small")
🔍 Standardizing: "Chily Small Red" (category: vegetables)
🔍 No similar product found for "Chily Small Red" (best similarity: 0.692, threshold: 0.8)
🤖 Using GPT-4o for: "Chily Small Red"
🎯 GPT-4o standardized: "Chily Small Red" → "pepper red small"
💾 Saving reference product: pepper red small
➕ Added to reference base: "pepper red small" (category: vegetables)
Processing: "Chily Small Red" → cleaned: "Chily Small Red" → standardized: "pepper red small"
Found existing product: "Chily Small Red" (standardized: "pepper red small")
🔍 Standardizing: "Chives" (category: vegetables)
🔍 No similar product found for "Chives" (best similarity: 0.483, threshold: 0.8)
🤖 Using GPT-4o for: "Chives"
🎯 GPT-4o standardized: "Chives" → "chive"
💾 Saving reference product: chive
➕ Added to reference base: "chive" (category: vegetables)
Processing: "Chives" → cleaned: "Chives" → standardized: "chive"
Found existing product: "Chives" (standardized: "chive")
🔍 Standardizing: "Coconut Clean" (category: fruits)
🔍 No similar product found for "Coconut Clean" (best similarity: 0.693, threshold: 0.8)
🤖 Using GPT-4o for: "Coconut Clean"
🎯 GPT-4o standardized: "Coconut Clean" → "coconut clean"
💾 Saving reference product: coconut clean
➕ Added to reference base: "coconut clean" (category: fruits)
Processing: "Coconut Clean" → cleaned: "Coconut Clean" → standardized: "coconut clean"
Found existing product: "Coconut Clean" (standardized: "coconut clean")
🔍 Standardizing: "Coconut Grated" (category: fruits)
🔍 No similar product found for "Coconut Grated" (best similarity: 0.668, threshold: 0.8)
🤖 Using GPT-4o for: "Coconut Grated"
🎯 GPT-4o standardized: "Coconut Grated" → "coconut grated"
💾 Saving reference product: coconut grated
➕ Added to reference base: "coconut grated" (category: fruits)
Processing: "Coconut Grated" → cleaned: "Coconut Grated" → standardized: "coconut grated"
Found existing product: "Coconut Grated" (standardized: "coconut grated")
🔍 Standardizing: "Coconut Old" (category: fruits)
🔍 No similar product found for "Coconut Old" (best similarity: 0.794, threshold: 0.8)
🤖 Using GPT-4o for: "Coconut Old"
🎯 GPT-4o standardized: "Coconut Old" → "coconut old"
💾 Saving reference product: coconut old
➕ Added to reference base: "coconut old" (category: fruits)
Processing: "Coconut Old" → cleaned: "Coconut Old" → standardized: "coconut old"
Found existing product: "Coconut Old" (standardized: "coconut old")
🔍 Standardizing: "Coconut Yellow" (category: fruits)
🔍 No similar product found for "Coconut Yellow" (best similarity: 0.669, threshold: 0.8)
🤖 Using GPT-4o for: "Coconut Yellow"
🎯 GPT-4o standardized: "Coconut Yellow" → "coconut yellow"
💾 Saving reference product: coconut yellow
➕ Added to reference base: "coconut yellow" (category: fruits)
Processing: "Coconut Yellow" → cleaned: "Coconut Yellow" → standardized: "coconut yellow"
Found existing product: "Coconut Yellow" (standardized: "coconut yellow")
🔍 Standardizing: "Coconut Young" (category: fruits)
🎯 Found similar product: "Coconut Young" → "coconut young" (similarity: 1.000)
✅ Found via embedding: "Coconut Young" → "coconut young" (similarity: 1.000)
Processing: "Coconut Young" → cleaned: "Coconut Young" → standardized: "coconut young"
Found existing product: "Coconut Young" (standardized: "coconut young")
🔍 Standardizing: "Corn Baby" (category: vegetables)
🎯 Found similar product: "Corn Baby" → "corn baby" (similarity: 1.000)
✅ Found via embedding: "Corn Baby" → "corn baby" (similarity: 1.000)
Processing: "Corn Baby" → cleaned: "Corn Baby" → standardized: "corn baby"
Found existing product: "Baby Corn" (standardized: "corn baby")
🔍 Standardizing: "Corn Sweet" (category: vegetables)
🎯 Found similar product: "Corn Sweet" → "corn sweet" (similarity: 1.000)
✅ Found via embedding: "Corn Sweet" → "corn sweet" (similarity: 1.000)
Processing: "Corn Sweet" → cleaned: "Corn Sweet" → standardized: "corn sweet"
Found existing product: "Corn sweet/jagung" (standardized: "corn sweet")
🔍 Standardizing: "Corn Whole Local" (category: vegetables)
🔍 No similar product found for "Corn Whole Local" (best similarity: 0.579, threshold: 0.8)
🤖 Using GPT-4o for: "Corn Whole Local"
🎯 GPT-4o standardized: "Corn Whole Local" → "corn whole"
💾 Saving reference product: corn whole
➕ Added to reference base: "corn whole" (category: vegetables)
Processing: "Corn Whole Local" → cleaned: "Corn Whole Local" → standardized: "corn whole"
Found existing product: "Corn Whole local" (standardized: "corn whole")
🔍 Standardizing: "Cucumber Japanese" (category: vegetables)
🎯 Found similar product: "Cucumber Japanese" → "cucumber japanese" (similarity: 1.000)
✅ Found via embedding: "Cucumber Japanese" → "cucumber japanese" (similarity: 1.000)
Processing: "Cucumber Japanese" → cleaned: "Cucumber Japanese" → standardized: "cucumber japanese"
Found existing product: "Cucumber Japanese" (standardized: "cucumber japanese")
🔍 Standardizing: "Cucumber Local" (category: vegetables)
🎯 Found similar product: "Cucumber Local" → "cucumber local" (similarity: 1.000)
✅ Found via embedding: "Cucumber Local" → "cucumber local" (similarity: 1.000)
Processing: "Cucumber Local" → cleaned: "Cucumber Local" → standardized: "cucumber local"
Found existing product: "Cucumber Local" (standardized: "cucumber local")
🔍 Standardizing: "Egg Plant Long" (category: vegetables)
🔍 No similar product found for "Egg Plant Long" (best similarity: 0.758, threshold: 0.8)
🤖 Using GPT-4o for: "Egg Plant Long"
🎯 GPT-4o standardized: "Egg Plant Long" → "eggplant long"
💾 Saving reference product: eggplant long
➕ Added to reference base: "eggplant long" (category: vegetables)
Processing: "Egg Plant Long" → cleaned: "Egg Plant Long" → standardized: "eggplant long"
Found existing product: "Egg Plant Long" (standardized: "eggplant long")
🔍 Standardizing: "Egg Plant Round" (category: vegetables)
🎯 Found similar product: "Egg Plant Round" → "eggplant round" (similarity: 0.874)
✅ Found via embedding: "Egg Plant Round" → "eggplant round" (similarity: 0.874)
Processing: "Egg Plant Round" → cleaned: "Egg Plant Round" → standardized: "eggplant round"
Found existing product: "Egg Plant Round" (standardized: "eggplant round")
🔍 Standardizing: "Galangal" (category: spices)
🔍 No similar product found for "Galangal" (best similarity: 0.424, threshold: 0.8)
🤖 Using GPT-4o for: "Galangal"
🎯 GPT-4o standardized: "Galangal" → "galangal"
💾 Saving reference product: galangal
➕ Added to reference base: "galangal" (category: spices)
Processing: "Galangal" → cleaned: "Galangal" → standardized: "galangal"
Found existing product: "Galangal" (standardized: "galangal")
🔍 Standardizing: "Banana Leaf" (category: leaves)
🔍 No similar product found for "Banana Leaf" (best similarity: 0.000, threshold: 0.8)
🤖 Using GPT-4o for: "Banana Leaf"
🎯 GPT-4o standardized: "Banana Leaf" → "leaf banana"
💾 Saving reference product: leaf banana
➕ Added to reference base: "leaf banana" (category: leaves)
Processing: "Banana Leaf" → cleaned: "Banana Leaf" → standardized: "leaf banana"
Found existing product: "Banana Leaf" (standardized: "leaf banana")
🔍 Standardizing: "Coconut Leaf" (category: leaves)
🔍 No similar product found for "Coconut Leaf" (best similarity: 0.451, threshold: 0.8)
🤖 Using GPT-4o for: "Coconut Leaf"
🎯 GPT-4o standardized: "Coconut Leaf" → "leaf coconut"
💾 Saving reference product: leaf coconut
➕ Added to reference base: "leaf coconut" (category: leaves)
Processing: "Coconut Leaf" → cleaned: "Coconut Leaf" → standardized: "leaf coconut"
Found existing product: "Coconut Leaf" (standardized: "leaf coconut")
🔍 Standardizing: "Garlic Clean" (category: spices)
🔍 No similar product found for "Garlic Clean" (best similarity: 0.368, threshold: 0.8)
🤖 Using GPT-4o for: "Garlic Clean"
🎯 GPT-4o standardized: "Garlic Clean" → "garlic clean"
💾 Saving reference product: garlic clean
➕ Added to reference base: "garlic clean" (category: spices)
Processing: "Garlic Clean" → cleaned: "Garlic Clean" → standardized: "garlic clean"
Found existing product: "Garlic Clean" (standardized: "garlic clean")
🔍 Standardizing: "Garlic Whole" (category: spices)
🔍 No similar product found for "Garlic Whole" (best similarity: 0.698, threshold: 0.8)
🤖 Using GPT-4o for: "Garlic Whole"
🎯 GPT-4o standardized: "Garlic Whole" → "garlic whole"
💾 Saving reference product: garlic whole
➕ Added to reference base: "garlic whole" (category: spices)
Processing: "Garlic Whole" → cleaned: "Garlic Whole" → standardized: "garlic whole"
Found existing product: "Garlic Whole" (standardized: "garlic whole")
🔍 Standardizing: "Ginger" (category: spices)
🔍 No similar product found for "Ginger" (best similarity: 0.510, threshold: 0.8)
🤖 Using GPT-4o for: "Ginger"
🎯 GPT-4o standardized: "Ginger" → "ginger"
💾 Saving reference product: ginger
➕ Added to reference base: "ginger" (category: spices)
Processing: "Ginger" → cleaned: "Ginger" → standardized: "ginger"
Found existing product: "Ginger (Jahe)" (standardized: "ginger")
🔍 Standardizing: "Gondo" (category: vegetables)
🔍 No similar product found for "Gondo" (best similarity: 0.423, threshold: 0.8)
🤖 Using GPT-4o for: "Gondo"
🎯 GPT-4o standardized: "Gondo" → "gourd"
💾 Saving reference product: gourd
➕ Added to reference base: "gourd" (category: vegetables)
Processing: "Gondo" → cleaned: "Gondo" → standardized: "gourd"
Found existing product: "Gondo" (standardized: "gourd")
🔍 Standardizing: "Jack Fruit Young" (category: fruits)
🔍 No similar product found for "Jack Fruit Young" (best similarity: 0.649, threshold: 0.8)
🤖 Using GPT-4o for: "Jack Fruit Young"
🎯 GPT-4o standardized: "Jack Fruit Young" → "fruit jack young"
💾 Saving reference product: fruit jack young
➕ Added to reference base: "fruit jack young" (category: fruits)
Processing: "Jack Fruit Young" → cleaned: "Jack Fruit Young" → standardized: "fruit jack young"
Found existing product: "Jack Fuit Young" (standardized: "fruit jack young")
🔍 Standardizing: "Kailan Baby" (category: vegetables)
🔍 No similar product found for "Kailan Baby" (best similarity: 0.628, threshold: 0.8)
🤖 Using GPT-4o for: "Kailan Baby"
🎯 GPT-4o standardized: "Kailan Baby" → "kale baby"
💾 Saving reference product: kale baby
➕ Added to reference base: "kale baby" (category: vegetables)
Processing: "Kailan Baby" → cleaned: "Kailan Baby" → standardized: "kale baby"
Found existing product: "baby kailan" (standardized: "kale baby")
🔍 Standardizing: "Kangkung Akar" (category: vegetables)
🔍 No similar product found for "Kangkung Akar" (best similarity: 0.408, threshold: 0.8)
🤖 Using GPT-4o for: "Kangkung Akar"
🎯 GPT-4o standardized: "Kangkung Akar" → "spinach water"
💾 Saving reference product: spinach water
➕ Added to reference base: "spinach water" (category: vegetables)
Processing: "Kangkung Akar" → cleaned: "Kangkung Akar" → standardized: "spinach water"
Created new product: "Kangkung Akar" (standardized: "spinach water")
🔍 Standardizing: "Kecicang" (category: vegetables)
🔍 No similar product found for "Kecicang" (best similarity: 0.378, threshold: 0.8)
🤖 Using GPT-4o for: "Kecicang"
🎯 GPT-4o standardized: "Kecicang" → "torch ginger"
💾 Saving reference product: torch ginger
➕ Added to reference base: "torch ginger" (category: vegetables)
Processing: "Kecicang" → cleaned: "Kecicang" → standardized: "torch ginger"
Found existing product: "Kecombrang" (standardized: "torch ginger")
🔍 Standardizing: "Kemangi Leaf" (category: leaves)
🔍 No similar product found for "Kemangi Leaf" (best similarity: 0.434, threshold: 0.8)
🤖 Using GPT-4o for: "Kemangi Leaf"
🎯 GPT-4o standardized: "Kemangi Leaf" → "leaf kemangi"
💾 Saving reference product: leaf kemangi
➕ Added to reference base: "leaf kemangi" (category: leaves)
Processing: "Kemangi Leaf" → cleaned: "Kemangi Leaf" → standardized: "leaf kemangi"
Found existing product: "Kemangi Leaf" (standardized: "leaf kemangi")
🔍 Standardizing: "Kencur" (category: spices)
🔍 No similar product found for "Kencur" (best similarity: 0.307, threshold: 0.8)
🤖 Using GPT-4o for: "Kencur"
🎯 GPT-4o standardized: "Kencur" → "galangal aromatic"
💾 Saving reference product: galangal aromatic
➕ Added to reference base: "galangal aromatic" (category: spices)
Processing: "Kencur" → cleaned: "Kencur" → standardized: "galangal aromatic"
Found existing product: "Kencur" (standardized: "galangal aromatic")
🔍 Standardizing: "Labu Siam" (category: vegetables)
🔍 No similar product found for "Labu Siam" (best similarity: 0.456, threshold: 0.8)
🤖 Using GPT-4o for: "Labu Siam"
🎯 GPT-4o standardized: "Labu Siam" → "chayote"
💾 Saving reference product: chayote
➕ Added to reference base: "chayote" (category: vegetables)
Processing: "Labu Siam" → cleaned: "Labu Siam" → standardized: "chayote"
Found existing product: "Chayote/ labu siam" (standardized: "chayote")
🔍 Standardizing: "Leek Clean" (category: vegetables)
🎯 Found similar product: "Leek Clean" → "leek clean" (similarity: 1.000)
✅ Found via embedding: "Leek Clean" → "leek clean" (similarity: 1.000)
Processing: "Leek Clean" → cleaned: "Leek Clean" → standardized: "leek clean"
Found existing product: "Leek clean" (standardized: "leek clean")
🔍 Standardizing: "Lemen Leaf" (category: leaves)
🔍 No similar product found for "Lemen Leaf" (best similarity: 0.504, threshold: 0.8)
🤖 Using GPT-4o for: "Lemen Leaf"
🎯 GPT-4o standardized: "Lemen Leaf" → "leaf lemon"
💾 Saving reference product: leaf lemon
➕ Added to reference base: "leaf lemon" (category: leaves)
Processing: "Lemen Leaf" → cleaned: "Lemen Leaf" → standardized: "leaf lemon"
Found existing product: "Lemen Leaf" (standardized: "leaf lemon")
🔍 Standardizing: "Lemo Bali" (category: vegetables)
🔍 No similar product found for "Lemo Bali" (best similarity: 0.409, threshold: 0.8)
🤖 Using GPT-4o for: "Lemo Bali"
🎯 GPT-4o standardized: "Lemo Bali" → "lemon bali"
💾 Saving reference product: lemon bali
➕ Added to reference base: "lemon bali" (category: vegetables)
Processing: "Lemo Bali" → cleaned: "Lemo Bali" → standardized: "lemon bali"
Found existing product: "Lemo Bali" (standardized: "lemon bali")
🔍 Standardizing: "Lemon Grass" (category: vegetables)
🔍 No similar product found for "Lemon Grass" (best similarity: 0.696, threshold: 0.8)
🤖 Using GPT-4o for: "Lemon Grass"
🎯 GPT-4o standardized: "Lemon Grass" → "grass lemon"
💾 Saving reference product: grass lemon
➕ Added to reference base: "grass lemon" (category: vegetables)
Processing: "Lemon Grass" → cleaned: "Lemon Grass" → standardized: "grass lemon"
Found existing product: "Lemon Grass (Sereh)" (standardized: "grass lemon")
🔍 Standardizing: "Mushroom Botton" (category: vegetables)
🎯 Found similar product: "Mushroom Botton" → "mushroom button" (similarity: 0.868)
✅ Found via embedding: "Mushroom Botton" → "mushroom button" (similarity: 0.868)
Processing: "Mushroom Botton" → cleaned: "Mushroom Botton" → standardized: "mushroom button"
Found existing product: "Mushroom Button" (standardized: "mushroom button")
🔍 Standardizing: "Mushroom Oyster" (category: vegetables)
🎯 Found similar product: "Mushroom Oyster" → "mushroom king oyster" (similarity: 0.883)
✅ Found via embedding: "Mushroom Oyster" → "mushroom king oyster" (similarity: 0.883)
Processing: "Mushroom Oyster" → cleaned: "Mushroom Oyster" → standardized: "mushroom king oyster"
Found existing product: "Mushroom Oyster" (standardized: "mushroom king oyster")
🔍 Standardizing: "Mushroom Shitake" (category: vegetables)
🔍 No similar product found for "Mushroom Shitake" (best similarity: 0.780, threshold: 0.8)
🤖 Using GPT-4o for: "Mushroom Shitake"
🎯 GPT-4o standardized: "Mushroom Shitake" → "mushroom shiitake"
💾 Saving reference product: mushroom shiitake
➕ Added to reference base: "mushroom shiitake" (category: vegetables)
Processing: "Mushroom Shitake" → cleaned: "Mushroom Shitake" → standardized: "mushroom shiitake"
Found existing product: "Mushroom Shitake" (standardized: "mushroom shiitake")
🔍 Standardizing: "Onion Red / Bombay Merah" (category: vegetables)
🔍 No similar product found for "Onion Red / Bombay Merah" (best similarity: 0.682, threshold: 0.8)
🤖 Using GPT-4o for: "Onion Red / Bombay Merah"
🎯 GPT-4o standardized: "Onion Red / Bombay Merah" → "onion red"
💾 Saving reference product: onion red
➕ Added to reference base: "onion red" (category: vegetables)
Processing: "Onion Red / Bombay Merah" → cleaned: "Onion Red / Bombay Merah" → standardized: "onion red"
Found existing product: "Onion Red" (standardized: "onion red")
🔍 Standardizing: "Onion Spring" (category: vegetables)
🎯 Found similar product: "Onion Spring" → "onion spring" (similarity: 1.000)
✅ Found via embedding: "Onion Spring" → "onion spring" (similarity: 1.000)
Processing: "Onion Spring" → cleaned: "Onion Spring" → standardized: "onion spring"
Found existing product: "Onion Spring" (standardized: "onion spring")
🔍 Standardizing: "Onion White Large" (category: vegetables)
🔍 No similar product found for "Onion White Large" (best similarity: 0.695, threshold: 0.8)
🤖 Using GPT-4o for: "Onion White Large"
🎯 GPT-4o standardized: "Onion White Large" → "onion white large"
💾 Saving reference product: onion white large
➕ Added to reference base: "onion white large" (category: vegetables)
Processing: "Onion White Large" → cleaned: "Onion White Large" → standardized: "onion white large"
Found existing product: "Onion White Large" (standardized: "onion white large")
🔍 Standardizing: "Pakis" (category: vegetables)
🔍 No similar product found for "Pakis" (best similarity: 0.352, threshold: 0.8)
🤖 Using GPT-4o for: "Pakis"
🎯 GPT-4o standardized: "Pakis" → "fern"
💾 Saving reference product: fern
➕ Added to reference base: "fern" (category: vegetables)
Processing: "Pakis" → cleaned: "Pakis" → standardized: "fern"
Found existing product: "Pakis" (standardized: "fern")
🔍 Standardizing: "Pandan Leaf" (category: vegetables)
🔍 No similar product found for "Pandan Leaf" (best similarity: 0.539, threshold: 0.8)
🤖 Using GPT-4o for: "Pandan Leaf"
🎯 GPT-4o standardized: "Pandan Leaf" → "leaf pandan"
💾 Saving reference product: leaf pandan
➕ Added to reference base: "leaf pandan" (category: vegetables)
Processing: "Pandan Leaf" → cleaned: "Pandan Leaf" → standardized: "leaf pandan"
Found existing product: "Pandan Leaf" (standardized: "leaf pandan")
🔍 Standardizing: "Parsley" (category: vegetables)
🎯 Found similar product: "Parsley" → "parsley" (similarity: 1.000)
✅ Found via embedding: "Parsley" → "parsley" (similarity: 1.000)
Processing: "Parsley" → cleaned: "Parsley" → standardized: "parsley"
Found existing product: "parsley" (standardized: "parsley")
🔍 Standardizing: "Pepaya Young Local" (category: fruits)
🔍 No similar product found for "Pepaya Young Local" (best similarity: 0.677, threshold: 0.8)
🤖 Using GPT-4o for: "Pepaya Young Local"
🎯 GPT-4o standardized: "Pepaya Young Local" → "papaya young local"
💾 Saving reference product: papaya young local
➕ Added to reference base: "papaya young local" (category: fruits)
Processing: "Pepaya Young Local" → cleaned: "Pepaya Young Local" → standardized: "papaya young local"
Found existing product: "Pepaya Young Local" (standardized: "papaya young local")
🔍 Standardizing: "Pok coy" (category: vegetables)
🔍 No similar product found for "Pok coy" (best similarity: 0.415, threshold: 0.8)
🤖 Using GPT-4o for: "Pok coy"
🎯 GPT-4o standardized: "Pok coy" → "cabbage bok choy"
💾 Saving reference product: cabbage bok choy
➕ Added to reference base: "cabbage bok choy" (category: vegetables)
Processing: "Pok coy" → cleaned: "Pok coy" → standardized: "cabbage bok choy"
Found existing product: "Pok coy" (standardized: "cabbage bok choy")
🔍 Standardizing: "Potato bigg" (category: vegetables)
🎯 Found similar product: "Potato bigg" → "potato medium big" (similarity: 0.814)
✅ Found via embedding: "Potato bigg" → "potato medium big" (similarity: 0.814)
Processing: "Potato bigg" → cleaned: "Potato bigg" → standardized: "potato medium big"
Found existing product: "Potato Medium and Big" (standardized: "potato medium big")
🔍 Standardizing: "Potato Small" (category: vegetables)
🎯 Found similar product: "Potato Small" → "potato medium big" (similarity: 0.808)
✅ Found via embedding: "Potato Small" → "potato medium big" (similarity: 0.808)
Processing: "Potato Small" → cleaned: "Potato Small" → standardized: "potato medium big"
Found existing product: "Potato Medium and Big" (standardized: "potato medium big")
🔍 Standardizing: "Potato Sweet" (category: vegetables)
🎯 Found similar product: "Potato Sweet" → "potato sweet" (similarity: 1.000)
✅ Found via embedding: "Potato Sweet" → "potato sweet" (similarity: 1.000)
Processing: "Potato Sweet" → cleaned: "Potato Sweet" → standardized: "potato sweet"
Found existing product: "Potato Sweet" (standardized: "potato sweet")
🔍 Standardizing: "Pumkin" (category: vegetables)
🎯 Found similar product: "Pumkin" → "pumpkin" (similarity: 0.870)
✅ Found via embedding: "Pumkin" → "pumpkin" (similarity: 0.870)
Processing: "Pumkin" → cleaned: "Pumkin" → standardized: "pumpkin"
Found existing product: "Pumpkin" (standardized: "pumpkin")
🔍 Standardizing: "Salam Leaf" (category: vegetables)
🔍 No similar product found for "Salam Leaf" (best similarity: 0.535, threshold: 0.8)
🤖 Using GPT-4o for: "Salam Leaf"
🎯 GPT-4o standardized: "Salam Leaf" → "leaf salam"
💾 Saving reference product: leaf salam
➕ Added to reference base: "leaf salam" (category: vegetables)
Processing: "Salam Leaf" → cleaned: "Salam Leaf" → standardized: "leaf salam"
Found existing product: "Salam Leaf" (standardized: "leaf salam")
🔍 Standardizing: "Shalot Clean" (category: vegetables)
🔍 No similar product found for "Shalot Clean" (best similarity: 0.547, threshold: 0.8)
🤖 Using GPT-4o for: "Shalot Clean"
🎯 GPT-4o standardized: "Shalot Clean" → "shallot clean"
💾 Saving reference product: shallot clean
➕ Added to reference base: "shallot clean" (category: vegetables)
Processing: "Shalot Clean" → cleaned: "Shalot Clean" → standardized: "shallot clean"
Found existing product: "Shalot Clean" (standardized: "shallot clean")
🔍 Standardizing: "Singkong Leaf" (category: vegetables)
🔍 No similar product found for "Singkong Leaf" (best similarity: 0.473, threshold: 0.8)
🤖 Using GPT-4o for: "Singkong Leaf"
🎯 GPT-4o standardized: "Singkong Leaf" → "leaf cassava"
💾 Saving reference product: leaf cassava
➕ Added to reference base: "leaf cassava" (category: vegetables)
Processing: "Singkong Leaf" → cleaned: "Singkong Leaf" → standardized: "leaf cassava"
Found existing product: "Cassava leaf" (standardized: "leaf cassava")
🔍 Standardizing: "Spinach Lokal" (category: vegetables)
🎯 Found similar product: "Spinach Lokal" → "spinach local cut" (similarity: 0.851)
✅ Found via embedding: "Spinach Lokal" → "spinach local cut" (similarity: 0.851)
Processing: "Spinach Lokal" → cleaned: "Spinach Lokal" → standardized: "spinach local cut"
Found existing product: "Spinach lokal potong" (standardized: "spinach local cut")
🔍 Standardizing: "Suji Leaf" (category: vegetables)
🔍 No similar product found for "Suji Leaf" (best similarity: 0.494, threshold: 0.8)
🤖 Using GPT-4o for: "Suji Leaf"
🎯 GPT-4o standardized: "Suji Leaf" → "leaf suji"
💾 Saving reference product: leaf suji
➕ Added to reference base: "leaf suji" (category: vegetables)
Processing: "Suji Leaf" → cleaned: "Suji Leaf" → standardized: "leaf suji"
Found existing product: "Suji Leaf" (standardized: "leaf suji")
🔍 Standardizing: "Tahu lombok" (category: dairy)
🔍 No similar product found for "Tahu lombok" (best similarity: 0.355, threshold: 0.8)
🤖 Using GPT-4o for: "Tahu lombok"
🎯 GPT-4o standardized: "Tahu lombok" → "tofu chili"
💾 Saving reference product: tofu chili
➕ Added to reference base: "tofu chili" (category: dairy)
Processing: "Tahu lombok" → cleaned: "Tahu lombok" → standardized: "tofu chili"
Found existing product: "Tahu lombok" (standardized: "tofu chili")
🔍 Standardizing: "Tamarin" (category: fruits)
🔍 No similar product found for "Tamarin" (best similarity: 0.470, threshold: 0.8)
🤖 Using GPT-4o for: "Tamarin"
🎯 GPT-4o standardized: "Tamarin" → "tamarind"
💾 Saving reference product: tamarind
➕ Added to reference base: "tamarind" (category: fruits)
Processing: "Tamarin" → cleaned: "Tamarin" → standardized: "tamarind"
Found existing product: "Asem" (standardized: "tamarind")
🔍 Standardizing: "Tempe" (category: dairy)
🎯 Found similar product: "Tempe" → "tempeh" (similarity: 0.802)
✅ Found via embedding: "Tempe" → "tempeh" (similarity: 0.802)
Processing: "Tempe" → cleaned: "Tempe" → standardized: "tempeh"
Found existing product: "Tempe" (standardized: "tempeh")
🔍 Standardizing: "Tomato TW" (category: vegetables)
🔍 No similar product found for "Tomato TW" (best similarity: 0.733, threshold: 0.8)
🤖 Using GPT-4o for: "Tomato TW"
🎯 GPT-4o standardized: "Tomato TW" → "tomato"
💾 Saving reference product: tomato
➕ Added to reference base: "tomato" (category: vegetables)
Processing: "Tomato TW" → cleaned: "Tomato TW" → standardized: "tomato"
Found existing product: "Tomato" (standardized: "tomato")
🔍 Standardizing: "Tomato Cerry Red" (category: vegetables)
🎯 Found similar product: "Tomato Cerry Red" → "tomato cherry red" (similarity: 0.909)
✅ Found via embedding: "Tomato Cerry Red" → "tomato cherry red" (similarity: 0.909)
Processing: "Tomato Cerry Red" → cleaned: "Tomato Cerry Red" → standardized: "tomato cherry red"
Found existing product: "red cherry tomato" (standardized: "tomato cherry red")
🔍 Standardizing: "Tomato Cerry Yellow" (category: vegetables)
🎯 Found similar product: "Tomato Cerry Yellow" → "tomato cherry yellow" (similarity: 0.896)
✅ Found via embedding: "Tomato Cerry Yellow" → "tomato cherry yellow" (similarity: 0.896)
Processing: "Tomato Cerry Yellow" → cleaned: "Tomato Cerry Yellow" → standardized: "tomato cherry yellow"
Found existing product: "yellow cherry tomato" (standardized: "tomato cherry yellow")
🔍 Standardizing: "Turmeric" (category: vegetables)
🎯 Found similar product: "Turmeric" → "turmeric" (similarity: 1.000)
✅ Found via embedding: "Turmeric" → "turmeric" (similarity: 1.000)
Processing: "Turmeric" → cleaned: "Turmeric" → standardized: "turmeric"
Found existing product: "Turmeric" (standardized: "turmeric")
🔍 Standardizing: "Turnip" (category: vegetables)
🔍 No similar product found for "Turnip" (best similarity: 0.608, threshold: 0.8)
🤖 Using GPT-4o for: "Turnip"
🎯 GPT-4o standardized: "Turnip" → "turnip"
💾 Saving reference product: turnip
➕ Added to reference base: "turnip" (category: vegetables)
Processing: "Turnip" → cleaned: "Turnip" → standardized: "turnip"
Found existing product: "Turnip" (standardized: "turnip")
🔍 Standardizing: "Ubi Kayu" (category: vegetables)
🔍 No similar product found for "Ubi Kayu" (best similarity: 0.362, threshold: 0.8)
🤖 Using GPT-4o for: "Ubi Kayu"
🎯 GPT-4o standardized: "Ubi Kayu" → "cassava"
💾 Saving reference product: cassava
➕ Added to reference base: "cassava" (category: vegetables)
Processing: "Ubi Kayu" → cleaned: "Ubi Kayu" → standardized: "cassava"
Found existing product: "Cassava" (standardized: "cassava")
🔍 Standardizing: "Water Crass Clean" (category: vegetables)
🔍 No similar product found for "Water Crass Clean" (best similarity: 0.600, threshold: 0.8)
🤖 Using GPT-4o for: "Water Crass Clean"
🎯 GPT-4o standardized: "Water Crass Clean" → "crass water"
💾 Saving reference product: crass water
➕ Added to reference base: "crass water" (category: vegetables)
Processing: "Water Crass Clean" → cleaned: "Water Crass Clean" → standardized: "crass water"
Found existing product: "Water Crass Clean" (standardized: "crass water")
🔍 Standardizing: "Zukini Green" (category: vegetables)
🔍 No similar product found for "Zukini Green" (best similarity: 0.624, threshold: 0.8)
🤖 Using GPT-4o for: "Zukini Green"
🎯 GPT-4o standardized: "Zukini Green" → "zucchini green"
💾 Saving reference product: zucchini green
➕ Added to reference base: "zucchini green" (category: vegetables)
Processing: "Zukini Green" → cleaned: "Zukini Green" → standardized: "zucchini green"
Found existing product: "Zucchini Green" (standardized: "zucchini green")
🔍 Standardizing: "Zukini Yellow" (category: vegetables)
🔍 No similar product found for "Zukini Yellow" (best similarity: 0.581, threshold: 0.8)
🤖 Using GPT-4o for: "Zukini Yellow"
🎯 GPT-4o standardized: "Zukini Yellow" → "zucchini yellow"
💾 Saving reference product: zucchini yellow
➕ Added to reference base: "zucchini yellow" (category: vegetables)
Processing: "Zukini Yellow" → cleaned: "Zukini Yellow" → standardized: "zucchini yellow"
Found existing product: "Zucchini Yellow" (standardized: "zucchini yellow")
🔍 Standardizing: "Apple Fuji" (category: fruits)
🔍 No similar product found for "Apple Fuji" (best similarity: 0.417, threshold: 0.8)
🤖 Using GPT-4o for: "Apple Fuji"
🎯 GPT-4o standardized: "Apple Fuji" → "apple fuji"
💾 Saving reference product: apple fuji
➕ Added to reference base: "apple fuji" (category: fruits)
Processing: "Apple Fuji" → cleaned: "Apple Fuji" → standardized: "apple fuji"
Found existing product: "Apel Fuji" (standardized: "apple fuji")
🔍 Standardizing: "Apple Green Smith Biasa/Asli" (category: fruits)
🎯 Found similar product: "Apple Green Smith Biasa/Asli" → "apple green smith" (similarity: 0.802)
✅ Found via embedding: "Apple Green Smith Biasa/Asli" → "apple green smith" (similarity: 0.802)
Processing: "Apple Green Smith Biasa/Asli" → cleaned: "Apple Green Smith Biasa/Asli" → standardized: "apple green smith"
Found existing product: "Apple Green Smith Biasa/Asli" (standardized: "apple green smith")
🔍 Standardizing: "Apple Manalagi" (category: fruits)
🔍 No similar product found for "Apple Manalagi" (best similarity: 0.621, threshold: 0.8)
🤖 Using GPT-4o for: "Apple Manalagi"
🎯 GPT-4o standardized: "Apple Manalagi" → "apple manalagi"
💾 Saving reference product: apple manalagi
➕ Added to reference base: "apple manalagi" (category: fruits)
Processing: "Apple Manalagi" → cleaned: "Apple Manalagi" → standardized: "apple manalagi"
Found existing product: "Apple Manalagi" (standardized: "apple manalagi")
🔍 Standardizing: "Apple Lokal Besar" (category: fruits)
🔍 No similar product found for "Apple Lokal Besar" (best similarity: 0.518, threshold: 0.8)
🤖 Using GPT-4o for: "Apple Lokal Besar"
🎯 GPT-4o standardized: "Apple Lokal Besar" → "apple large local"
💾 Saving reference product: apple large local
➕ Added to reference base: "apple large local" (category: fruits)
Processing: "Apple Lokal Besar" → cleaned: "Apple Lokal Besar" → standardized: "apple large local"
Found existing product: "Apple Lokal Besar" (standardized: "apple large local")
🔍 Standardizing: "Avocado" (category: fruits)
🎯 Found similar product: "Avocado" → "avocado" (similarity: 1.000)
✅ Found via embedding: "Avocado" → "avocado" (similarity: 1.000)
Processing: "Avocado" → cleaned: "Avocado" → standardized: "avocado"
Found existing product: "Avocado" (standardized: "avocado")
🔍 Standardizing: "Banana Green" (category: fruits)
🔍 No similar product found for "Banana Green" (best similarity: 0.597, threshold: 0.8)
🤖 Using GPT-4o for: "Banana Green"
🎯 GPT-4o standardized: "Banana Green" → "banana green"
💾 Saving reference product: banana green
➕ Added to reference base: "banana green" (category: fruits)
Processing: "Banana Green" → cleaned: "Banana Green" → standardized: "banana green"
Found existing product: "Pisang hijau / ambon" (standardized: "banana green")
🔍 Standardizing: "Banana Kayu" (category: fruits)
🔍 No similar product found for "Banana Kayu" (best similarity: 0.621, threshold: 0.8)
🤖 Using GPT-4o for: "Banana Kayu"
🎯 GPT-4o standardized: "Banana Kayu" → "banana kayu"
💾 Saving reference product: banana kayu
➕ Added to reference base: "banana kayu" (category: fruits)
Processing: "Banana Kayu" → cleaned: "Banana Kayu" → standardized: "banana kayu"
Found existing product: "Banana Kayu" (standardized: "banana kayu")
🔍 Standardizing: "Banana Mas" (category: fruits)
🔍 No similar product found for "Banana Mas" (best similarity: 0.709, threshold: 0.8)
🤖 Using GPT-4o for: "Banana Mas"
🎯 GPT-4o standardized: "Banana Mas" → "banana mas"
💾 Saving reference product: banana mas
➕ Added to reference base: "banana mas" (category: fruits)
Processing: "Banana Mas" → cleaned: "Banana Mas" → standardized: "banana mas"
Found existing product: "Banana Mas" (standardized: "banana mas")
🔍 Standardizing: "Banana Raja" (category: fruits)
🎯 Found similar product: "Banana Raja" → "banana raja" (similarity: 1.000)
✅ Found via embedding: "Banana Raja" → "banana raja" (similarity: 1.000)
Processing: "Banana Raja" → cleaned: "Banana Raja" → standardized: "banana raja"
Found existing product: "Pisang raja" (standardized: "banana raja")
🔍 Standardizing: "Banana Kepok Besar" (category: fruits)
🎯 Found similar product: "Banana Kepok Besar" → "banana kepok" (similarity: 0.904)
✅ Found via embedding: "Banana Kepok Besar" → "banana kepok" (similarity: 0.904)
Processing: "Banana Kepok Besar" → cleaned: "Banana Kepok Besar" → standardized: "banana kepok"
Found existing product: "Banana Kepok" (standardized: "banana kepok")
🔍 Standardizing: "Banana Calvadish" (category: fruits)
🔍 No similar product found for "Banana Calvadish" (best similarity: 0.596, threshold: 0.8)
🤖 Using GPT-4o for: "Banana Calvadish"
🎯 GPT-4o standardized: "Banana Calvadish" → "banana cavendish"
💾 Saving reference product: banana cavendish
➕ Added to reference base: "banana cavendish" (category: fruits)
Processing: "Banana Calvadish" → cleaned: "Banana Calvadish" → standardized: "banana cavendish"
Found existing product: "Banana Cavendis" (standardized: "banana cavendish")
🔍 Standardizing: "Bangkuang" (category: fruits)
🔍 No similar product found for "Bangkuang" (best similarity: 0.502, threshold: 0.8)
🤖 Using GPT-4o for: "Bangkuang"
🎯 GPT-4o standardized: "Bangkuang" → "yam bean"
💾 Saving reference product: yam bean
➕ Added to reference base: "yam bean" (category: fruits)
Processing: "Bangkuang" → cleaned: "Bangkuang" → standardized: "yam bean"
Found existing product: "Bangkuang" (standardized: "yam bean")
🔍 Standardizing: "Buah Naga" (category: fruits)
🔍 No similar product found for "Buah Naga" (best similarity: 0.469, threshold: 0.8)
🤖 Using GPT-4o for: "Buah Naga"
🎯 GPT-4o standardized: "Buah Naga" → "dragon fruit"
💾 Saving reference product: dragon fruit
➕ Added to reference base: "dragon fruit" (category: fruits)
Processing: "Buah Naga" → cleaned: "Buah Naga" → standardized: "dragon fruit"
Found existing product: "Buah Naga" (standardized: "dragon fruit")
🔍 Standardizing: "Grape Black Local" (category: fruits)
🔍 No similar product found for "Grape Black Local" (best similarity: 0.465, threshold: 0.8)
🤖 Using GPT-4o for: "Grape Black Local"
🎯 GPT-4o standardized: "Grape Black Local" → "grape black"
💾 Saving reference product: grape black
➕ Added to reference base: "grape black" (category: fruits)
Processing: "Grape Black Local" → cleaned: "Grape Black Local" → standardized: "grape black"
Found existing product: "Grapes Black" (standardized: "grape black")
🔍 Standardizing: "Grape Red Import" (category: fruits)
🔍 No similar product found for "Grape Red Import" (best similarity: 0.743, threshold: 0.8)
🤖 Using GPT-4o for: "Grape Red Import"
🎯 GPT-4o standardized: "Grape Red Import" → "grape red"
💾 Saving reference product: grape red
➕ Added to reference base: "grape red" (category: fruits)
Processing: "Grape Red Import" → cleaned: "Grape Red Import" → standardized: "grape red"
Found existing product: "Anggur Red import" (standardized: "grape red")
🔍 Standardizing: "Grape Green Import" (category: fruits)
🔍 No similar product found for "Grape Green Import" (best similarity: 0.719, threshold: 0.8)
🤖 Using GPT-4o for: "Grape Green Import"
🎯 GPT-4o standardized: "Grape Green Import" → "grape green"
💾 Saving reference product: grape green
➕ Added to reference base: "grape green" (category: fruits)
Processing: "Grape Green Import" → cleaned: "Grape Green Import" → standardized: "grape green"
Found existing product: "Grapes Green" (standardized: "grape green")
🔍 Standardizing: "Guava" (category: fruits)
🔍 No similar product found for "Guava" (best similarity: 0.578, threshold: 0.8)
🤖 Using GPT-4o for: "Guava"
🎯 GPT-4o standardized: "Guava" → "guava"
💾 Saving reference product: guava
➕ Added to reference base: "guava" (category: fruits)
Processing: "Guava" → cleaned: "Guava" → standardized: "guava"
Found existing product: "Guava" (standardized: "guava")
🔍 Standardizing: "Honey Melon White" (category: fruits)
🔍 No similar product found for "Honey Melon White" (best similarity: 0.617, threshold: 0.8)
🤖 Using GPT-4o for: "Honey Melon White"
🎯 GPT-4o standardized: "Honey Melon White" → "melon honey white"
💾 Saving reference product: melon honey white
➕ Added to reference base: "melon honey white" (category: fruits)
Processing: "Honey Melon White" → cleaned: "Honey Melon White" → standardized: "melon honey white"
Found existing product: "Honey Melon White" (standardized: "melon honey white")
🔍 Standardizing: "Honey Melon Red" (category: fruits)
🔍 No similar product found for "Honey Melon Red" (best similarity: 0.757, threshold: 0.8)
🤖 Using GPT-4o for: "Honey Melon Red"
🎯 GPT-4o standardized: "Honey Melon Red" → "melon honey red"
💾 Saving reference product: melon honey red
➕ Added to reference base: "melon honey red" (category: fruits)
Processing: "Honey Melon Red" → cleaned: "Honey Melon Red" → standardized: "melon honey red"
Found existing product: "Honey Melon Red" (standardized: "melon honey red")
🔍 Standardizing: "Kiwi" (category: fruits)
🔍 No similar product found for "Kiwi" (best similarity: 0.448, threshold: 0.8)
🤖 Using GPT-4o for: "Kiwi"
🎯 GPT-4o standardized: "Kiwi" → "kiwi"
💾 Saving reference product: kiwi
➕ Added to reference base: "kiwi" (category: fruits)
Processing: "Kiwi" → cleaned: "Kiwi" → standardized: "kiwi"
Found existing product: "Kiwi" (standardized: "kiwi")
🔍 Standardizing: "Kelengkeng" (category: fruits)
🔍 No similar product found for "Kelengkeng" (best similarity: 0.333, threshold: 0.8)
🤖 Using GPT-4o for: "Kelengkeng"
🎯 GPT-4o standardized: "Kelengkeng" → "longan"
💾 Saving reference product: longan
➕ Added to reference base: "longan" (category: fruits)
Processing: "Kelengkeng" → cleaned: "Kelengkeng" → standardized: "longan"
Found existing product: "Kelengkeng" (standardized: "longan")
🔍 Standardizing: "Lemon Tea" (category: fruits)
🔍 No similar product found for "Lemon Tea" (best similarity: 0.606, threshold: 0.8)
🤖 Using GPT-4o for: "Lemon Tea"
🎯 GPT-4o standardized: "Lemon Tea" → "tea lemon"
💾 Saving reference product: tea lemon
➕ Added to reference base: "tea lemon" (category: fruits)
Processing: "Lemon Tea" → cleaned: "Lemon Tea" → standardized: "tea lemon"
Found existing product: "Lemon Tea" (standardized: "tea lemon")
🔍 Standardizing: "Lime" (category: Other)
🎯 Found similar product: "Lime" → "lime" (similarity: 1.000)
✅ Found via embedding: "Lime" → "lime" (similarity: 1.000)
Processing: "Lime" → cleaned: "Lime" → standardized: "lime"
Found existing product: "Limo" (standardized: "lime")
🔍 Standardizing: "Mangga Masak" (category: Other)
🔍 No similar product found for "Mangga Masak" (best similarity: 0.547, threshold: 0.8)
🤖 Using GPT-4o for: "Mangga Masak"
🎯 GPT-4o standardized: "Mangga Masak" → "mango ripe"
💾 Saving reference product: mango ripe
➕ Added to reference base: "mango ripe" (category: Other)
Processing: "Mangga Masak" → cleaned: "Mangga Masak" → standardized: "mango ripe"
Found existing product: "Mangga Masak" (standardized: "mango ripe")
🔍 Standardizing: "Mangga Rujak" (category: Other)
🎯 Found similar product: "Mangga Rujak" → "mango rujak" (similarity: 0.809)
✅ Found via embedding: "Mangga Rujak" → "mango rujak" (similarity: 0.809)
Processing: "Mangga Rujak" → cleaned: "Mangga Rujak" → standardized: "mango rujak"
Found existing product: "Mangga Rujak" (standardized: "mango rujak")
🔍 Standardizing: "Orange Lokal California" (category: Other)
🔍 No similar product found for "Orange Lokal California" (best similarity: 0.609, threshold: 0.8)
🤖 Using GPT-4o for: "Orange Lokal California"
🎯 GPT-4o standardized: "Orange Lokal California" → "orange california"
💾 Saving reference product: orange california
➕ Added to reference base: "orange california" (category: Other)
Processing: "Orange Lokal California" → cleaned: "Orange Lokal California" → standardized: "orange california"
Found existing product: "Orange Lokal California" (standardized: "orange california")
🔍 Standardizing: "Pamelo" (category: Other)
🔍 No similar product found for "Pamelo" (best similarity: 0.727, threshold: 0.8)
🤖 Using GPT-4o for: "Pamelo"
🎯 GPT-4o standardized: "Pamelo" → "pomelo"
💾 Saving reference product: pomelo
➕ Added to reference base: "pomelo" (category: Other)
Processing: "Pamelo" → cleaned: "Pamelo" → standardized: "pomelo"
Found existing product: "Pamelo" (standardized: "pomelo")
🔍 Standardizing: "Papaya TW" (category: Other)
🔍 No similar product found for "Papaya TW" (best similarity: 0.728, threshold: 0.8)
🤖 Using GPT-4o for: "Papaya TW"
🎯 GPT-4o standardized: "Papaya TW" → "papaya"
💾 Saving reference product: papaya
➕ Added to reference base: "papaya" (category: Other)
Processing: "Papaya TW" → cleaned: "Papaya TW" → standardized: "papaya"
Found existing product: "Papaya" (standardized: "papaya")
🔍 Standardizing: "Pineapple Madu" (category: Other)
🔍 No similar product found for "Pineapple Madu" (best similarity: 0.683, threshold: 0.8)
🤖 Using GPT-4o for: "Pineapple Madu"
🎯 GPT-4o standardized: "Pineapple Madu" → "pineapple madu"
💾 Saving reference product: pineapple madu
➕ Added to reference base: "pineapple madu" (category: Other)
Processing: "Pineapple Madu" → cleaned: "Pineapple Madu" → standardized: "pineapple madu"
Found existing product: "Pineapple Madu" (standardized: "pineapple madu")
🔍 Standardizing: "Pear Ijo" (category: Other)
🔍 No similar product found for "Pear Ijo" (best similarity: 0.466, threshold: 0.8)
🤖 Using GPT-4o for: "Pear Ijo"
🎯 GPT-4o standardized: "Pear Ijo" → "pear green"
💾 Saving reference product: pear green
➕ Added to reference base: "pear green" (category: Other)
Processing: "Pear Ijo" → cleaned: "Pear Ijo" → standardized: "pear green"
Found existing product: "Pear Hijau" (standardized: "pear green")
🔍 Standardizing: "Pear Kuning Biasa" (category: Other)
🔍 No similar product found for "Pear Kuning Biasa" (best similarity: 0.459, threshold: 0.8)
🤖 Using GPT-4o for: "Pear Kuning Biasa"
🎯 GPT-4o standardized: "Pear Kuning Biasa" → "pear yellow regular"
💾 Saving reference product: pear yellow regular
➕ Added to reference base: "pear yellow regular" (category: Other)
Processing: "Pear Kuning Biasa" → cleaned: "Pear Kuning Biasa" → standardized: "pear yellow regular"
Found existing product: "Pear Kuning Biasa" (standardized: "pear yellow regular")
🔍 Standardizing: "Salak Pondoh" (category: Other)
🔍 No similar product found for "Salak Pondoh" (best similarity: 0.601, threshold: 0.8)
🤖 Using GPT-4o for: "Salak Pondoh"
🎯 GPT-4o standardized: "Salak Pondoh" → "snakefruit pondoh"
💾 Saving reference product: snakefruit pondoh
➕ Added to reference base: "snakefruit pondoh" (category: Other)
Processing: "Salak Pondoh" → cleaned: "Salak Pondoh" → standardized: "snakefruit pondoh"
Found existing product: "Salak Pondoh" (standardized: "snakefruit pondoh")
🔍 Standardizing: "Salak Bali" (category: Other)
🔍 No similar product found for "Salak Bali" (best similarity: 0.630, threshold: 0.8)
🤖 Using GPT-4o for: "Salak Bali"
🎯 GPT-4o standardized: "Salak Bali" → "salak bali"
💾 Saving reference product: salak bali
➕ Added to reference base: "salak bali" (category: Other)
Processing: "Salak Bali" → cleaned: "Salak Bali" → standardized: "salak bali"
Found existing product: "Salak Bali" (standardized: "salak bali")
🔍 Standardizing: "Strawberry Grade A" (category: Other)
🔍 No similar product found for "Strawberry Grade A" (best similarity: 0.668, threshold: 0.8)
🤖 Using GPT-4o for: "Strawberry Grade A"
🎯 GPT-4o standardized: "Strawberry Grade A" → "strawberry grade a"
💾 Saving reference product: strawberry grade a
➕ Added to reference base: "strawberry grade a" (category: Other)
Processing: "Strawberry Grade A" → cleaned: "Strawberry Grade A" → standardized: "strawberry grade a"
Found existing product: "Strawberry Grade A" (standardized: "strawberry grade a")
🔍 Standardizing: "Sunkist" (category: Other)
🔍 No similar product found for "Sunkist" (best similarity: 0.613, threshold: 0.8)
🤖 Using GPT-4o for: "Sunkist"
🎯 GPT-4o standardized: "Sunkist" → "sunkist"
💾 Saving reference product: sunkist
➕ Added to reference base: "sunkist" (category: Other)
Processing: "Sunkist" → cleaned: "Sunkist" → standardized: "sunkist"
Found existing product: "Sunkist" (standardized: "sunkist")
🔍 Standardizing: "Tamarelo" (category: Other)
🔍 No similar product found for "Tamarelo" (best similarity: 0.460, threshold: 0.8)
🤖 Using GPT-4o for: "Tamarelo"
🎯 GPT-4o standardized: "Tamarelo" → "tamarillo"
💾 Saving reference product: tamarillo
➕ Added to reference base: "tamarillo" (category: Other)
Processing: "Tamarelo" → cleaned: "Tamarelo" → standardized: "tamarillo"
Found existing product: "Tamarilo" (standardized: "tamarillo")
🔍 Standardizing: "Tangerine Lumajang Besar" (category: Other)
🔍 No similar product found for "Tangerine Lumajang Besar" (best similarity: 0.706, threshold: 0.8)
🤖 Using GPT-4o for: "Tangerine Lumajang Besar"
🎯 GPT-4o standardized: "Tangerine Lumajang Besar" → "tangerine large"
💾 Saving reference product: tangerine large
➕ Added to reference base: "tangerine large" (category: Other)
Processing: "Tangerine Lumajang Besar" → cleaned: "Tangerine Lumajang Besar" → standardized: "tangerine large"
Found existing product: "Tangerine Lumajang Besar" (standardized: "tangerine large")
🔍 Standardizing: "Tangerine Kintamani" (category: Other)
🔍 No similar product found for "Tangerine Kintamani" (best similarity: 0.784, threshold: 0.8)
🤖 Using GPT-4o for: "Tangerine Kintamani"
🎯 GPT-4o standardized: "Tangerine Kintamani" → "tangerine kintamani"
💾 Saving reference product: tangerine kintamani
➕ Added to reference base: "tangerine kintamani" (category: Other)
Processing: "Tangerine Kintamani" → cleaned: "Tangerine Kintamani" → standardized: "tangerine kintamani"
Found existing product: "Tangerine Kintamani" (standardized: "tangerine kintamani")
🔍 Standardizing: "Water Melon Yellow" (category: Other)
🔍 No similar product found for "Water Melon Yellow" (best similarity: 0.664, threshold: 0.8)
🤖 Using GPT-4o for: "Water Melon Yellow"
🎯 GPT-4o standardized: "Water Melon Yellow" → "melon yellow"
💾 Saving reference product: melon yellow
➕ Added to reference base: "melon yellow" (category: Other)
Processing: "Water Melon Yellow" → cleaned: "Water Melon Yellow" → standardized: "melon yellow"
Found existing product: "Water Melon Yellow" (standardized: "melon yellow")
🔍 Standardizing: "Water Melon Non Seed" (category: Other)
🔍 No similar product found for "Water Melon Non Seed" (best similarity: 0.638, threshold: 0.8)
🤖 Using GPT-4o for: "Water Melon Non Seed"
🎯 GPT-4o standardized: "Water Melon Non Seed" → "melon seedless"
💾 Saving reference product: melon seedless
➕ Added to reference base: "melon seedless" (category: Other)
Processing: "Water Melon Non Seed" → cleaned: "Water Melon Non Seed" → standardized: "melon seedless"
Found existing product: "Water Melon Non Seed" (standardized: "melon seedless")
🔍 Standardizing: "Herb Arigano" (category: Other)
🔍 No similar product found for "Herb Arigano" (best similarity: 0.506, threshold: 0.8)
🤖 Using GPT-4o for: "Herb Arigano"
🎯 GPT-4o standardized: "Herb Arigano" → "oregano herb"
💾 Saving reference product: oregano herb
➕ Added to reference base: "oregano herb" (category: Other)
Processing: "Herb Arigano" → cleaned: "Herb Arigano" → standardized: "oregano herb"
Found existing product: "Herb Arigano" (standardized: "oregano herb")
🔍 Standardizing: "Herb Marjoran" (category: Other)
🔍 No similar product found for "Herb Marjoran" (best similarity: 0.501, threshold: 0.8)
🤖 Using GPT-4o for: "Herb Marjoran"
🎯 GPT-4o standardized: "Herb Marjoran" → "marjoram herb"
💾 Saving reference product: marjoram herb
➕ Added to reference base: "marjoram herb" (category: Other)
Processing: "Herb Marjoran" → cleaned: "Herb Marjoran" → standardized: "marjoram herb"
Found existing product: "Herb Marjoran" (standardized: "marjoram herb")
🔍 Standardizing: "Herb Mint" (category: Other)
🔍 No similar product found for "Herb Mint" (best similarity: 0.791, threshold: 0.8)
🤖 Using GPT-4o for: "Herb Mint"
🎯 GPT-4o standardized: "Herb Mint" → "mint herb"
💾 Saving reference product: mint herb
➕ Added to reference base: "mint herb" (category: Other)
Processing: "Herb Mint" → cleaned: "Herb Mint" → standardized: "mint herb"
Found existing product: "Herb Mint" (standardized: "mint herb")
🔍 Standardizing: "Herb Rosmery" (category: Other)
🔍 No similar product found for "Herb Rosmery" (best similarity: 0.557, threshold: 0.8)
🤖 Using GPT-4o for: "Herb Rosmery"
🎯 GPT-4o standardized: "Herb Rosmery" → "rosemary herb"
💾 Saving reference product: rosemary herb
➕ Added to reference base: "rosemary herb" (category: Other)
Processing: "Herb Rosmery" → cleaned: "Herb Rosmery" → standardized: "rosemary herb"
Found existing product: "Herb Rosmery" (standardized: "rosemary herb")
🔍 Standardizing: "Herb Sage" (category: Other)
🔍 No similar product found for "Herb Sage" (best similarity: 0.711, threshold: 0.8)
🤖 Using GPT-4o for: "Herb Sage"
🎯 GPT-4o standardized: "Herb Sage" → "sage herb"
💾 Saving reference product: sage herb
➕ Added to reference base: "sage herb" (category: Other)
Processing: "Herb Sage" → cleaned: "Herb Sage" → standardized: "sage herb"
Found existing product: "Herb Sage" (standardized: "sage herb")
🔍 Standardizing: "Herb Taragon" (category: vegetables)
🔍 No similar product found for "Herb Taragon" (best similarity: 0.707, threshold: 0.8)
🤖 Using GPT-4o for: "Herb Taragon"
🎯 GPT-4o standardized: "Herb Taragon" → "tarragon herb"
💾 Saving reference product: tarragon herb
➕ Added to reference base: "tarragon herb" (category: vegetables)
Processing: "Herb Taragon" → cleaned: "Herb Taragon" → standardized: "tarragon herb"
Found existing product: "Herb Taragon" (standardized: "tarragon herb")
🔍 Standardizing: "Herb Theme" (category: vegetables)
🔍 No similar product found for "Herb Theme" (best similarity: 0.650, threshold: 0.8)
🤖 Using GPT-4o for: "Herb Theme"
🎯 GPT-4o standardized: "Herb Theme" → "herb thyme"
💾 Saving reference product: herb thyme
➕ Added to reference base: "herb thyme" (category: vegetables)
Processing: "Herb Theme" → cleaned: "Herb Theme" → standardized: "herb thyme"
Found existing product: "Thyme" (standardized: "herb thyme")
🔍 Standardizing: "Lettuce Bater" (category: vegetables)
🔍 No similar product found for "Lettuce Bater" (best similarity: 0.728, threshold: 0.8)
🤖 Using GPT-4o for: "Lettuce Bater"
🎯 GPT-4o standardized: "Lettuce Bater" → "lettuce butter"
💾 Saving reference product: lettuce butter
➕ Added to reference base: "lettuce butter" (category: vegetables)
Processing: "Lettuce Bater" → cleaned: "Lettuce Bater" → standardized: "lettuce butter"
Found existing product: "Lettuce Bater" (standardized: "lettuce butter")
🔍 Standardizing: "Kacang polong/frozen" (category: vegetables)
🔍 No similar product found for "Kacang polong/frozen" (best similarity: 0.421, threshold: 0.8)
🤖 Using GPT-4o for: "Kacang polong/frozen"
🎯 GPT-4o standardized: "Kacang polong/frozen" → "pea frozen"
💾 Saving reference product: pea frozen
➕ Added to reference base: "pea frozen" (category: vegetables)
Processing: "Kacang polong/frozen" → cleaned: "Kacang polong/frozen" → standardized: "pea frozen"
Found existing product: "Kacang Polong/Frozen" (standardized: "pea frozen")
🔍 Standardizing: "Icing sugar" (category: grocery)
🔍 No similar product found for "Icing sugar" (best similarity: 0.000, threshold: 0.8)
🤖 Using GPT-4o for: "Icing sugar"
🎯 GPT-4o standardized: "Icing sugar" → "sugar icing"
💾 Saving reference product: sugar icing
➕ Added to reference base: "sugar icing" (category: grocery)
Processing: "Icing sugar" → cleaned: "Icing sugar" → standardized: "sugar icing"
Found existing product: "Icing Sugar" (standardized: "sugar icing")
🔍 Standardizing: "Hand soap 5ltr" (category: grocery)
🔍 No similar product found for "Hand soap 5ltr" (best similarity: 0.189, threshold: 0.8)
🤖 Using GPT-4o for: "Hand soap 5ltr"
🎯 GPT-4o standardized: "Hand soap 5ltr" → "soap hand"
💾 Saving reference product: soap hand
➕ Added to reference base: "soap hand" (category: grocery)
Processing: "Hand soap 5ltr" → cleaned: "Hand soap 5ltr" → standardized: "soap hand"
Found existing product: "Hand Soap 5ltr" (standardized: "soap hand")
🔍 Standardizing: "Oyster sauce" (category: grocery)
🔍 No similar product found for "Oyster sauce" (best similarity: 0.297, threshold: 0.8)
🤖 Using GPT-4o for: "Oyster sauce"
🎯 GPT-4o standardized: "Oyster sauce" → "sauce oyster"
💾 Saving reference product: sauce oyster
➕ Added to reference base: "sauce oyster" (category: grocery)
Processing: "Oyster sauce" → cleaned: "Oyster sauce" → standardized: "sauce oyster"
Found existing product: "Oyster Sauce" (standardized: "sauce oyster")
🔍 Standardizing: "Sesame oil" (category: grocery)
🔍 No similar product found for "Sesame oil" (best similarity: 0.433, threshold: 0.8)
🤖 Using GPT-4o for: "Sesame oil"
🎯 GPT-4o standardized: "Sesame oil" → "oil sesame"
💾 Saving reference product: oil sesame
➕ Added to reference base: "oil sesame" (category: grocery)
Processing: "Sesame oil" → cleaned: "Sesame oil" → standardized: "oil sesame"
Found existing product: "Sesame Oil" (standardized: "oil sesame")
🔍 Standardizing: "Black oliv" (category: grocery)
🔍 No similar product found for "Black oliv" (best similarity: 0.448, threshold: 0.8)
🤖 Using GPT-4o for: "Black oliv"
🎯 GPT-4o standardized: "Black oliv" → "olive black"
💾 Saving reference product: olive black
➕ Added to reference base: "olive black" (category: grocery)
Processing: "Black oliv" → cleaned: "Black oliv" → standardized: "olive black"
Found existing product: "Black Oliv" (standardized: "olive black")
🔍 Standardizing: "Cuka dixi" (category: grocery)
🔍 No similar product found for "Cuka dixi" (best similarity: 0.224, threshold: 0.8)
🤖 Using GPT-4o for: "Cuka dixi"
🎯 GPT-4o standardized: "Cuka dixi" → "vinegar apple"
💾 Saving reference product: vinegar apple
➕ Added to reference base: "vinegar apple" (category: grocery)
Processing: "Cuka dixi" → cleaned: "Cuka dixi" → standardized: "vinegar apple"
Created new product: "Cuka dixi" (standardized: "vinegar apple")
🔍 Standardizing: "Toping caramel" (category: grocery)
🔍 No similar product found for "Toping caramel" (best similarity: 0.452, threshold: 0.8)
🤖 Using GPT-4o for: "Toping caramel"
🎯 GPT-4o standardized: "Toping caramel" → "caramel topping"
💾 Saving reference product: caramel topping
➕ Added to reference base: "caramel topping" (category: grocery)
Processing: "Toping caramel" → cleaned: "Toping caramel" → standardized: "caramel topping"
Found existing product: "Toping Caramel" (standardized: "caramel topping")
🔍 Standardizing: "Honey bloosom" (category: grocery)
🔍 No similar product found for "Honey bloosom" (best similarity: 0.298, threshold: 0.8)
🤖 Using GPT-4o for: "Honey bloosom"
🎯 GPT-4o standardized: "Honey bloosom" → "honey blossom"
💾 Saving reference product: honey blossom
➕ Added to reference base: "honey blossom" (category: grocery)
Processing: "Honey bloosom" → cleaned: "Honey bloosom" → standardized: "honey blossom"
Found existing product: "Honey Bloosom" (standardized: "honey blossom")
🔍 Standardizing: "Sos 5ltr" (category: grocery)
🔍 No similar product found for "Sos 5ltr" (best similarity: 0.327, threshold: 0.8)
🤖 Using GPT-4o for: "Sos 5ltr"
🎯 GPT-4o standardized: "Sos 5ltr" → "sauce 5ltr"
💾 Saving reference product: sauce 5ltr
➕ Added to reference base: "sauce 5ltr" (category: grocery)
Processing: "Sos 5ltr" → cleaned: "Sos 5ltr" → standardized: "sauce 5ltr"
Found existing product: "Sos 5ltr" (standardized: "sauce 5ltr")
🔍 Standardizing: "Kecap manis Abc" (category: grocery)
🔍 No similar product found for "Kecap manis Abc" (best similarity: 0.338, threshold: 0.8)
🤖 Using GPT-4o for: "Kecap manis Abc"
🎯 GPT-4o standardized: "Kecap manis Abc" → "soy sauce sweet"
💾 Saving reference product: soy sauce sweet
➕ Added to reference base: "soy sauce sweet" (category: grocery)
Processing: "Kecap manis Abc" → cleaned: "Kecap manis Abc" → standardized: "soy sauce sweet"
Found existing product: "Kecap Manis Abc" (standardized: "soy sauce sweet")
🔍 Standardizing: "Garam dolphin" (category: grocery)
🔍 No similar product found for "Garam dolphin" (best similarity: 0.314, threshold: 0.8)
🤖 Using GPT-4o for: "Garam dolphin"
🎯 GPT-4o standardized: "Garam dolphin" → "dolphin garam"
💾 Saving reference product: dolphin garam
➕ Added to reference base: "dolphin garam" (category: grocery)
Processing: "Garam dolphin" → cleaned: "Garam dolphin" → standardized: "dolphin garam"
Found existing product: "Garam Dolphin" (standardized: "dolphin garam")
🔍 Standardizing: "Hazelnut" (category: grocery)
🔍 No similar product found for "Hazelnut" (best similarity: 0.443, threshold: 0.8)
🤖 Using GPT-4o for: "Hazelnut"
🎯 GPT-4o standardized: "Hazelnut" → "nut hazelnut"
💾 Saving reference product: nut hazelnut
➕ Added to reference base: "nut hazelnut" (category: grocery)
Processing: "Hazelnut" → cleaned: "Hazelnut" → standardized: "nut hazelnut"
Found existing product: "Hazelnut" (standardized: "nut hazelnut")
🔍 Standardizing: "Oliv oil 5 ltr" (category: grocery)
🔍 No similar product found for "Oliv oil 5 ltr" (best similarity: 0.605, threshold: 0.8)
🤖 Using GPT-4o for: "Oliv oil 5 ltr"
🎯 GPT-4o standardized: "Oliv oil 5 ltr" → "oil olive"
💾 Saving reference product: oil olive
➕ Added to reference base: "oil olive" (category: grocery)
Processing: "Oliv oil 5 ltr" → cleaned: "Oliv oil 5 ltr" → standardized: "oil olive"
Created new product: "Oliv oil 5 ltr" (standardized: "oil olive")
🔍 Standardizing: "Teh sariwangi(100 pc)" (category: grocery)
🔍 No similar product found for "Teh sariwangi(100 pc)" (best similarity: 0.278, threshold: 0.8)
🤖 Using GPT-4o for: "Teh sariwangi(100 pc)"
🎯 GPT-4o standardized: "Teh sariwangi(100 pc)" → "tea"
💾 Saving reference product: tea
➕ Added to reference base: "tea" (category: grocery)
Processing: "Teh sariwangi(100 pc)" → cleaned: "Teh sariwangi(100 pc)" → standardized: "tea"
Found existing product: "Teh Sariwangi (100 pc)" (standardized: "tea")
🔍 Standardizing: "Baking powder" (category: grocery)
🔍 No similar product found for "Baking powder" (best similarity: 0.434, threshold: 0.8)
🤖 Using GPT-4o for: "Baking powder"
🎯 GPT-4o standardized: "Baking powder" → "powder baking"
💾 Saving reference product: powder baking
➕ Added to reference base: "powder baking" (category: grocery)
Processing: "Baking powder" → cleaned: "Baking powder" → standardized: "powder baking"
Found existing product: "baking powder royal" (standardized: "powder baking")
🔍 Standardizing: "Tabasco 60ml" (category: Other)
🔍 No similar product found for "Tabasco 60ml" (best similarity: 0.422, threshold: 0.8)
🤖 Using GPT-4o for: "Tabasco 60ml"
🎯 GPT-4o standardized: "Tabasco 60ml" → "sauce hot"
💾 Saving reference product: sauce hot
➕ Added to reference base: "sauce hot" (category: Other)
Processing: "Tabasco 60ml" → cleaned: "Tabasco 60ml" → standardized: "sauce hot"
Created new product: "Tabasco 60ml" (standardized: "sauce hot")
🔍 Standardizing: "Tepung Segitiga Biru" (category: Other)
🔍 No similar product found for "Tepung Segitiga Biru" (best similarity: 0.388, threshold: 0.8)
🤖 Using GPT-4o for: "Tepung Segitiga Biru"
🎯 GPT-4o standardized: "Tepung Segitiga Biru" → "flour wheat"
💾 Saving reference product: flour wheat
➕ Added to reference base: "flour wheat" (category: Other)
Processing: "Tepung Segitiga Biru" → cleaned: "Tepung Segitiga Biru" → standardized: "flour wheat"
Created new product: "Tepung Segitiga Biru" (standardized: "flour wheat")
🔍 Standardizing: "Vixal" (category: Other)
🔍 No similar product found for "Vixal" (best similarity: 0.347, threshold: 0.8)
🤖 Using GPT-4o for: "Vixal"
🎯 GPT-4o standardized: "Vixal" → "vixal"
💾 Saving reference product: vixal
➕ Added to reference base: "vixal" (category: Other)
Processing: "Vixal" → cleaned: "Vixal" → standardized: "vixal"
Created new product: "Vixal" (standardized: "vixal")
🔍 Standardizing: "Corn Starch" (category: Other)
🔍 No similar product found for "Corn Starch" (best similarity: 0.439, threshold: 0.8)
🤖 Using GPT-4o for: "Corn Starch"
🎯 GPT-4o standardized: "Corn Starch" → "starch corn"
💾 Saving reference product: starch corn
➕ Added to reference base: "starch corn" (category: Other)
Processing: "Corn Starch" → cleaned: "Corn Starch" → standardized: "starch corn"
Created new product: "Corn Starch" (standardized: "starch corn")
🔍 Standardizing: "Santan Kara 1ltr" (category: Other)
🔍 No similar product found for "Santan Kara 1ltr" (best similarity: 0.340, threshold: 0.8)
🤖 Using GPT-4o for: "Santan Kara 1ltr"
🎯 GPT-4o standardized: "Santan Kara 1ltr" → "coconut milk"
💾 Saving reference product: coconut milk
➕ Added to reference base: "coconut milk" (category: Other)
Processing: "Santan Kara 1ltr" → cleaned: "Santan Kara 1ltr" → standardized: "coconut milk"
Found existing product: "santan kara" (standardized: "coconut milk")
🔍 Standardizing: "Tomato Sauce" (category: Vegetables)
🔍 No similar product found for "Tomato Sauce" (best similarity: 0.758, threshold: 0.85)
🤖 Using GPT-4o for: "Tomato Sauce"
🎯 GPT-4o standardized: "Tomato Sauce" → "sauce tomato"
💾 Saving reference product: sauce tomato
➕ Added to reference base: "sauce tomato" (category: Vegetables)
Processing: "Tomato Sauce" → cleaned: "Tomato Sauce" → standardized: "sauce tomato"
Created new product: "Tomato Sauce" (standardized: "sauce tomato")
🔍 Standardizing: "Chili Sauce" (category: Other)
🔍 No similar product found for "Chili Sauce" (best similarity: 0.726, threshold: 0.8)
🤖 Using GPT-4o for: "Chili Sauce"
🎯 GPT-4o standardized: "Chili Sauce" → "sauce chili"
💾 Saving reference product: sauce chili
➕ Added to reference base: "sauce chili" (category: Other)
Processing: "Chili Sauce" → cleaned: "Chili Sauce" → standardized: "sauce chili"
Created new product: "Chili Sauce" (standardized: "sauce chili")
🔍 Standardizing: "Cocing Cream Anchor" (category: Other)
🔍 No similar product found for "Cocing Cream Anchor" (best similarity: 0.462, threshold: 0.8)
🤖 Using GPT-4o for: "Cocing Cream Anchor"
🎯 GPT-4o standardized: "Cocing Cream Anchor" → "cream cooking"
💾 Saving reference product: cream cooking
➕ Added to reference base: "cream cooking" (category: Other)
Processing: "Cocing Cream Anchor" → cleaned: "Cocing Cream Anchor" → standardized: "cream cooking"
Found existing product: "cooking cream elle" (standardized: "cream cooking")
🔍 Standardizing: "Fresh Milk Grenfields" (category: Dairy)
🔍 No similar product found for "Fresh Milk Grenfields" (best similarity: 0.527, threshold: 0.83)
🤖 Using GPT-4o for: "Fresh Milk Grenfields"
🎯 GPT-4o standardized: "Fresh Milk Grenfields" → "milk fresh"
💾 Saving reference product: milk fresh
➕ Added to reference base: "milk fresh" (category: Dairy)
Processing: "Fresh Milk Grenfields" → cleaned: "Fresh Milk Grenfields" → standardized: "milk fresh"
Created new product: "Fresh Milk Grenfields" (standardized: "milk fresh")
🔍 Standardizing: "Best Clink Wraf Besar" (category: Other)
🔍 No similar product found for "Best Clink Wraf Besar" (best similarity: 0.373, threshold: 0.8)
🤖 Using GPT-4o for: "Best Clink Wraf Besar"
🎯 GPT-4o standardized: "Best Clink Wraf Besar" → "wraf besar"
💾 Saving reference product: wraf besar
➕ Added to reference base: "wraf besar" (category: Other)
Processing: "Best Clink Wraf Besar" → cleaned: "Best Clink Wraf Besar" → standardized: "wraf besar"
Created new product: "Best Clink Wraf Besar" (standardized: "wraf besar")
🔍 Standardizing: "Tepung Segitiga Biru" (category: Other)
🔍 No similar product found for "Tepung Segitiga Biru" (best similarity: 0.388, threshold: 0.8)
🤖 Using GPT-4o for: "Tepung Segitiga Biru"
🎯 GPT-4o standardized: "Tepung Segitiga Biru" → "flour wheat"
💾 Saving reference product: flour wheat
➕ Added to reference base: "flour wheat" (category: Other)
Processing: "Tepung Segitiga Biru" → cleaned: "Tepung Segitiga Biru" → standardized: "flour wheat"
Created new product: "Tepung Segitiga Biru" (standardized: "flour wheat")
🔍 Standardizing: "Bread Crump" (category: Grains)
🔍 No similar product found for "Bread Crump" (best similarity: 0.363, threshold: 0.8)
🤖 Using GPT-4o for: "Bread Crump"
🎯 GPT-4o standardized: "Bread Crump" → "crumb bread"
💾 Saving reference product: crumb bread
➕ Added to reference base: "crumb bread" (category: Grains)
Processing: "Bread Crump" → cleaned: "Bread Crump" → standardized: "crumb bread"
Found existing product: "bread crumb" (standardized: "crumb bread")
🔍 Standardizing: "Krupuk Udang Fina" (category: Other)
🔍 No similar product found for "Krupuk Udang Fina" (best similarity: 0.472, threshold: 0.8)
🤖 Using GPT-4o for: "Krupuk Udang Fina"
🎯 GPT-4o standardized: "Krupuk Udang Fina" → "cracker shrimp"
💾 Saving reference product: cracker shrimp
➕ Added to reference base: "cracker shrimp" (category: Other)
Processing: "Krupuk Udang Fina" → cleaned: "Krupuk Udang Fina" → standardized: "cracker shrimp"
Found existing product: "krupuk udang finna/pck" (standardized: "cracker shrimp")
🔍 Standardizing: "Plastik 1kg" (category: Other)
🔍 No similar product found for "Plastik 1kg" (best similarity: 0.588, threshold: 0.8)
🤖 Using GPT-4o for: "Plastik 1kg"
🎯 GPT-4o standardized: "Plastik 1kg" → "plastic"
💾 Saving reference product: plastic
➕ Added to reference base: "plastic" (category: Other)
Processing: "Plastik 1kg" → cleaned: "Plastik 1kg" → standardized: "plastic"
Created new product: "Plastik 1kg" (standardized: "plastic")
🔍 Standardizing: "Plastik Sampah" (category: Other)
🔍 No similar product found for "Plastik Sampah" (best similarity: 0.662, threshold: 0.8)
🤖 Using GPT-4o for: "Plastik Sampah"
🎯 GPT-4o standardized: "Plastik Sampah" → "bag trash"
💾 Saving reference product: bag trash
➕ Added to reference base: "bag trash" (category: Other)
Processing: "Plastik Sampah" → cleaned: "Plastik Sampah" → standardized: "bag trash"
Created new product: "Plastik Sampah" (standardized: "bag trash")
🔍 Standardizing: "Aguarkin" (category: Other)
🔍 No similar product found for "Aguarkin" (best similarity: 0.423, threshold: 0.8)
🤖 Using GPT-4o for: "Aguarkin"
🎯 GPT-4o standardized: "Aguarkin" → "aguarkin"
💾 Saving reference product: aguarkin
➕ Added to reference base: "aguarkin" (category: Other)
Processing: "Aguarkin" → cleaned: "Aguarkin" → standardized: "aguarkin"
Created new product: "Aguarkin" (standardized: "aguarkin")
🔍 Standardizing: "Cashew Nut" (category: Other)
🎯 Found similar product: "Cashew Nut" → "nut cashew" (similarity: 0.809)
✅ Found via embedding: "Cashew Nut" → "nut cashew" (similarity: 0.809)
Processing: "Cashew Nut" → cleaned: "Cashew Nut" → standardized: "nut cashew"
Found existing product: "Cashew Nut/ mente" (standardized: "nut cashew")
🔍 Standardizing: "Dijon Mustard Clovis" (category: Other)
🔍 No similar product found for "Dijon Mustard Clovis" (best similarity: 0.476, threshold: 0.8)
🤖 Using GPT-4o for: "Dijon Mustard Clovis"
🎯 GPT-4o standardized: "Dijon Mustard Clovis" → "mustard dijon"
💾 Saving reference product: mustard dijon
➕ Added to reference base: "mustard dijon" (category: Other)
Processing: "Dijon Mustard Clovis" → cleaned: "Dijon Mustard Clovis" → standardized: "mustard dijon"
Created new product: "Dijon Mustard Clovis" (standardized: "mustard dijon")
🔍 Standardizing: "Tomato Peeled" (category: Vegetables)
🔍 No similar product found for "Tomato Peeled" (best similarity: 0.704, threshold: 0.85)
🤖 Using GPT-4o for: "Tomato Peeled"
🎯 GPT-4o standardized: "Tomato Peeled" → "tomato peeled"
💾 Saving reference product: tomato peeled
➕ Added to reference base: "tomato peeled" (category: Vegetables)
Processing: "Tomato Peeled" → cleaned: "Tomato Peeled" → standardized: "tomato peeled"
Created new product: "Tomato Peeled" (standardized: "tomato peeled")
🔍 Standardizing: "Chickpeas Cirio" (category: Other)
🔍 No similar product found for "Chickpeas Cirio" (best similarity: 0.490, threshold: 0.8)
🤖 Using GPT-4o for: "Chickpeas Cirio"
🎯 GPT-4o standardized: "Chickpeas Cirio" → "chickpea"
💾 Saving reference product: chickpea
➕ Added to reference base: "chickpea" (category: Other)
Processing: "Chickpeas Cirio" → cleaned: "Chickpeas Cirio" → standardized: "chickpea"
Created new product: "Chickpeas Cirio" (standardized: "chickpea")
🔍 Standardizing: "Mayonaise" (category: Other)
🔍 No similar product found for "Mayonaise" (best similarity: 0.566, threshold: 0.8)
🤖 Using GPT-4o for: "Mayonaise"
🎯 GPT-4o standardized: "Mayonaise" → "mayonnaise"
💾 Saving reference product: mayonnaise
➕ Added to reference base: "mayonnaise" (category: Other)
Processing: "Mayonaise" → cleaned: "Mayonaise" → standardized: "mayonnaise"
Created new product: "Mayonaise" (standardized: "mayonnaise")
🔍 Standardizing: "Cranbery Juice" (category: Other)
🔍 No similar product found for "Cranbery Juice" (best similarity: 0.412, threshold: 0.8)
🤖 Using GPT-4o for: "Cranbery Juice"
🎯 GPT-4o standardized: "Cranbery Juice" → "juice cranberry"
💾 Saving reference product: juice cranberry
➕ Added to reference base: "juice cranberry" (category: Other)
Processing: "Cranbery Juice" → cleaned: "Cranbery Juice" → standardized: "juice cranberry"
Created new product: "Cranbery Juice" (standardized: "juice cranberry")
🔍 Standardizing: "Sunlight Galon 5ltr" (category: Other)
🔍 No similar product found for "Sunlight Galon 5ltr" (best similarity: 0.381, threshold: 0.8)
🤖 Using GPT-4o for: "Sunlight Galon 5ltr"
🎯 GPT-4o standardized: "Sunlight Galon 5ltr" → "gallon 5 liter"
💾 Saving reference product: gallon 5 liter
➕ Added to reference base: "gallon 5 liter" (category: Other)
Processing: "Sunlight Galon 5ltr" → cleaned: "Sunlight Galon 5ltr" → standardized: "gallon 5 liter"
Created new product: "Sunlight Galon 5ltr" (standardized: "gallon 5 liter")
🔍 Standardizing: "Red Grape Vinegar" (category: Other)
🔍 No similar product found for "Red Grape Vinegar" (best similarity: 0.638, threshold: 0.8)
🤖 Using GPT-4o for: "Red Grape Vinegar"
🎯 GPT-4o standardized: "Red Grape Vinegar" → "vinegar grape red"
💾 Saving reference product: vinegar grape red
➕ Added to reference base: "vinegar grape red" (category: Other)
Processing: "Red Grape Vinegar" → cleaned: "Red Grape Vinegar" → standardized: "vinegar grape red"
Created new product: "Red Grape Vinegar" (standardized: "vinegar grape red")
🔍 Standardizing: "Aplev Vinegar" (category: Other)
🔍 No similar product found for "Aplev Vinegar" (best similarity: 0.504, threshold: 0.8)
🤖 Using GPT-4o for: "Aplev Vinegar"
🎯 GPT-4o standardized: "Aplev Vinegar" → "vinegar apple"
💾 Saving reference product: vinegar apple
➕ Added to reference base: "vinegar apple" (category: Other)
Processing: "Aplev Vinegar" → cleaned: "Aplev Vinegar" → standardized: "vinegar apple"
Found existing product: "Cuka dixi" (standardized: "vinegar apple")
🔍 Standardizing: "Susu Kental Manis" (category: Other)
🔍 No similar product found for "Susu Kental Manis" (best similarity: 0.418, threshold: 0.8)
🤖 Using GPT-4o for: "Susu Kental Manis"
 ✓ Compiled in 17ms
🎯 GPT-4o standardized: "Susu Kental Manis" → "milk sweetened condensed"
💾 Saving reference product: milk sweetened condensed
➕ Added to reference base: "milk sweetened condensed" (category: Other)
Processing: "Susu Kental Manis" → cleaned: "Susu Kental Manis" → standardized: "milk sweetened condensed"
Created new product: "Susu Kental Manis" (standardized: "milk sweetened condensed")
🔍 Standardizing: "Minyak Goreng 5 Ltr" (category: Other)
🔍 No similar product found for "Minyak Goreng 5 Ltr" (best similarity: 0.459, threshold: 0.8)
🤖 Using GPT-4o for: "Minyak Goreng 5 Ltr"
🎯 GPT-4o standardized: "Minyak Goreng 5 Ltr" → "oil cooking 5 liter"
💾 Saving reference product: oil cooking 5 liter
➕ Added to reference base: "oil cooking 5 liter" (category: Other)
Processing: "Minyak Goreng 5 Ltr" → cleaned: "Minyak Goreng 5 Ltr" → standardized: "oil cooking 5 liter"
Created new product: "Minyak Goreng 5 Ltr" (standardized: "oil cooking 5 liter")
🔍 Standardizing: "Gula Merah" (category: Other)
🔍 No similar product found for "Gula Merah" (best similarity: 0.535, threshold: 0.8)
🤖 Using GPT-4o for: "Gula Merah"
🎯 GPT-4o standardized: "Gula Merah" → "sugar palm"
💾 Saving reference product: sugar palm
➕ Added to reference base: "sugar palm" (category: Other)
Processing: "Gula Merah" → cleaned: "Gula Merah" → standardized: "sugar palm"
Found existing product: "Gula Merah" (standardized: "sugar palm")
🔍 Standardizing: "Gula Pasir Import" (category: Other)
🔍 No similar product found for "Gula Pasir Import" (best similarity: 0.474, threshold: 0.8)
🤖 Using GPT-4o for: "Gula Pasir Import"
🎯 GPT-4o standardized: "Gula Pasir Import" → "sugar import"
💾 Saving reference product: sugar import
➕ Added to reference base: "sugar import" (category: Other)
Processing: "Gula Pasir Import" → cleaned: "Gula Pasir Import" → standardized: "sugar import"
Created new product: "Gula Pasir Import" (standardized: "sugar import")
🔍 Standardizing: "Brown sugar" (category: spices)
🔍 No similar product found for "Brown sugar" (best similarity: 0.435, threshold: 0.8)
🤖 Using GPT-4o for: "Brown sugar"
🎯 GPT-4o standardized: "Brown sugar" → "sugar brown"
💾 Saving reference product: sugar brown
➕ Added to reference base: "sugar brown" (category: spices)
Processing: "Brown sugar" → cleaned: "Brown sugar" → standardized: "sugar brown"
Found existing product: "brown sugar" (standardized: "sugar brown")
🔍 Standardizing: "Cumin ground" (category: spices)
🔍 No similar product found for "Cumin ground" (best similarity: 0.771, threshold: 0.8)
🤖 Using GPT-4o for: "Cumin ground"
🎯 GPT-4o standardized: "Cumin ground" → "cumin ground"
💾 Saving reference product: cumin ground
➕ Added to reference base: "cumin ground" (category: spices)
Processing: "Cumin ground" → cleaned: "Cumin ground" → standardized: "cumin ground"
Created new product: "Cumin ground" (standardized: "cumin ground")
🔍 Standardizing: "Coriander ground" (category: spices)
🔍 No similar product found for "Coriander ground" (best similarity: 0.673, threshold: 0.8)
🤖 Using GPT-4o for: "Coriander ground"
🎯 GPT-4o standardized: "Coriander ground" → "coriander ground"
💾 Saving reference product: coriander ground
➕ Added to reference base: "coriander ground" (category: spices)
Processing: "Coriander ground" → cleaned: "Coriander ground" → standardized: "coriander ground"
Created new product: "Coriander ground" (standardized: "coriander ground")
🔍 Standardizing: "Kemiri" (category: spices)
🔍 No similar product found for "Kemiri" (best similarity: 0.359, threshold: 0.8)
🤖 Using GPT-4o for: "Kemiri"
🎯 GPT-4o standardized: "Kemiri" → "candle nut"
💾 Saving reference product: candle nut
➕ Added to reference base: "candle nut" (category: spices)
Processing: "Kemiri" → cleaned: "Kemiri" → standardized: "candle nut"
Created new product: "Kemiri" (standardized: "candle nut")
🔍 Standardizing: "Whole corn boundel" (category: vegetables)
🔍 No similar product found for "Whole corn boundel" (best similarity: 0.582, threshold: 0.8)
🤖 Using GPT-4o for: "Whole corn boundel"
🎯 GPT-4o standardized: "Whole corn boundel" → "corn whole"
💾 Saving reference product: corn whole
➕ Added to reference base: "corn whole" (category: vegetables)
Processing: "Whole corn boundel" → cleaned: "Whole corn boundel" → standardized: "corn whole"
Found existing product: "Whole corn boundel" (standardized: "corn whole")
🔍 Standardizing: "Tomato paste kecil" (category: vegetables)
🔍 No similar product found for "Tomato paste kecil" (best similarity: 0.605, threshold: 0.8)
🤖 Using GPT-4o for: "Tomato paste kecil"
🎯 GPT-4o standardized: "Tomato paste kecil" → "tomato paste small"
💾 Saving reference product: tomato paste small
➕ Added to reference base: "tomato paste small" (category: vegetables)
Processing: "Tomato paste kecil" → cleaned: "Tomato paste kecil" → standardized: "tomato paste small"
Created new product: "Tomato paste kecil" (standardized: "tomato paste small")
🔍 Standardizing: "Chicken brest" (category: meat)
🔍 No similar product found for "Chicken brest" (best similarity: 0.651, threshold: 0.8)
🤖 Using GPT-4o for: "Chicken brest"
🎯 GPT-4o standardized: "Chicken brest" → "brest chicken"
💾 Saving reference product: brest chicken
➕ Added to reference base: "brest chicken" (category: meat)
Processing: "Chicken brest" → cleaned: "Chicken brest" → standardized: "brest chicken"
Found existing product: "Chicken brest" (standardized: "brest chicken")
🔍 Standardizing: "Chicken wings" (category: meat)
🔍 No similar product found for "Chicken wings" (best similarity: 0.653, threshold: 0.8)
🤖 Using GPT-4o for: "Chicken wings"
🎯 GPT-4o standardized: "Chicken wings" → "wing chicken"
💾 Saving reference product: wing chicken
➕ Added to reference base: "wing chicken" (category: meat)
Processing: "Chicken wings" → cleaned: "Chicken wings" → standardized: "wing chicken"
Found existing product: "Chicken wings" (standardized: "wing chicken")
🔍 Standardizing: "Spring chicken" (category: meat)
🔍 No similar product found for "Spring chicken" (best similarity: 0.645, threshold: 0.8)
🤖 Using GPT-4o for: "Spring chicken"
🎯 GPT-4o standardized: "Spring chicken" → "chicken spring"
💾 Saving reference product: chicken spring
➕ Added to reference base: "chicken spring" (category: meat)
Processing: "Spring chicken" → cleaned: "Spring chicken" → standardized: "chicken spring"
Found existing product: "Spring chicken" (standardized: "chicken spring")
🔍 Standardizing: "Chicken whole" (category: meat)
🎯 Found similar product: "Chicken whole" → "chicken whole" (similarity: 1.000)
✅ Found via embedding: "Chicken whole" → "chicken whole" (similarity: 1.000)
Processing: "Chicken whole" → cleaned: "Chicken whole" → standardized: "chicken whole"
Found existing product: "Chicken whole" (standardized: "chicken whole")
🔍 Standardizing: "Ceker bersih" (category: meat)
🔍 No similar product found for "Ceker bersih" (best similarity: 0.193, threshold: 0.8)
🤖 Using GPT-4o for: "Ceker bersih"
🎯 GPT-4o standardized: "Ceker bersih" → "foot clean"
💾 Saving reference product: foot clean
➕ Added to reference base: "foot clean" (category: meat)
Processing: "Ceker bersih" → cleaned: "Ceker bersih" → standardized: "foot clean"
Created new product: "Ceker bersih" (standardized: "foot clean")
🔍 Standardizing: "Tenderloin" (category: meat)
 ✓ Compiled in 17ms
🔍 No similar product found for "Tenderloin" (best similarity: 0.355, threshold: 0.8)
🤖 Using GPT-4o for: "Tenderloin"
🎯 GPT-4o standardized: "Tenderloin" → "tenderloin"
💾 Saving reference product: tenderloin
➕ Added to reference base: "tenderloin" (category: meat)
Processing: "Tenderloin" → cleaned: "Tenderloin" → standardized: "tenderloin"
Found existing product: "Tenderloin" (standardized: "tenderloin")
🔍 Standardizing: "Daging sapi 1" (category: meat)
🔍 No similar product found for "Daging sapi 1" (best similarity: 0.348, threshold: 0.8)
🤖 Using GPT-4o for: "Daging sapi 1"
🎯 GPT-4o standardized: "Daging sapi 1" → "beef"
💾 Saving reference product: beef
➕ Added to reference base: "beef" (category: meat)
Processing: "Daging sapi 1" → cleaned: "Daging sapi 1" → standardized: "beef"
Found existing product: "Daging sapi 1" (standardized: "beef")
🔍 Standardizing: "Tulang sapi" (category: meat)
🔍 No similar product found for "Tulang sapi" (best similarity: 0.327, threshold: 0.8)
🤖 Using GPT-4o for: "Tulang sapi"
🎯 GPT-4o standardized: "Tulang sapi" → "bone beef"
💾 Saving reference product: bone beef
➕ Added to reference base: "bone beef" (category: meat)
Processing: "Tulang sapi" → cleaned: "Tulang sapi" → standardized: "bone beef"
Found existing product: "Tulang sapi" (standardized: "bone beef")
🔍 Standardizing: "Buntut sapi" (category: meat)
🔍 No similar product found for "Buntut sapi" (best similarity: 0.244, threshold: 0.8)
🤖 Using GPT-4o for: "Buntut sapi"
🎯 GPT-4o standardized: "Buntut sapi" → "beef tail"
💾 Saving reference product: beef tail
➕ Added to reference base: "beef tail" (category: meat)
Processing: "Buntut sapi" → cleaned: "Buntut sapi" → standardized: "beef tail"
Found existing product: "Buntut sapi" (standardized: "beef tail")
🔍 Standardizing: "Kulit sapi" (category: meat)
🔍 No similar product found for "Kulit sapi" (best similarity: 0.284, threshold: 0.8)
🤖 Using GPT-4o for: "Kulit sapi"
🎯 GPT-4o standardized: "Kulit sapi" → "cow skin"
💾 Saving reference product: cow skin
➕ Added to reference base: "cow skin" (category: meat)
Processing: "Kulit sapi" → cleaned: "Kulit sapi" → standardized: "cow skin"
Found existing product: "Kulit sapi" (standardized: "cow skin")
🔍 Standardizing: "Daging babi (sam-sam)" (category: meat)
🔍 No similar product found for "Daging babi (sam-sam)" (best similarity: 0.360, threshold: 0.8)
🤖 Using GPT-4o for: "Daging babi (sam-sam)"
🎯 GPT-4o standardized: "Daging babi (sam-sam)" → "pork sam-sam"
💾 Saving reference product: pork sam-sam
➕ Added to reference base: "pork sam-sam" (category: meat)
Processing: "Daging babi (sam-sam)" → cleaned: "Daging babi (sam-sam)" → standardized: "pork sam-sam"
Found existing product: "Daging babi (sam-sam)" (standardized: "pork sam-sam")
🔍 Standardizing: "Wijen putih" (category: spices)
🔍 No similar product found for "Wijen putih" (best similarity: 0.427, threshold: 0.8)
🤖 Using GPT-4o for: "Wijen putih"
 ✓ Compiled in 17ms
🎯 GPT-4o standardized: "Wijen putih" → "sesame white"
💾 Saving reference product: sesame white
➕ Added to reference base: "sesame white" (category: spices)
Processing: "Wijen putih" → cleaned: "Wijen putih" → standardized: "sesame white"
Found existing product: "Wijen putih" (standardized: "sesame white")
🔍 Standardizing: "Cumin seed" (category: spices)
🎯 Found similar product: "Cumin seed" → "cumin ground" (similarity: 0.855)
✅ Found via embedding: "Cumin seed" → "cumin ground" (similarity: 0.855)
Processing: "Cumin seed" → cleaned: "Cumin seed" → standardized: "cumin ground"
Found existing product: "Cumin ground" (standardized: "cumin ground")
🔍 Standardizing: "Wijen hitam" (category: spices)
🔍 No similar product found for "Wijen hitam" (best similarity: 0.330, threshold: 0.8)
🤖 Using GPT-4o for: "Wijen hitam"
🎯 GPT-4o standardized: "Wijen hitam" → "sesame black"
💾 Saving reference product: sesame black
➕ Added to reference base: "sesame black" (category: spices)
Processing: "Wijen hitam" → cleaned: "Wijen hitam" → standardized: "sesame black"
Found existing product: "Wijen hitam" (standardized: "sesame black")
🔍 Standardizing: "Telor ayam" (category: dairy)
🔍 No similar product found for "Telor ayam" (best similarity: 0.484, threshold: 0.8)
🤖 Using GPT-4o for: "Telor ayam"
🎯 GPT-4o standardized: "Telor ayam" → "egg chicken"
💾 Saving reference product: egg chicken
➕ Added to reference base: "egg chicken" (category: dairy)
Processing: "Telor ayam" → cleaned: "Telor ayam" → standardized: "egg chicken"
Found existing product: "Telor ayam" (standardized: "egg chicken")
Successfully processed 204 products from widi wiguna.xlsx
Queue processing completed
 ✓ Compiled in 18ms
 GET /api/upload-status-monitor 200 in 1410ms
🔄 Reprocessing upload: Island Organics Bali.pdf (cmbm7f64z000woust2lj94mj5)
🔄 Starting reprocessing for upload: cmbm7f64z000woust2lj94mj5
📚 Loading reference products from database...
 POST /api/reprocess-upload 200 in 729ms
Processing file: Island Organics Bali.pdf
🚀 Starting advanced PDF processing: https://cdc1w79ssc4kg6xh.public.blob.vercel-storage.com/Island%20Organics%20Bali-ywWEuvZsODuKBVATgMUy9cXdN48q0B.pdf
🔄 Starting advanced PDF processing for: https://cdc1w79ssc4kg6xh.public.blob.vercel-storage.com/Island%20Organics%20Bali-ywWEuvZsODuKBVATgMUy9cXdN48q0B.pdf
📊 Starting Camelot table extraction...
Error loading reference products: Error [PrismaClientValidationError]: 
Invalid `prisma.product.findMany()` invocation in
/Users/denisdomashenko/monito-web/.next/server/chunks/[root of the server]__677949._.js:199:59

  196 try {
  197     console.log('📚 Loading reference products from database...');
  198     // Загружаем из БД существующие стандартизированные продукты
→ 199     const existingProducts = await prisma.product.findMany({
            select: {
              id: true,
              standardizedName: true,
              category: true,
              name: true
            },
            where: {
              standardizedName: {
          +     not: String
              }
            }
          })

Argument `not` must not be null.
    at <unknown> (app/services/embeddingService.ts:181:52)
    at async EmbeddingService.loadReferenceProducts (app/services/embeddingService.ts:181:31)
  179 |       
  180 |       // Загружаем из БД существующие стандартизированные продукты
> 181 |       const existingProducts = await prisma.product.findMany({
      |                                                    ^
  182 |         select: {
  183 |           id: true,
  184 |           standardizedName: true, {
  clientVersion: '6.9.0'
}
🏗️ Initializing basic reference base...
✅ Initialized 24 basic reference products
✅ Camelot extracted 0 products
📊 Camelot extraction: 0 products found
📄 Attempting text extraction from PDF...
Warning: Please use the `legacy` build in Node.js environments.
⚠️ pdfjs-dist failed, trying alternative approaches: ReferenceError: DOMMatrix is not defined
    at <unknown> (.next/server/chunks/_510596._.js:21:16)
    at async AdvancedPdfProcessor.extractTextFromPdf (app/services/advancedPdfProcessor.ts:159:25)
    at async AdvancedPdfProcessor.processComplexPdf (app/services/advancedPdfProcessor.ts:45:23)
    at async processPDF (app/services/fileProcessor.ts:113:19)
    at async processFile (app/services/fileProcessor.ts:52:22)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  157 |       // Approach 1: pdfjs-dist
  158 |       try {
> 159 |         const pdfjsLib = await import('pdfjs-dist');
      |                         ^
  160 |         const pdf = await pdfjsLib.getDocument({
  161 |           data: arrayBuffer,
  162 |           useWorkerFetch: false,
🔍 Raw analysis extracted 149611 characters
📝 Total text extracted: 149611 characters
❌ Advanced PDF processing failed: TypeError: Cannot read properties of undefined (reading 'length')
    at AdvancedPdfProcessor.processComplexPdf (app/services/advancedPdfProcessor.ts:46:59)
    at async processPDF (app/services/fileProcessor.ts:113:19)
    at async processFile (app/services/fileProcessor.ts:52:22)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  44 |       // Step 3: Иначе пытаемся извлечь текстовую информацию (fallback)
  45 |       const textData = await this.extractTextFromPdf(fileUrl);
> 46 |       console.log(`📝 Text extraction: ${textData.products.length} products found`);
     |                                                           ^
  47 |       
  48 |       // Step 4: Обрабатываем PDF как последовательность изображений для Vision API
  49 |       const visionData = await this.processPdfAsImages(fileUrl);
❌ Advanced PDF processing failed: TypeError: Cannot read properties of undefined (reading 'length')
    at AdvancedPdfProcessor.processComplexPdf (app/services/advancedPdfProcessor.ts:46:59)
    at async processPDF (app/services/fileProcessor.ts:113:19)
    at async processFile (app/services/fileProcessor.ts:52:22)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  44 |       // Step 3: Иначе пытаемся извлечь текстовую информацию (fallback)
  45 |       const textData = await this.extractTextFromPdf(fileUrl);
> 46 |       console.log(`📝 Text extraction: ${textData.products.length} products found`);
     |                                                           ^
  47 |       
  48 |       // Step 4: Обрабатываем PDF как последовательность изображений для Vision API
  49 |       const visionData = await this.processPdfAsImages(fileUrl);
🔄 Falling back to basic PDF processing...
📄 Basic PDF processing: https://cdc1w79ssc4kg6xh.public.blob.vercel-storage.com/Island%20Organics%20Bali-ywWEuvZsODuKBVATgMUy9cXdN48q0B.pdf
❌ Basic PDF processing failed: ReferenceError: DOMMatrix is not defined
    at <unknown> (.next/server/chunks/_510596._.js:21:16)
    at async AdvancedPdfProcessor.extractTextFromPdf (app/services/advancedPdfProcessor.ts:159:25)
    at async AdvancedPdfProcessor.processComplexPdf (app/services/advancedPdfProcessor.ts:45:23)
    at async processPDF (app/services/fileProcessor.ts:113:19)
    at async processFile (app/services/fileProcessor.ts:52:22)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  157 |       // Approach 1: pdfjs-dist
  158 |       try {
> 159 |         const pdfjsLib = await import('pdfjs-dist');
      |                         ^
  160 |         const pdf = await pdfjsLib.getDocument({
  161 |           data: arrayBuffer,
  162 |           useWorkerFetch: false,
❌ Basic PDF processing also failed: ReferenceError: DOMMatrix is not defined
    at <unknown> (.next/server/chunks/_510596._.js:21:16)
    at async AdvancedPdfProcessor.extractTextFromPdf (app/services/advancedPdfProcessor.ts:159:25)
    at async AdvancedPdfProcessor.processComplexPdf (app/services/advancedPdfProcessor.ts:45:23)
    at async processPDF (app/services/fileProcessor.ts:113:19)
    at async processFile (app/services/fileProcessor.ts:52:22)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  157 |       // Approach 1: pdfjs-dist
  158 |       try {
> 159 |         const pdfjsLib = await import('pdfjs-dist');
      |                         ^
  160 |         const pdf = await pdfjsLib.getDocument({
  161 |           data: arrayBuffer,
  162 |           useWorkerFetch: false,
Successfully processed 0 products from Island Organics Bali.pdf
🎉 Successfully reprocessed: cmbm7f64z000woust2lj94mj5
 GET /api/upload-status-monitor 200 in 728ms
⚠️ Camelot processing timeout, falling back to other methods
 GET /api/upload-status-monitor 200 in 549ms
 GET /api/upload-status-monitor 200 in 1328ms
🔄 Reprocessing upload: Island Organics Bali.pdf (cmbm7f64z000woust2lj94mj5)
🔄 Starting reprocessing for upload: cmbm7f64z000woust2lj94mj5
 POST /api/reprocess-upload 200 in 886ms
Processing file: Island Organics Bali.pdf
🚀 Starting advanced PDF processing: https://cdc1w79ssc4kg6xh.public.blob.vercel-storage.com/Island%20Organics%20Bali-ywWEuvZsODuKBVATgMUy9cXdN48q0B.pdf
🔄 Starting advanced PDF processing for: https://cdc1w79ssc4kg6xh.public.blob.vercel-storage.com/Island%20Organics%20Bali-ywWEuvZsODuKBVATgMUy9cXdN48q0B.pdf
📊 Starting Camelot table extraction...
Camelot log: /Users/denisdomashenko/Library/Python/3.9/lib/python/site-packages/camelot/parsers/stream.py:365: UserWarning: No tables found in table area 3
  warnings.warn(f"No tables found in table area {table_idx + 1}")

✅ Camelot extracted 303 products
📊 Camelot extraction: 303 products found
✅ Camelot extraction successful, using table-based results
✅ Advanced PDF processing successful: 303 products extracted
Created new supplier: Retail
Document indicates supplier "Retail" but upload was assigned to different supplier. Using detected supplier.
Error processing product Arugula - Baby (eruca Versicaria: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Arugula - Roquette Standard (eruca Sativa: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Arugula - Wasabi (diplotaxis Erucoides: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Arugula - Wild Red Vein (diplotaxis Tenuifolia: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Arugula - Wild Sylvetta (diplotaxis Muralis: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Braising Greens: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Broccoli Sprout: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Chicory - Escarole: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Chicory - Frisée - Trés Fine: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Chicory - Italian Dandelion Green/ Red: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Chicory - Sugarloaf: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Chicory - Radicchio Long Flat: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Chicory - Radicchio Round Head - Italian Chicory: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Chicory - Radicchio Castel Franco: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Chicory - Puntarelle: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Collard - Green: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Cress, Trio ( W/ Barbarea Verna Or Lepidium Sativum: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Cress, Water (nasturtium Officinale: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Kale - Black Toscano: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Kale - Black Toscano - Juicing: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Kale - Dwarf Blue Scotch Curly: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Kale - Power Bunch: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Kale - Premium Bunch: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Kale - Red Russian: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Kale - Red Russian - Juicing: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Kale - Siberian White: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Lettuce - Bibb Deer Tongue: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Lettuce - Butterhead Boston Type: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Lettuce - Butterhead Red Type: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Lettuce - Iceberg: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Lettuce - Lollo Bionda - Frilled Green Leaf: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Lettuce - Lollo Rosa - Frilled Red Leaf: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Lettuce - Mache: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Lettuce - Romaine - Baby Leaf: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Lettuce - Romaine Head - Little Gem: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Lettuce - Romaine Head - Matured: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Lettuce - Celtuce: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Mizuna - Leaf Mustard Green Or Mix Central Red: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Mustard - Frilled Leaf Purple Or Curly Green: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Ice Plant (mesembryanthemum Crystallinum: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Purslane: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Salad Mix Basic: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Salad Mix Mesclun: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Salad Mix Olympia: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Salad Mix Spicy: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Salad Mix Sunshine: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Salad Mix Tangy & Sweet: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Salad Mix Wild: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Snowpea Shoot - Tendrils: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Sorrel - French Sour Leaf Vegetable: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Sorrel - Oxalis: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Sorrel - Purple Oxalis: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Sorrel, Red Ribbon Baby/ Small Leaf: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Spinach - English Baby: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Spinach - English Bunch: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Spinach - Japanese, Horenzo: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Spinach - Local Bayam Hijau, Green Amaranth Leaves: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Spinach - Local Bayam Merah, Red Amaranth Leaves: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Swisschard - Rainbow: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Tatsoi - Baby Leaf Mix Color: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Genjer - Velvetleaf, Swamp Lettuce (limnocharis Flava: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Beetroot - Candystripe: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Beetroot - Candystripe Baby: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Beetroot - Deep Red: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Beetroot - Deep Red Baby: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Beetroot - Deep Red Cylindrical Root: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Beetroot - Golden: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Beetroot - Golden Baby: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Burdock: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Carrot - Chantennay Baby Type: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Carrot - Chantennay Matured Type: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Carrot - Nantes Baby Type: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Carrot - Nantes Matured Type: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Carrots - Chantennay - Fresh Grade Deformed: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Carrots - Heirloom Specialties (parisian, Yellow, Purple: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Celeriac: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Parsley Root: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Parsnip: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Potato - Baby: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Potato - Matured: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Potato - Red: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Radish - Chinese Shunkyo Red Black Spanish: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Radish - Korean Rosy Pink/purple Bravo: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Radish - Red: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Radish - Watermelon/ Black Spanish/ Shogoin: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Radish - White/ Daikon: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Rutabaga: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Scorzobianca - White Salsify: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Scorzonera - Black Salsify: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Sweet Potato - Orange (var. Makurdi: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Sweet Potato - Purple (var. Aguoru: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Sweet Potato - White / Yellow (var. Lafia: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Toraji - Baloon Flower: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Turnip - White Kabura: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Old World Black Potato (coleus Tuberosus: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Jerusalem Artichoke - Topinambur (heliuanthus Tuberosus: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Asparagus: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Asian Greens, Bok Choy - Shanghai Type Green: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Asian Greens, Bok Choy Mini - "nai Bai: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Asian Greens, Chrysanthemum Leaf: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Asian Greens, Hon Tsai Tai/ Kailan: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Asian Greens, Gailon (kailan) - Chinese Broccoli / Kale: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Asian Greens, Komatsuna - Japanese Mustard Spinach: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Asian Greens, Pak Choy Cantonese Type - Red: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Asian Greens, Pak Choy Cantonese Type - White: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Asian Greens, Tatsoi - Rosette Bok Choy, Bunch: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Bean, Dry Red Kidney: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Bean, Dwarf French Yellow Minidor / Purple Teepe: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Bean, Green Baby: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Bean, Green String Bean Stringless Bush Beans: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Bean, Yard Long: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Bell Pepper - Green: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Bell Pepper - Red: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Bell Pepper - Yellow: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Broccoli - Rapini: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Broccolini: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Broccolini - Purple: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Brocolli - Florets: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Brocolli - Spigariello Leaf And Marrow Cabbage: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Brussel Sprout: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Cabbage - Chinese / Napa: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Cabbage - Green: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Cabbage - Hispi: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Cabbage - Red: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Cabbage - Savoy: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Cabbage - Red Napa: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Cauliflower: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Cauliflower - Romanesco Puntoverde: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Caulifower - Purple Of Sicily: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Sprouting Cauliflower - Caulilini: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Chayote - Perrenial Squash - Jipang/ Sayur Hijau: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Chili Pepper - Birds Eye - Hot Red/ Green: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Chilli Pepper - Seasonal Specialty (habanero Group: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Chili Pepper - Jalapeno: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Chili Pepper - Thai Green: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Chili Pepper - Thai Red: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Cucumber - Dark Green/ Kyuri: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Cucumber - Light Green Stripes: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Cucumber- Baby Kyuri: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Cucumber - Sooyow Kyuri: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Eggplant - Asian Green Round - Terong Sayur: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Eggplant - Italian: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Eggplant - Long Purple , Green, Or White: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Fennel Bulb: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Jackfruit, Young: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Kohlrabi Green / Purple: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Onion Leaf, Bunching Onion (allium Fistulosum: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Onion Leaf, Leek (allium Ampelebrosum: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Onion Leaf, Scallion (allium Cepa Var. Cepa: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Paku - Fern Tips - Pakis: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Rhubarb: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Snow Peas (green - Yellow) Or Snap Peas Purple: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Sprouts - Mung Bean: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Summer Squash - Yellow Crookneck: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Sweet Corn: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Tomatillo Mexican Yellow/ Purple Pasta: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Tomato Beef Red Improved Hybrid: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Tomato - Cherry Red/ Yellow Heirloom: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Tomato - Cherry Red Improved Hybrid: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Tomato - Cherry Micro: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Tomato - Heirloom Beef: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Tomato - Local: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Water Spinach - Kangkung: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Zucchini - Male Flower: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Zucchini - Female Flower With Baby Zucchini: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Zucchini - Trombetta: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Zucchini - Green: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Zucchini - Yellow: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Zucchini - Stripes Heirloom: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Basil - Cinnamon / Asian Type: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Basil - Holy/ Kapoor Tulsi: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Basil - Holy/ Khrisna Tulsi: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Basil - Lemon/ Mrs. Burnst: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Basil - Lemon/ South East Asian: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Basil - Lettuce Type/ Napoletano: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Basil - Lime/ American Basil: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Basil - Purple: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Basil - Sweet Italian: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Basil - Thai Cardinal: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Basil - Thai Siam Queen: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Basil - Thai Sweet: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Celery Leaf Cutting - Seledri: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Celery Stick: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Chervil: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Chives - Garlic (allium Tuberosum: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Chives - Glittering/ Chinese (allium Chinense: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Chives - Onion (allium Schoenoprasum: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Coriander Common - Cilantro: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Coriander Mexican - Culantro: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Coriander Vietnamese - Laksa Or Kesum Leaf: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Curry Leaf: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Dill: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Edible Flowers - Chive Onion Blossom: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Edible Flowers - Mix Seasonal Blossoms: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Edible Flowers - Nasturtium: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Edible Flowers - Snow Pea With Tendrils: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Edible Flowers - Wild Arugula Blossom: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Fennel Frond - Bronze: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Fennel Frond - Green: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Hyssop, Anise - Leaf & Flower: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Anise Herbs: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Hyssop: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Kaffir Lime - Leaves: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Lemon Balm: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Lovage: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Marjoram: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Mint - Australian: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Mint - English Garden: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Mint - Horsemint: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Mint - Mexican (plectranthus Amboinicus: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Mint - Peppermint: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Mint - Peppermint "chocolate Mint: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Mint - Spearmint "double Mint: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Nasturtium Leaf: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Oregano - Greek (origanum Vulgare Var. Hirtum: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Oregano - Za'atar (origanum Syriacum: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Oregano 'dark Green' (origanum Vulgare: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Parsley - Curly: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Parsley - Italian: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Rosemary: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Sage: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Salad Burnet: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Savory - Summer: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Shisho Leaf Green: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Shisho Leaf Red: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Murbei Leaf: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Stevia: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Tarragon - French (artemesia Dracunculus Sativa: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Tarragon - Mexican (tagetes Lucida: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Thyme - Citrus (thymus Fragantissimus: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Thyme - Summer (thymus Vulgaris: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Wild Bergamot / Bee Balm Leaf: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Wild Betel: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Yomogi - Japanesse Mugwort: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Apple - Green/ Apel Manalagi: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Apple - Red/green - Malang: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Avocado: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Banana Aa Group - Lady Finger Banana (pisang Mas: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Banana Aaa Group - Gros Michel (pisang Ambon: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Banana Aaa Group - Whi: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Coconut, Young: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Jackfruit, Sweet Peeled: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Jicama - Bengkoang: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Lemon - Yellow Skin: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Lime, Finger Lime: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Lime, Key - Jeruk Nipis: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Mandarin, Nasnaran - Jeruk Lemo/ Limau: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Mango - Harum Manis Cv: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Mangosteen: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Melon, Cantaloupe: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Papaya - Sweet Matured: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Papaya - Young Immatured: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Passion Fruit - Sweet Or Sour: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Pepino Dulce: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Pineapple: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Pineapple Honey: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Plantain - Aab Group Latundan Banana (pisang Raja: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Plantain - Abb Group Saba Banana (pisang Kepok: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Pomelo: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Pumpkin: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Butternut Squash: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Snakefruit Var. Moluccana 'apomictic' Salak Gula Pasir: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Snakefruit Var. Moluccana Salak Bali: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Strawberry: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Strawberry - Wild: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Tamarillo: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Tangerine - Brastagi Cv: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Tangerine Orange - Kintamani Cv: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Watermelon - Red: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Eggs - Bali Runner Duck (itik Bali: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Button Mushroom: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Clouded Agaric Mushroom: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Eggs - Breed Chicken: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Eggs - Non Breed Chicken Free Range: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Eggs - Quail (telur Puyuh: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Garlic - Bawang Putih: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Black Garlic: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Jew's Ear Mushroom: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Onion - Bawang Bombay: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Oyster Mushroom: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Portobello Mushroom: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Shallot - Bawang Merah: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Shiitake Mushroom: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Tempe - Banana Leaf Packaging: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Tempe - Non Gmo Banana Leaf Packaging: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Tofu - Traditional Tahu: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Pesto Basil L: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Pesto Basil Oregano L: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Pesto Basil Oregano S: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Pesto Basil S: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Pesto Cilantro - Coriander L (vegan: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Pesto Cilantro - Coriander S (vegan: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Pesto Kale L (vegan: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Pesto Kale S (vegan: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Ginger Elephant- Big Variety: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Ginger Torch - Flower Bud: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Grass Jelly Leaf / Daluman (cyclea Barbata: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Finger Roots - Temu Kunci (boesenbergia Rotunda: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Greater Galangal: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Lemongrass: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Sand Ginger - Smaller Galangal: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Tumeric, Javanese - Temulawak: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Turmeric: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Successfully processed 303 products from Island Organics Bali.pdf
🎉 Successfully reprocessed: cmbm7f64z000woust2lj94mj5
⚠️ Camelot processing timeout, falling back to other methods
 GET /api/upload-status-monitor 200 in 600ms
 GET /api/upload-status-monitor 200 in 730ms
 ✓ Compiled / in 23ms
 GET / 200 in 40ms
 GET / 200 in 15ms
 GET / 200 in 17ms
 GET / 200 in 16ms
 GET / 200 in 14ms
 GET / 200 in 12ms
 GET / 200 in 70ms
 GET /api/suppliers 200 in 459ms
 GET /api/uploads/status?limit=5 200 in 632ms
 GET /api/stats 200 in 1655ms
 GET /api/products?category=All%20Categories&limit=50&page=1&sortBy=name&sortOrder=asc 200 in 2304ms
🚀 Starting background processing for upload: cmbm9iizv01lfoustt6xo2i10
🔄 Starting processing for upload: cmbm9iizv01lfoustt6xo2i10
 POST /api/upload-smart 200 in 27857ms
 GET /api/suppliers 200 in 161ms
✅ Updated status to processing for: cmbm9iizv01lfoustt6xo2i10
 GET /api/uploads/status?limit=5 200 in 276ms
📚 Loading reference products from database...
 GET /api/stats 200 in 729ms
 GET /api/products?category=All%20Categories&limit=50&page=1&sortBy=name&sortOrder=asc 200 in 944ms
Error loading reference products: Error [PrismaClientValidationError]: 
Invalid `prisma.product.findMany()` invocation in
/Users/denisdomashenko/monito-web/.next/server/chunks/[root of the server]__06bbdf._.js:399:59

  396 try {
  397     console.log('📚 Loading reference products from database...');
  398     // Загружаем из БД существующие стандартизированные продукты
→ 399     const existingProducts = await prisma.product.findMany({
            select: {
              id: true,
              standardizedName: true,
              category: true,
              name: true
            },
            where: {
              standardizedName: {
          +     not: String
              }
            }
          })

Argument `not` must not be null.
    at <unknown> (app/services/embeddingService.ts:181:52)
    at async EmbeddingService.loadReferenceProducts (app/services/embeddingService.ts:181:31)
  179 |       
  180 |       // Загружаем из БД существующие стандартизированные продукты
> 181 |       const existingProducts = await prisma.product.findMany({
      |                                                    ^
  182 |         select: {
  183 |           id: true,
  184 |           standardizedName: true, {
  clientVersion: '6.9.0'
}
🏗️ Initializing basic reference base...
Processing file: 1. PT. Global Anugrah Pasifik (groceries item).pdf
🚀 Starting advanced PDF processing: https://cdc1w79ssc4kg6xh.public.blob.vercel-storage.com/1.%20PT.%20Global%20Anugrah%20Pasifik%20%28groceries%20item%29-BiFYupt0wo2UGo7yPiiWvb0R85s7y1.pdf
🔄 Starting advanced PDF processing for: https://cdc1w79ssc4kg6xh.public.blob.vercel-storage.com/1.%20PT.%20Global%20Anugrah%20Pasifik%20%28groceries%20item%29-BiFYupt0wo2UGo7yPiiWvb0R85s7y1.pdf
📊 Starting Camelot table extraction...
✅ Initialized 24 basic reference products
✅ Camelot extracted 234 products
📊 Camelot extraction: 234 products found
✅ Camelot extraction successful, using table-based results
✅ Advanced PDF processing successful: 234 products extracted
Created new supplier: Email : sales@gap-indo.com
Document indicates supplier "Email : sales@gap-indo.com" but upload was assigned to different supplier. Using detected supplier.
Error processing product Saporito: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Saporito: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Saporito: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Saporito: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Saporito: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Saporito: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Saporito: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Saporito: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Saporito: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Saporito: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Saporito: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Saporito: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Saporito: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Saporito: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Saporito: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Saporito: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Saporito: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Saporito: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Saporito: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Cy Maple: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Cy Maple: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Joe: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Joe: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product S&w: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product S&w: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product S&w: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product S&w: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product S&w: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product S&w: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product S&w: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Il Tempio: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Il Tempio: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Costa D'oro: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Urbani: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Urbani: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Lily Flower: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Lily Flower: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Lily Flower: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Lily Flower: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Golden Bridge: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Golden Bridge: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Star Village: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Bimoli: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Robo Tartufata Truffle Mushroom Paste: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product French's: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product French's: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product French's: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product French's: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Cy Beverages: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Tsukaba: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Mazzetta: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Mazzetta: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Saporito: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Erawan Foods Lychees In Syrup: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Imperial: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Ji Xiang: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product La Costena: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product La Costena: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product F&n: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Hosen: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Deho: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Heinz: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Start Village: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Start Village: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Robo Tartufata Truffle Mushroom Paste: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product French's: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product French's: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product French's: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product French's: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Cy Beverages: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Tsukaba: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Mazzetta: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Mazzetta: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Saporito: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Erawan Foods Lychees In Syrup: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Imperial: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Ji Xiang: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product La Costena: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product La Costena: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product F&n: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Hosen: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Deho: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Heinz: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Start Village: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Start Village: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Mae Ploy: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Mae Ploy: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Mae Ploy: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Mae Ploy: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Mae Ploy: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Mae Ploy: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Mae Ploy: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Mae Ploy: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Mae Ploy: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Mae Ploy: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Mae Ploy: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Mae Ploy: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Mae Ploy: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Wansin: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Wansin: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Wansin: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Wansin: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Wansin: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Wansin: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Wansin: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Golden Canal: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Golden Coin: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product De Maderas: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product De Maderas: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product De Maderas: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product De Maderas: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product De Maderas: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product De Maderas: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product De Maderas: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product De Maderas: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product De Maderas: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product De Maderas: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product De Maderas: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product De Maderas: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product De Maderas: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product De Maderas: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product De Maderas: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product De Maderas: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product De Maderas: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product De Maderas: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product De Maderas: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product De Maderas: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product De Maderas: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product De Maderas: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product De Maderas: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product De Maderas: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product De Maderas: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product De Maderas: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product De Maderas: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product De Maderas: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Balsamic Vinegar: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Balsamic Vinegar: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Red Wine Vinegar: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Red Wine Vinegar: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product White Wine Vinegar: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product White Wine Vinegar: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Sparkling Red Grape Juice: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Sparkling White Grape Juice: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Frutee - Cranberry Juice: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Barilla: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Barilla: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Barilla: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Barilla: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Barilla: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Barilla: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Barilla: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Barilla: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Barilla: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Barilla: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Barilla: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Barilla: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Robo: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Dua Tani: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Dua Tani: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Dua Tani: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Dua Tani: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Dua Tani: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Dua Tani: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Dua Tani: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Dua Tani: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Oat&oat Natural Havermut: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Oat&oat Instant Havermut: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Oat&oat Rolled Oat: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Oat&oat Natural Havernut (blue: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Oat&oat Instant Havermut (red: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Oat&oat Rolled Oat (yellow: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Rolled Oat (utuh: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Rolled Oat (utuh: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Chia Seed: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Chia Seed: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product White & Red Quinoa: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product White & Red Quinoa: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product White & Red Quinoa: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Martini - Crema Bivalente Gold: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Martini - Crema Bivalente: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Martini - Crema Zuccerata: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Harada Triangle Tea Bags (box: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Harada Hojicha (roasted Green Tea) - Box: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Harada Jasmine Green Tea - Box: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Pure Matcha Emperor Ceremonial Super Green: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Pure Matcha Ceremonial Supergreen: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Pure Matcha Powder: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Pure Matcha Powder: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Pure Greentea Powder: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Pure Matcha With Roasted Brown Rice Powder: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Pure Hojica: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Sakura Powder: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Trieste: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Trieste: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Trieste: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Trieste: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Trieste: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Trieste: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Trieste: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Trieste: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Trieste: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Trieste: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Trieste: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Trieste: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Trieste: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Trieste: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Trieste: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Trieste: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Trieste: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Trieste: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Trieste: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Trieste: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Trieste: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Trieste: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Trieste: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Trieste: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Trieste: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Trieste: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Trieste: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Trieste: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Trieste: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Trieste: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Trieste: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Trieste: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Trieste: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Trieste: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Trieste: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Trieste: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Trieste: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Trieste: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Price Upon Request: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Price Upon Request: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Price Upon Request: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Price Upon Request: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Successfully processed 234 products from 1. PT. Global Anugrah Pasifik (groceries item).pdf
🎉 Successfully completed processing for: cmbm9iizv01lfoustt6xo2i10
 GET / 200 in 50ms
 GET /api/suppliers 200 in 121ms
 GET /api/uploads/status?limit=5 200 in 267ms
 GET /api/stats 200 in 710ms
 GET /api/products?category=All%20Categories&limit=50&page=1&sortBy=name&sortOrder=asc 200 in 1001ms
⚠️ Camelot processing timeout, falling back to other methods
 GET /api/upload-status-monitor 200 in 1359ms
 GET /api/upload-status-monitor 200 in 727ms
🔄 Reprocessing upload: 1. PT. Global Anugrah Pasifik (groceries item).pdf (cmbm9iizv01lfoustt6xo2i10)
🔄 Starting reprocessing for upload: cmbm9iizv01lfoustt6xo2i10
 POST /api/reprocess-upload 200 in 977ms
Processing file: 1. PT. Global Anugrah Pasifik (groceries item).pdf
🚀 Starting advanced PDF processing: https://cdc1w79ssc4kg6xh.public.blob.vercel-storage.com/1.%20PT.%20Global%20Anugrah%20Pasifik%20%28groceries%20item%29-BiFYupt0wo2UGo7yPiiWvb0R85s7y1.pdf
🔄 Starting advanced PDF processing for: https://cdc1w79ssc4kg6xh.public.blob.vercel-storage.com/1.%20PT.%20Global%20Anugrah%20Pasifik%20%28groceries%20item%29-BiFYupt0wo2UGo7yPiiWvb0R85s7y1.pdf
📊 Starting Camelot table extraction...
✅ Camelot extracted 234 products
📊 Camelot extraction: 234 products found
✅ Camelot extraction successful, using table-based results
✅ Advanced PDF processing successful: 234 products extracted
Found existing supplier: Email : sales@gap-indo.com
Error processing product Saporito: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Saporito: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Saporito: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Saporito: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Saporito: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Saporito: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Saporito: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Saporito: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Saporito: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Saporito: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Saporito: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Saporito: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Saporito: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Saporito: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Saporito: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Saporito: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Saporito: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Saporito: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Saporito: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Cy Maple: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Cy Maple: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Joe: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Joe: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product S&w: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product S&w: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product S&w: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product S&w: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product S&w: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product S&w: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product S&w: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Il Tempio: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Il Tempio: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Costa D'oro: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Urbani: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Urbani: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Lily Flower: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Lily Flower: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Lily Flower: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Lily Flower: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Golden Bridge: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Golden Bridge: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Star Village: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Bimoli: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Robo Tartufata Truffle Mushroom Paste: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product French's: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product French's: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product French's: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product French's: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Cy Beverages: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Tsukaba: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Mazzetta: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Mazzetta: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Saporito: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Erawan Foods Lychees In Syrup: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Imperial: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Ji Xiang: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product La Costena: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product La Costena: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product F&n: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Hosen: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Deho: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Heinz: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Start Village: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Start Village: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Robo Tartufata Truffle Mushroom Paste: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product French's: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product French's: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product French's: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product French's: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Cy Beverages: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Tsukaba: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Mazzetta: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Mazzetta: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Saporito: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Erawan Foods Lychees In Syrup: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Imperial: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Ji Xiang: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product La Costena: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product La Costena: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product F&n: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Hosen: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Deho: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Heinz: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Start Village: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Start Village: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Mae Ploy: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Mae Ploy: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Mae Ploy: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Mae Ploy: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Mae Ploy: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Mae Ploy: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Mae Ploy: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Mae Ploy: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Mae Ploy: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Mae Ploy: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Mae Ploy: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Mae Ploy: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Mae Ploy: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Wansin: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Wansin: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Wansin: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Wansin: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Wansin: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Wansin: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Wansin: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Golden Canal: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Golden Coin: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product De Maderas: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product De Maderas: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product De Maderas: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product De Maderas: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product De Maderas: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product De Maderas: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product De Maderas: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product De Maderas: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product De Maderas: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product De Maderas: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product De Maderas: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product De Maderas: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product De Maderas: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product De Maderas: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product De Maderas: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product De Maderas: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product De Maderas: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product De Maderas: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product De Maderas: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product De Maderas: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product De Maderas: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product De Maderas: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product De Maderas: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product De Maderas: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product De Maderas: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product De Maderas: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product De Maderas: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product De Maderas: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Balsamic Vinegar: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Balsamic Vinegar: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Red Wine Vinegar: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Red Wine Vinegar: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product White Wine Vinegar: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product White Wine Vinegar: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Sparkling Red Grape Juice: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Sparkling White Grape Juice: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Frutee - Cranberry Juice: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Barilla: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Barilla: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Barilla: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Barilla: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Barilla: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Barilla: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Barilla: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Barilla: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Barilla: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Barilla: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Barilla: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Barilla: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Robo: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Dua Tani: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Dua Tani: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Dua Tani: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Dua Tani: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Dua Tani: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Dua Tani: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Dua Tani: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Dua Tani: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Oat&oat Natural Havermut: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Oat&oat Instant Havermut: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Oat&oat Rolled Oat: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Oat&oat Natural Havernut (blue: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Oat&oat Instant Havermut (red: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Oat&oat Rolled Oat (yellow: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Rolled Oat (utuh: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Rolled Oat (utuh: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Chia Seed: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Chia Seed: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product White & Red Quinoa: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product White & Red Quinoa: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product White & Red Quinoa: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Martini - Crema Bivalente Gold: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Martini - Crema Bivalente: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Martini - Crema Zuccerata: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Harada Triangle Tea Bags (box: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Harada Hojicha (roasted Green Tea) - Box: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Harada Jasmine Green Tea - Box: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Pure Matcha Emperor Ceremonial Super Green: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Pure Matcha Ceremonial Supergreen: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Pure Matcha Powder: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Pure Matcha Powder: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Pure Greentea Powder: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Pure Matcha With Roasted Brown Rice Powder: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Pure Hojica: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Sakura Powder: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Trieste: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Trieste: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Trieste: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Trieste: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Trieste: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Trieste: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Trieste: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Trieste: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Trieste: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Trieste: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Trieste: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Trieste: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Trieste: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Trieste: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Trieste: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Trieste: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Trieste: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Trieste: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Trieste: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Trieste: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Trieste: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Trieste: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Trieste: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Trieste: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Trieste: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Trieste: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Trieste: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Trieste: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Trieste: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Trieste: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Trieste: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Trieste: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Trieste: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Trieste: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Trieste: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Trieste: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Trieste: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Trieste: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Price Upon Request: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Price Upon Request: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Price Upon Request: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Price Upon Request: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Successfully processed 234 products from 1. PT. Global Anugrah Pasifik (groceries item).pdf
🎉 Successfully reprocessed: cmbm9iizv01lfoustt6xo2i10
 ✓ Compiled / in 19ms
 GET / 200 in 30ms
 GET / 200 in 19ms
⚠️ Camelot processing timeout, falling back to other methods
 ✓ Compiled / in 17ms
 GET / 200 in 27ms
 GET / 200 in 12ms
 GET /api/upload-status-monitor 200 in 1350ms
🔄 Reprocessing upload: 1. PT. Global Anugrah Pasifik (groceries item).pdf (cmbm9iizv01lfoustt6xo2i10)
🔄 Starting reprocessing for upload: cmbm9iizv01lfoustt6xo2i10
📚 Loading reference products from database...
 POST /api/reprocess-upload 200 in 811ms
Error loading reference products: Error [PrismaClientValidationError]: 
Invalid `prisma.product.findMany()` invocation in
/Users/denisdomashenko/monito-web/.next/server/chunks/[root of the server]__677949._.js:199:59

  196 try {
  197     console.log('📚 Loading reference products from database...');
  198     // Загружаем из БД существующие стандартизированные продукты
→ 199     const existingProducts = await prisma.product.findMany({
            select: {
              id: true,
              standardizedName: true,
              category: true,
              name: true
            },
            where: {
              standardizedName: {
          +     not: String
              }
            }
          })

Argument `not` must not be null.
    at <unknown> (app/services/embeddingService.ts:181:52)
    at async EmbeddingService.loadReferenceProducts (app/services/embeddingService.ts:181:31)
  179 |       
  180 |       // Загружаем из БД существующие стандартизированные продукты
> 181 |       const existingProducts = await prisma.product.findMany({
      |                                                    ^
  182 |         select: {
  183 |           id: true,
  184 |           standardizedName: true, {
  clientVersion: '6.9.0'
}
🏗️ Initializing basic reference base...
Processing file: 1. PT. Global Anugrah Pasifik (groceries item).pdf
🚀 Starting advanced PDF processing: https://cdc1w79ssc4kg6xh.public.blob.vercel-storage.com/1.%20PT.%20Global%20Anugrah%20Pasifik%20%28groceries%20item%29-BiFYupt0wo2UGo7yPiiWvb0R85s7y1.pdf
🔄 Starting advanced PDF processing for: https://cdc1w79ssc4kg6xh.public.blob.vercel-storage.com/1.%20PT.%20Global%20Anugrah%20Pasifik%20%28groceries%20item%29-BiFYupt0wo2UGo7yPiiWvb0R85s7y1.pdf
📊 Starting Camelot table extraction...
📤 Python stdout chunk: 📥 Downloading PDF from: https://cdc1w79ssc4kg6xh.public.blob.vercel-storage.com/1.%20PT.%20Global%20Anugrah%20Pasifik%20%28groceries%20item%29-BiFYupt0wo2UGo7yPiiWvb0R85s7y1.pdf
🔍 Testing with strea...
📤 Python stdout chunk: 📊 Table shape: (7, 4)
📂 Detected category: Unit Per Kg Price
📂 Detected category: Product Description / Zack
🔄 Processing table from page 8 (stream)...
📊 Table shape: (13, 5)
📂 Detected category...
📤 Python stdout chunk: {"supplier": {"email": "sales@gap-indo.com", "name": "Email : sales@gap-indo.com", "phone": "21"}, "products": [{"name": "Saporito", "price": 90000.0, "unit": "pcs", "category": "No. BRAND ITEM SIZE C...
📤 Python stdout chunk: ull}, {"name": "Start Village", "price": 38850.0, "unit": "pcs", "category": null, "weight_grams": null, "description": null}, {"name": "Robo Tartufata Truffle Mushroom Paste", "price": 252500.0, "uni...
📤 Python stdout chunk:  86025.0, "unit": "pcs", "category": "No Nama Produk Vol Isi/crt Harga/pcs", "weight_grams": null, "description": null}, {"name": "De Maderas", "price": 39960.0, "unit": "pcs", "category": "No Nama Pr...
📤 Python stdout chunk:  66600.0, "unit": "pcs", "category": "NO Description Size Harga/pcs", "weight_grams": null, "description": null}, {"name": "Pure Matcha Powder", "price": 330000.0, "unit": "pcs", "category": "NO Descr...
📤 Python stdout chunk: 

🔚 Python process finished with code: 0
📊 Total stdout length: 45272 characters
📊 Total stderr length: 0 characters
🔍 Processing JSON output from --json-only mode...
✅ Found JSON in last line (--json-only mode)
🔍 Attempting to parse JSON...
📝 JSON preview: {"supplier": {"email": "sales@gap-indo.com", "name": "Email : sales@gap-indo.com", "phone": "21"}, "products": [{"name": "Saporito", "price": 90000.0, "unit": "pcs", "category": "No. BRAND ITEM SIZE CTN PRICE/UNIT", "weight_grams": null, "description": null}, {"name": "Saporito", "price": 21900.0, "unit": "pcs", "category": "No. BRAND ITEM SIZE CTN PRICE/UNIT", "weight_grams": null, "description": null}, {"name": "Saporito", "price": 22500.0, "unit": "pcs", "category": "No. BRAND ITEM SIZE CTN P...
✅ Camelot successfully extracted 234 products
📋 Sample products: [ 'Saporito', 'Saporito', 'Saporito' ]
📊 Camelot extraction: 234 products found
✅ Camelot extraction successful, using table-based results
✅ Advanced PDF processing successful: 234 products extracted
Found existing supplier: Email : sales@gap-indo.com
Error processing product Saporito: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Saporito: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Saporito: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Saporito: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Saporito: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Saporito: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Saporito: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Saporito: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Saporito: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Saporito: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Saporito: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Saporito: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Saporito: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Saporito: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Saporito: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Saporito: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Saporito: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Saporito: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Saporito: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Cy Maple: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Cy Maple: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Joe: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Joe: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product S&w: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product S&w: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product S&w: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product S&w: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product S&w: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product S&w: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product S&w: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Il Tempio: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Il Tempio: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Costa D'oro: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Urbani: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Urbani: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Lily Flower: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Lily Flower: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Lily Flower: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Lily Flower: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Golden Bridge: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Golden Bridge: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Star Village: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Bimoli: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Robo Tartufata Truffle Mushroom Paste: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product French's: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product French's: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product French's: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product French's: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Cy Beverages: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Tsukaba: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Mazzetta: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Mazzetta: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Saporito: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Erawan Foods Lychees In Syrup: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Imperial: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Ji Xiang: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product La Costena: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product La Costena: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product F&n: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Hosen: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Deho: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Heinz: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Start Village: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Start Village: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Robo Tartufata Truffle Mushroom Paste: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product French's: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product French's: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product French's: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product French's: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Cy Beverages: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Tsukaba: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Mazzetta: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Mazzetta: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Saporito: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Erawan Foods Lychees In Syrup: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Imperial: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Ji Xiang: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product La Costena: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product La Costena: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product F&n: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Hosen: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Deho: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Heinz: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Start Village: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Start Village: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Mae Ploy: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Mae Ploy: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Mae Ploy: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Mae Ploy: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Mae Ploy: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Mae Ploy: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Mae Ploy: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Mae Ploy: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Mae Ploy: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Mae Ploy: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Mae Ploy: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Mae Ploy: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Mae Ploy: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Wansin: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Wansin: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Wansin: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Wansin: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Wansin: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Wansin: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Wansin: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Golden Canal: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Golden Coin: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product De Maderas: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product De Maderas: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product De Maderas: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product De Maderas: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product De Maderas: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product De Maderas: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product De Maderas: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product De Maderas: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product De Maderas: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product De Maderas: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product De Maderas: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product De Maderas: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product De Maderas: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product De Maderas: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product De Maderas: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product De Maderas: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product De Maderas: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product De Maderas: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product De Maderas: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product De Maderas: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product De Maderas: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product De Maderas: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product De Maderas: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product De Maderas: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product De Maderas: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product De Maderas: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product De Maderas: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product De Maderas: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Balsamic Vinegar: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Balsamic Vinegar: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Red Wine Vinegar: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Red Wine Vinegar: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product White Wine Vinegar: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product White Wine Vinegar: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Sparkling Red Grape Juice: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Sparkling White Grape Juice: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Frutee - Cranberry Juice: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Barilla: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Barilla: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Barilla: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Barilla: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Barilla: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Barilla: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Barilla: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Barilla: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Barilla: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Barilla: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Barilla: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Barilla: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Robo: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Dua Tani: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Dua Tani: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Dua Tani: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Dua Tani: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Dua Tani: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Dua Tani: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Dua Tani: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Dua Tani: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Oat&oat Natural Havermut: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Oat&oat Instant Havermut: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Oat&oat Rolled Oat: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Oat&oat Natural Havernut (blue: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Oat&oat Instant Havermut (red: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Oat&oat Rolled Oat (yellow: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Rolled Oat (utuh: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Rolled Oat (utuh: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Chia Seed: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Chia Seed: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product White & Red Quinoa: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product White & Red Quinoa: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product White & Red Quinoa: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Martini - Crema Bivalente Gold: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Martini - Crema Bivalente: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Martini - Crema Zuccerata: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Harada Triangle Tea Bags (box: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Harada Hojicha (roasted Green Tea) - Box: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Harada Jasmine Green Tea - Box: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Pure Matcha Emperor Ceremonial Super Green: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Pure Matcha Ceremonial Supergreen: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Pure Matcha Powder: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Pure Matcha Powder: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Pure Greentea Powder: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Pure Matcha With Roasted Brown Rice Powder: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Pure Hojica: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Sakura Powder: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Trieste: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Trieste: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Trieste: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Trieste: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Trieste: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Trieste: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Trieste: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Trieste: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Trieste: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Trieste: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Trieste: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Trieste: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Trieste: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Trieste: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Trieste: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Trieste: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Trieste: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Trieste: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Trieste: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Trieste: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Trieste: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Trieste: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Trieste: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Trieste: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Trieste: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Trieste: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Trieste: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Trieste: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Trieste: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Trieste: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Trieste: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Trieste: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Trieste: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Trieste: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Trieste: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Trieste: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Trieste: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Trieste: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Price Upon Request: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Price Upon Request: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Price Upon Request: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Price Upon Request: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Successfully processed 234 products from 1. PT. Global Anugrah Pasifik (groceries item).pdf
🎉 Successfully reprocessed: cmbm9iizv01lfoustt6xo2i10
✅ Initialized 24 basic reference products
⚠️ Camelot processing timeout, falling back to other methods
 GET /api/upload-status-monitor 200 in 917ms
 ✓ Compiled / in 7ms
 GET / 200 in 16ms
 ✓ Compiled / in 7ms
 GET / 200 in 15ms
 GET /api/upload-status-monitor 200 in 515ms
🔄 Reprocessing upload: 1. PT. Global Anugrah Pasifik (groceries item).pdf (cmbm9iizv01lfoustt6xo2i10)
🔄 Starting reprocessing for upload: cmbm9iizv01lfoustt6xo2i10
📚 Loading reference products from database...
 POST /api/reprocess-upload 200 in 955ms
Error loading reference products: Error [PrismaClientValidationError]: 
Invalid `prisma.product.findMany()` invocation in
/Users/denisdomashenko/monito-web/.next/server/chunks/[root of the server]__677949._.js:199:59

  196 try {
  197     console.log('📚 Loading reference products from database...');
  198     // Загружаем из БД существующие стандартизированные продукты
→ 199     const existingProducts = await prisma.product.findMany({
            select: {
              id: true,
              standardizedName: true,
              category: true,
              name: true
            },
            where: {
              standardizedName: {
          +     not: String
              }
            }
          })

Argument `not` must not be null.
    at <unknown> (app/services/embeddingService.ts:181:52)
    at async EmbeddingService.loadReferenceProducts (app/services/embeddingService.ts:181:31)
  179 |       
  180 |       // Загружаем из БД существующие стандартизированные продукты
> 181 |       const existingProducts = await prisma.product.findMany({
      |                                                    ^
  182 |         select: {
  183 |           id: true,
  184 |           standardizedName: true, {
  clientVersion: '6.9.0'
}
🏗️ Initializing basic reference base...
Processing file: 1. PT. Global Anugrah Pasifik (groceries item).pdf
🚀 Starting advanced PDF processing: https://cdc1w79ssc4kg6xh.public.blob.vercel-storage.com/1.%20PT.%20Global%20Anugrah%20Pasifik%20%28groceries%20item%29-BiFYupt0wo2UGo7yPiiWvb0R85s7y1.pdf
🔄 Starting advanced PDF processing for: https://cdc1w79ssc4kg6xh.public.blob.vercel-storage.com/1.%20PT.%20Global%20Anugrah%20Pasifik%20%28groceries%20item%29-BiFYupt0wo2UGo7yPiiWvb0R85s7y1.pdf
📊 Starting Camelot table extraction for: https://cdc1w79ssc4kg6xh.public.blob.vercel-storage.com/1.%20PT.%20Global%20Anugrah%20Pasifik%20%28groceries%20item%29-BiFYupt0wo2UGo7yPiiWvb0R85s7y1.pdf
🐍 Python script path: /Users/denisdomashenko/monito-web/scripts/pdf_table_processor.py
🔗 Processing URL: https://cdc1w79ssc4kg6xh.public.blob.vercel-storage.com/1.%20PT.%20Global%20Anugrah%20Pasifik%20%28groceries%20item%29-BiFYupt0wo2UGo7yPiiWvb0R85s7y1.pdf
✅ Initialized 24 basic reference products
📤 Python stdout chunk: 📥 Downloading PDF from: https://cdc1w79ssc4kg6xh.public.blob.vercel-storage.com/1.%20PT.%20Global%20Anugrah%20Pasifik%20%28groceries%20item%29-BiFYupt0wo2UGo7yPiiWvb0R85s7y1.pdf
🔍 Testing with strea...
📤 Python stdout chunk: 📊 Table shape: (7, 4)
📂 Detected category: Unit Per Kg Price
📂 Detected category: Product Description / Zack
🔄 Processing table from page 8 (stream)...
📊 Table shape: (13, 5)
📂 Detected category...
📤 Python stdout chunk: {"supplier": {"email": "sales@gap-indo.com", "name": "Email : sales@gap-indo.com", "phone": "21"}, "products": [{"name": "Saporito", "price": 90000.0, "unit": "pcs", "category": "No. BRAND ITEM SIZE C...
📤 Python stdout chunk: ull}, {"name": "Start Village", "price": 38850.0, "unit": "pcs", "category": null, "weight_grams": null, "description": null}, {"name": "Robo Tartufata Truffle Mushroom Paste", "price": 252500.0, "uni...
📤 Python stdout chunk:  86025.0, "unit": "pcs", "category": "No Nama Produk Vol Isi/crt Harga/pcs", "weight_grams": null, "description": null}, {"name": "De Maderas", "price": 39960.0, "unit": "pcs", "category": "No Nama Pr...
📤 Python stdout chunk:  66600.0, "unit": "pcs", "category": "NO Description Size Harga/pcs", "weight_grams": null, "description": null}, {"name": "Pure Matcha Powder", "price": 330000.0, "unit": "pcs", "category": "NO Descr...
📤 Python stdout chunk: 

🔚 Python process finished with code: 0
📊 Total stdout length: 45272 characters
📊 Total stderr length: 0 characters
🔍 Processing JSON output from --json-only mode...
✅ Found JSON in last line (--json-only mode)
🔍 Attempting to parse JSON...
📝 JSON preview: {"supplier": {"email": "sales@gap-indo.com", "name": "Email : sales@gap-indo.com", "phone": "21"}, "products": [{"name": "Saporito", "price": 90000.0, "unit": "pcs", "category": "No. BRAND ITEM SIZE CTN PRICE/UNIT", "weight_grams": null, "description": null}, {"name": "Saporito", "price": 21900.0, "unit": "pcs", "category": "No. BRAND ITEM SIZE CTN PRICE/UNIT", "weight_grams": null, "description": null}, {"name": "Saporito", "price": 22500.0, "unit": "pcs", "category": "No. BRAND ITEM SIZE CTN P...
✅ Camelot successfully extracted 234 products
📋 Sample products: [ 'Saporito', 'Saporito', 'Saporito' ]
📊 Camelot extraction: 234 products found
✅ Camelot extraction successful, using table-based results
✅ Advanced PDF processing successful: 234 products extracted
Found existing supplier: Email : sales@gap-indo.com
Error processing product Saporito: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Saporito: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Saporito: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Saporito: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Saporito: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Saporito: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Saporito: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Saporito: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Saporito: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Saporito: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Saporito: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Saporito: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Saporito: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Saporito: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Saporito: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Saporito: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Saporito: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Saporito: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Saporito: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Cy Maple: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Cy Maple: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Joe: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Joe: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product S&w: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product S&w: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product S&w: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product S&w: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product S&w: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product S&w: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product S&w: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Il Tempio: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Il Tempio: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Costa D'oro: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Urbani: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Urbani: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Lily Flower: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Lily Flower: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Lily Flower: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Lily Flower: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Golden Bridge: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Golden Bridge: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Star Village: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Bimoli: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Robo Tartufata Truffle Mushroom Paste: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product French's: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product French's: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product French's: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product French's: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Cy Beverages: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Tsukaba: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Mazzetta: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Mazzetta: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Saporito: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Erawan Foods Lychees In Syrup: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Imperial: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Ji Xiang: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product La Costena: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product La Costena: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product F&n: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Hosen: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Deho: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Heinz: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Start Village: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Start Village: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Robo Tartufata Truffle Mushroom Paste: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product French's: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product French's: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product French's: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product French's: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Cy Beverages: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Tsukaba: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Mazzetta: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Mazzetta: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Saporito: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Erawan Foods Lychees In Syrup: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Imperial: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Ji Xiang: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product La Costena: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product La Costena: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product F&n: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Hosen: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Deho: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Heinz: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Start Village: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Start Village: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Mae Ploy: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Mae Ploy: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Mae Ploy: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Mae Ploy: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Mae Ploy: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Mae Ploy: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Mae Ploy: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Mae Ploy: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Mae Ploy: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Mae Ploy: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Mae Ploy: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Mae Ploy: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Mae Ploy: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Wansin: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Wansin: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Wansin: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Wansin: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Wansin: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Wansin: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Wansin: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Golden Canal: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Golden Coin: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product De Maderas: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product De Maderas: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product De Maderas: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product De Maderas: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product De Maderas: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product De Maderas: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product De Maderas: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product De Maderas: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product De Maderas: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product De Maderas: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product De Maderas: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product De Maderas: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product De Maderas: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product De Maderas: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product De Maderas: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product De Maderas: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product De Maderas: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product De Maderas: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product De Maderas: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product De Maderas: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product De Maderas: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product De Maderas: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product De Maderas: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product De Maderas: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product De Maderas: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product De Maderas: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product De Maderas: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product De Maderas: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Balsamic Vinegar: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Balsamic Vinegar: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Red Wine Vinegar: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Red Wine Vinegar: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product White Wine Vinegar: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product White Wine Vinegar: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Sparkling Red Grape Juice: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Sparkling White Grape Juice: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Frutee - Cranberry Juice: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Barilla: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Barilla: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Barilla: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Barilla: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Barilla: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Barilla: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Barilla: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Barilla: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Barilla: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Barilla: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Barilla: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Barilla: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Robo: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Dua Tani: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Dua Tani: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Dua Tani: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Dua Tani: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Dua Tani: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Dua Tani: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Dua Tani: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Dua Tani: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Oat&oat Natural Havermut: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Oat&oat Instant Havermut: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Oat&oat Rolled Oat: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Oat&oat Natural Havernut (blue: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Oat&oat Instant Havermut (red: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Oat&oat Rolled Oat (yellow: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Rolled Oat (utuh: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Rolled Oat (utuh: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Chia Seed: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Chia Seed: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product White & Red Quinoa: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product White & Red Quinoa: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product White & Red Quinoa: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Martini - Crema Bivalente Gold: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Martini - Crema Bivalente: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Martini - Crema Zuccerata: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Harada Triangle Tea Bags (box: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Harada Hojicha (roasted Green Tea) - Box: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Harada Jasmine Green Tea - Box: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Pure Matcha Emperor Ceremonial Super Green: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Pure Matcha Ceremonial Supergreen: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Pure Matcha Powder: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Pure Matcha Powder: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Pure Greentea Powder: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Pure Matcha With Roasted Brown Rice Powder: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Pure Hojica: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Sakura Powder: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Trieste: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Trieste: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Trieste: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Trieste: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Trieste: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Trieste: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Trieste: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Trieste: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Trieste: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Trieste: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Trieste: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Trieste: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Trieste: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Trieste: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Trieste: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Trieste: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Trieste: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Trieste: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Trieste: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Trieste: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Trieste: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Trieste: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Trieste: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Trieste: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Trieste: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Trieste: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Trieste: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Trieste: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Trieste: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Trieste: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Trieste: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Trieste: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Trieste: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Trieste: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Trieste: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Trieste: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Trieste: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Trieste: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Price Upon Request: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Price Upon Request: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Price Upon Request: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Price Upon Request: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/reprocess-upload/route.ts:68:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Successfully processed 234 products from 1. PT. Global Anugrah Pasifik (groceries item).pdf
🎉 Successfully reprocessed: cmbm9iizv01lfoustt6xo2i10
 GET /api/upload-status-monitor 200 in 494ms
 POST /api/reprocess-upload 400 in 71ms
 GET /api/upload-status-monitor 200 in 516ms
 GET /api/upload-status-monitor 200 in 474ms
 GET /api/upload-status-monitor 200 in 527ms
 ✓ Compiled in 15ms
 ✓ Compiled / in 10ms
 GET / 200 in 23ms
 GET / 200 in 18ms
 GET / 200 in 62ms
 GET /api/suppliers 200 in 438ms
 GET /api/uploads/status?limit=5 200 in 659ms
 GET /api/stats 200 in 1161ms
 GET /api/products?category=All%20Categories&limit=50&page=1&sortBy=name&sortOrder=asc 200 in 2047ms
 GET / 200 in 45ms
 GET /api/suppliers 200 in 122ms
 GET /api/uploads/status?limit=5 200 in 276ms
 GET /api/stats 200 in 552ms
 GET /api/products?category=All%20Categories&limit=50&page=1&sortBy=name&sortOrder=asc 200 in 1053ms
 GET / 200 in 50ms
 GET /api/suppliers 200 in 77ms
 GET /api/uploads/status?limit=5 200 in 229ms
 GET /api/products?category=All%20Categories&limit=50&page=1&sortBy=name&sortOrder=asc 200 in 1039ms
 GET /api/stats 200 in 1740ms
🚀 Starting background processing for upload: cmbmaq2d701ljoust3l0fcj2g
🔄 Starting processing for upload: cmbmaq2d701ljoust3l0fcj2g
✅ Updated status to processing for: cmbmaq2d701ljoust3l0fcj2g
📚 Loading reference products from database...
Error loading reference products: Error [PrismaClientValidationError]: 
Invalid `prisma.product.findMany()` invocation in
/Users/denisdomashenko/monito-web/.next/server/chunks/[root of the server]__06bbdf._.js:399:59

  396 try {
  397     console.log('📚 Loading reference products from database...');
  398     // Загружаем из БД существующие стандартизированные продукты
→ 399     const existingProducts = await prisma.product.findMany({
            select: {
              id: true,
              standardizedName: true,
              category: true,
              name: true
            },
            where: {
              standardizedName: {
          +     not: String
              }
            }
          })

Argument `not` must not be null.
    at <unknown> (app/services/embeddingService.ts:181:52)
    at async EmbeddingService.loadReferenceProducts (app/services/embeddingService.ts:181:31)
  179 |       
  180 |       // Загружаем из БД существующие стандартизированные продукты
> 181 |       const existingProducts = await prisma.product.findMany({
      |                                                    ^
  182 |         select: {
  183 |           id: true,
  184 |           standardizedName: true, {
  clientVersion: '6.9.0'
}
🏗️ Initializing basic reference base...
Processing file: bali boga.pdf
🚀 Starting advanced PDF processing: https://cdc1w79ssc4kg6xh.public.blob.vercel-storage.com/bali%20boga-cfjKtVjlnoFxooNER3EAiPejMpVTKN.pdf
🔄 Starting advanced PDF processing for: https://cdc1w79ssc4kg6xh.public.blob.vercel-storage.com/bali%20boga-cfjKtVjlnoFxooNER3EAiPejMpVTKN.pdf
📊 Starting Camelot table extraction for: https://cdc1w79ssc4kg6xh.public.blob.vercel-storage.com/bali%20boga-cfjKtVjlnoFxooNER3EAiPejMpVTKN.pdf
🐍 Python script path: /Users/denisdomashenko/monito-web/scripts/pdf_table_processor.py
🔗 Processing URL: https://cdc1w79ssc4kg6xh.public.blob.vercel-storage.com/bali%20boga-cfjKtVjlnoFxooNER3EAiPejMpVTKN.pdf
🚀 Starting background processing for upload: cmbmaq4rw01lmoust2j4yw37w
🔄 Starting processing for upload: cmbmaq4rw01lmoust2j4yw37w
✅ Updated status to processing for: cmbmaq4rw01lmoust2j4yw37w
Processing file: bali sustainable seafood.pdf
🚀 Starting advanced PDF processing: https://cdc1w79ssc4kg6xh.public.blob.vercel-storage.com/bali%20sustainable%20seafood-ssu4jfSKQVTJLcLjG32QWX4SBnKKNF.pdf
🔄 Starting advanced PDF processing for: https://cdc1w79ssc4kg6xh.public.blob.vercel-storage.com/bali%20sustainable%20seafood-ssu4jfSKQVTJLcLjG32QWX4SBnKKNF.pdf
📊 Starting Camelot table extraction for: https://cdc1w79ssc4kg6xh.public.blob.vercel-storage.com/bali%20sustainable%20seafood-ssu4jfSKQVTJLcLjG32QWX4SBnKKNF.pdf
🐍 Python script path: /Users/denisdomashenko/monito-web/scripts/pdf_table_processor.py
🔗 Processing URL: https://cdc1w79ssc4kg6xh.public.blob.vercel-storage.com/bali%20sustainable%20seafood-ssu4jfSKQVTJLcLjG32QWX4SBnKKNF.pdf
✅ Initialized 24 basic reference products
📤 Python stdout chunk: 📥 Downloading PDF from: https://cdc1w79ssc4kg6xh.public.blob.vercel-storage.com/bali%20sustainable%20seafood-ssu4jfSKQVTJLcLjG32QWX4SBnKKNF.pdf
🔍 Testing with stream method...
✅ Stream method succes...
📤 Python stdout chunk: {"supplier": {"name": "HANDLINE TUNA"}, "products": [{"name": "Natural Tuna Chunk Burger", "price": 252500.0, "unit": "pcs", "category": "HANDLINE TUNA", "weight_grams": null, "description": null}, {"...
📤 Python stdout chunk: eight_grams": null, "description": null}, {"name": "Squid Sotong Whole", "price": 205000.0, "unit": "pcs", "category": "SQUID AND OCTOPUS", "weight_grams": null, "description": null}, {"name": "Dry Ag...
📤 Python stdout chunk: 

🔚 Python process finished with code: 0
📊 Total stdout length: 19577 characters
📊 Total stderr length: 0 characters
🔍 Processing JSON output from --json-only mode...
✅ Found JSON in last line (--json-only mode)
🔍 Attempting to parse JSON...
📝 JSON preview: {"supplier": {"name": "HANDLINE TUNA"}, "products": [{"name": "Natural Tuna Chunk Burger", "price": 252500.0, "unit": "pcs", "category": "HANDLINE TUNA", "weight_grams": null, "description": null}, {"name": "Sambal Tuna Burger", "price": 247500.0, "unit": "pcs", "category": "HANDLINE TUNA", "weight_grams": null, "description": null}, {"name": "Santa Fe Tuna Burger", "price": 179000.0, "unit": "pcs", "category": "HANDLINE TUNA", "weight_grams": null, "description": null}, {"name": "Idr", "price":...
✅ Camelot successfully extracted 96 products
📋 Sample products: [
  'Natural Tuna Chunk Burger',
  'Sambal Tuna Burger',
  'Santa Fe Tuna Burger'
]
📊 Camelot extraction: 96 products found
✅ Camelot extraction successful, using table-based results
✅ Advanced PDF processing successful: 96 products extracted
Created new supplier: HANDLINE TUNA
Document indicates supplier "HANDLINE TUNA" but upload was assigned to different supplier. Using detected supplier.
Error processing product Natural Tuna Chunk Burger: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Sambal Tuna Burger: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Santa Fe Tuna Burger: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Idr: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Idr: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Smoked Tuna: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Tuna Loin Aaa (sashimi Grade) Center Cut: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Tuna Loin Aaa Skin On (sashimi Grade: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Tuna Loin Aaa Skinless (sashimi Grade: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Tuna Poke: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Idr: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Idr: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Tupak Saku: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Tupak Tuna Steak: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Premium Smoked Salmon: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Regular Smoked Trout: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Salmon Trout Fillet (fresh/frozen: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Salmon Trout Whole: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Tasmanian Salmon Fillet (fresh/frozen: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Tasmanian Salmon Portion (fresh/frozen: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Tasmanian Salmon Whole: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Tasmanian Salmon Fillet (fresh/frozen) Aquachile: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Tasmanian Salmon Portion (fresh/frozen) Aquachile: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Tasmanian Salmon Whole - Aquachile: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Barramundi Whole: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Barramundi Fillet Frozen Sashimi Grade: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Barramundi Portion Frozen Sashimi Grade: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Barramundi Fillet Local: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Barramundi Portion Local: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Pompano Whole Frozen Sashimi Grade: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Pompano Fillet Frozen Sashimi Grade: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Idr: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Idr: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Idr: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Idr: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Idr: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Idr: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Banana Shrimp: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Idr: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Idr: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Goldband Snapper Fillet (fresh/frozen: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Grouper Fillet (fresh/frozen: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Grouper Portion: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Grouper Portion Skinless: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Mahi-mahi Fillet Skinless (fresh/frozen: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Mahi-mahi Fillet Skin-on (fresh/frozen: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Mahi-mahi Portion: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Red Snapper Fillet (fresh/frozen: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Red Snapper Portion: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Red Spot Emperor Fillet (fresh/frozen: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Spanish Mackarel Fillet (fresh/frozen: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product White Snapper Fillet: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product White Snapper Portion: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Calamary Clean No Head (squid Tube: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Squid (fresh/frozen: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Squid Clean No Head: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Squid Ring: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Squid Sotong Whole: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Dry Aged Salmon Whole: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Dry Aged Grouper Whole: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Dry Aged Red Snapper Whole: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Pangasius Nbl Premium (dory: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Gindara Fillet: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Live Lobster: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Idr: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Idr: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Idr: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Idr: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Blue Mackerel: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Idr: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Giant Travelly: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Goldband Snapper Whole: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Grouper Whole: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Hamachi / Amberjack: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Kembung: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Mackerel: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Mahi-mahi Whole: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Octopus Boiled: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Idr: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Idr: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Pink Sea Bream: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Pomfret Whole: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Red Snapper Whole: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Red Spot Emperor Whole: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Sardines Whole: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product White Snapper Whole: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Idr: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Us Scallop Premium Selected: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Idr: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Hokaido Scallop: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Hokkaido Scallop Sashimi Grade: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Clam Asari: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Clam Bakau: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Clam Tahu: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Green Mussel Import: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Boon Jumbo Lump: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Successfully processed 96 products from bali sustainable seafood.pdf
🎉 Successfully completed processing for: cmbmaq4rw01lmoust2j4yw37w
📤 Python stdout chunk: 📥 Downloading PDF from: https://cdc1w79ssc4kg6xh.public.blob.vercel-storage.com/bali%20boga-cfjKtVjlnoFxooNER3EAiPejMpVTKN.pdf
🔍 Testing with stream method...
✅ Stream method successful - PDF is tex...
📤 Python stdout chunk: ✅ Product: Beef Tenderloin Whole Clean ** - 270000.0 (None)
✅ Product: Beef Top Side Cubes ** - 180000.0 (None)
✅ Product: Beef Top Side Whole ** - 180000.0 (None)
✅ Product: Beef Top Side Scaloppini ...
📤 Python stdout chunk: ✅ Product: Classic Bernaise Sauce * - 9500.0 (None)
✅ Product: Demi Glace Sauce * - 9500.0 (None)
✅ Product: Hollandaise Sauce * - 9500.0 (None)
✅ Product: Blue Cheese * - 42750.0 (None)
✅ Product: Ca...
📤 Python stdout chunk: ice": 170000.0, "unit": "pcs", "category": "Pcs Pack Pcs Kg", "weight_grams": null, "description": null}, {"name": "Veal Bratwurst ( Swiss Style )", "price": 151000.0, "unit": "pcs", "category": "Pcs ...
📤 Python stdout chunk: f Patty", "price": 137000.0, "unit": "pcs", "category": "Burger's", "weight_grams": null, "description": null}, {"name": "Premium Black Angus Beef Patty", "price": 161000.0, "unit": "pcs", "category":...
📤 Python stdout chunk: category": "Breaded & Processed", "weight_grams": null, "description": null}, {"name": "Classic Chicken Finger", "price": 124000.0, "unit": "pcs", "category": "Breaded & Processed", "weight_grams": nu...
📤 Python stdout chunk: egory": "Pack", "weight_grams": null, "description": null}, {"name": "Hollandaise Sauce", "price": 9500.0, "unit": "pcs", "category": "Pack", "weight_grams": null, "description": null}, {"name": "Blue...
📤 Python stdout chunk: 

🔚 Python process finished with code: 0
📊 Total stdout length: 53339 characters
📊 Total stderr length: 0 characters
🔍 Processing JSON output from --json-only mode...
✅ Found JSON in last line (--json-only mode)
🔍 Attempting to parse JSON...
📝 JSON preview: {"supplier": {"name": "PT. BALI BOGA SEJATI\nPT. BALI BOGA SEJATI"}, "products": [{"name": "Beef Pepperoni Classic", "price": 137000.0, "unit": "pcs", "category": "Cold Cuts", "weight_grams": null, "description": null}, {"name": "Beef Salami \"cooked\"", "price": 131000.0, "unit": "pcs", "category": "Cold Cuts", "weight_grams": null, "description": null}, {"name": "Roast Beef", "price": 282000.0, "unit": "pcs", "category": "Cold Cuts", "weight_grams": null, "description": null}, {"name": "Beef P...
✅ Camelot successfully extracted 244 products
📋 Sample products: [ 'Beef Pepperoni Classic', 'Beef Salami "cooked"', 'Roast Beef' ]
📊 Camelot extraction: 244 products found
✅ Camelot extraction successful, using table-based results
✅ Advanced PDF processing successful: 244 products extracted
Created new supplier: PT. BALI BOGA SEJATI
PT. BALI BOGA SEJATI
Document indicates supplier "PT. BALI BOGA SEJATI
PT. BALI BOGA SEJATI" but upload was assigned to different supplier. Using detected supplier.
Error processing product Beef Pepperoni Classic: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Beef Salami "cooked": TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Roast Beef: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Beef Pastrami: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Cooked Beef: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Ny Deli Style Braised Australian Beef Brisket: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Ny Deli Style Braised Australian Beef Brisket: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Sandwich Smoked Beef: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Smoked Beef: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Buffet Beef Rasher: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Smoked Beef Rasher: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Usa Beef Rasher: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Usa Beef Rasher: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Beef Bockwurst: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Beef Bratwurst: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Beef Bratwurst: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Beef Cocktail: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Beef Cocktail: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Beef Frankfurter: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Beef Nuernberger: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Beef Sausage Classic Fine: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Classic Bbq Beef Sausage: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Cheese Beef Bockwurst Sausage: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Chorizo Beef: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Chorizo Beef: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Jumbo Beef Smoked Sausage: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Jumbo Beef Smoked Sausage: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Jumbo Beef Smoked Sausage: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Polish Beef Krakauer: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Premium Polish Beef Kielbasa Sausage: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Smoked Beef Frank: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Tex - Mex Jalapeno Cheese Sausage: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Tex - Mex Jalapeno Cheese Sausage: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Veal Bratwurst ( Swiss Style ): TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Wagyu Beef Frank's: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Beef Fillet: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Beef Fillet: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Beef Fillet: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Beef Fillet: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Beef Fillet: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Beef Fillet: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Beef Fillet: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Beef Fillet Center Cut: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Beef Fillet Center Cut: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Beef Fillet Medallion: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Beef Fillet Medallion: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Beef Gyudon: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Beef Gyutan: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Beef Kalbi: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Beef Kebab (beef Fillet Cube): TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Beef Satay: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Beef Satay: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Beef Semur Lidah Sapi: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Beef Steak Single: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Beef Steak Single: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Beef Steak Single: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Beef Steak Double: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Beef Steak Xl "thin Cut": TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Beef Scaloppini: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Beef Stroganoff "stripes": TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Beef Stroganoff "stripes": TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Beef Stroganoff "stripes": TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Beef Tenderloin Cut Select: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Beef Tenderloin Cut Select: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Beef Tenderloin Cut Select: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Beef Tenderloin Cut Select: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Beef Ox Tail: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Jumbo Rump Steak: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Jumbo Rump Steak: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Jumbo Rump Steak: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Karubi Short Ribs: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Ossobucco "prime Cut": TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Premium Sirloin Steak: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Premium Sirloin Steak: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Premium Sirloin Steak: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Premium Sirloin Steak: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Premium Sirloin Steak: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Premium Sirloin Steak With Fat Cap: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Premium Sirloin Steak With Fat Cap: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Premium Sirloin Steak With Fat Cap: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Premium Rib Eye Steak: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Rib Eye Steak ( Aussie Scotch Fillet ): TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Rib Eye Steak ( Aussie Scotch Fillet ): TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Rib Eye Steak ( Aussie Scotch Fillet ): TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Rib Eye Steak ( Aussie Scotch Fillet ): TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Shabu Shabu " Premium Chuck ": TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Tender Beef Cube: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Tender Beef Medallion Extra Marbled: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Tender Beef Medallion Extra Marbled: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Pitmaster Beef Patty: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Pitmaster Beef Patty: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Premium Black Angus Beef Patty: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Premium Black Angus Beef Patty: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Steak Burger: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Steak Burger: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Steak Burger: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Steak Burger: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Texas Burger (**): TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Texas Burger (**): TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Texas Burger (**): TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Texas Burger (**): TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Texas Burger (**): TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Texas Burger With Cheese (**): TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Beef Blade / Schaufelbraten: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Beef Steak Whole: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Beef Shank Cube: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Beef Tenderloin Whole Clean: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Beef Top Side Cubes: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Beef Top Side Whole: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Beef Top Side Scaloppini (for Rendang): TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Minced Beef: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Beef Schnitzel: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Lamb Burger: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Lamb Kebab ( Cevapcici ) (**): TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Lamb Medallion (**): TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Lamb Satay: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Lamb Satay: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Lamb Shank: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Lamb Steak - Boneless (**): TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Lamb Steak - Boneless (**): TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Lamb Steak - Boneless (**): TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Minced Lamb: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Chicken Lyoner Mushroom: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Chicken Meat Loaf: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Chicken Breast " Cooked ": TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Classic Smoked Chicken Breast: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Classic Smoked Chicken Breast " Bs ": TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Deli Style Chicken Pastrami: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Smoked Chicken Breast: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Smoked Chicken Rasher: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Chicken Burger (**): TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Kentucky Thigh Burger: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Kentucky Thigh Burger: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Premium Chicken Steak Burger: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Premium Chicken Steak Burger: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Premium Chicken Steak Burger: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Premium Chicken Steak Burger: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Premium Chicken Steak Burger: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Texas Chicken Burger: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Texas Chicken Burger " Pre-cooked ": TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Chicken Katzu "breast Shape": TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Chicken Katzu "breast Shape": TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Chicken Katzu "round": TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Chicken Nugget Breast Meat: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Chicken Cordon Bleu Ball: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Chicken Kiev Ball - Garlic Butter & Fresh Parsley: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Chicken Florentine With Spinach & Cheese Ball: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Chicken Florentine With Spinach & Cheese "breast Shape": TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Chicken Tropicana & Cheese Ball: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Classic Chicken Finger: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Chicken Wings Pre-seasoned: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Balinese Chicken Urutan (spiral): TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Balinese Chicken Urutan (spiral): TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Balinese Chicken Urutan (spiral): TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Balinese Chicken Urutan: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Chicken Nuernberger: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Chicken Thuringer: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Fine Chicken Sausage: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Italian Chicken Bratwurst: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product German Chicken Bratwurst: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Premium Polish Chicken Kielbasa Sausage: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Spanish Chicken Bratwurst: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Smoked Chicken Knacker: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Smoked Chicken Sausage: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Smoked Chicken Sausage: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Smoked Chicken Sausage: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Marinated Smoked Duck Breast Whole: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Marinated Smoked Duck Breast Slice: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Duck Whole: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Beef Bolognaise: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Beef Bolognaise: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Beef Bolognaise With Pasta: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Chicken Bolognaise: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Chicken Bolognaise With Pasta: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Vegetarian Bolognaise: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Vegetarian Bolognaise With Pasta: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Creamy Cheese Sauce Carbonara "smoked Beef": TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Creamy Cheese Sauce Carbonara "smoked Beef" With Pasta: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Creamy Cheese Sauce Carbonara "smoked Chicken": TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Creamy Cheese Sauce Carbonara "smoked Chicken" With Pasta: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Beef Lasagna: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Chicken Lasagna: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Vegetarian Lasagna: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Mac & Cheese With Smoked Beef: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Mac & Cheese With Smoked Chicken: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Potato Gratin "cream & Cheese": TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Baked Chicken Meat Loaf: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Beef Doener Kebab: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Chicken Doener Kebab: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Beef Short Ribs: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Beef Short Ribs: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product English Beef Roast: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Quarter Roasted Chicken Leg Precooked: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Half Roasted Chicken Precooked: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Italian Beef Meat Ball: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Italian Meat Ball With Tomato Sauce: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Lamb Shank Roasted: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Lamb Shank Braised In Gravy: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Ossobucco With Gravy: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Pulled Beef: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Rogan Josh With Lamb Meatball: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Aromatic Thai Rice: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Thai Chicken Curry: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Indian Basmati Saffron Rice: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Indian Butter Chicken: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Classic Bernaise Sauce: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Demi Glace Sauce: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Hollandaise Sauce: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Blue Cheese: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Café De Paris: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Chilli & Capsicum: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Cilantro & Lime: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Herb & Garlic Butter: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Olive & Rosemary: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Shiitake & Roast Onion: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Smoky Chilli: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Tarragon & Lemon: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Wasabi: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Beef Konro: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Beef Rawon: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Beef Urat: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product British Turkey & Chips: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Chicken Breast For Oyakodon: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Chicken Thigh For Oyakodon: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Chili Con Carne Beef: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Chili Con Carne Chicken: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Cod Fillet Saikoro: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Deli Style Turkey Breast Natural Smoked: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Deli Style Turkey Breast Long Slice: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Halibut Saikoro: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Iga Sapi Small Cut: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Import Rib Eye For " Shabu - Shabu ": TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Mackerel Saikoro: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Maguro Saikoro: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Premium Marbled "loin Fillet": TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Salmon Pepperoni: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Salmon Sausage: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Sea Bass Saikoro: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Smoky Salmon Rasher: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Swedish Meatballs With Sauce: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Tengiri Giling "betina Super": TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Tuna Otoro Bluefin "shabu-shabu": TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Turkey Bites "pub Style": TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Telp: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Successfully processed 244 products from bali boga.pdf
🎉 Successfully completed processing for: cmbmaq2d701ljoust3l0fcj2g
🚀 Starting background processing for upload: cmbmaqas801lroustzjhhz0gj
🔄 Starting processing for upload: cmbmaqas801lroustzjhhz0gj
✅ Updated status to processing for: cmbmaqas801lroustzjhhz0gj
Processing file: Island Organics Bali.pdf
🚀 Starting advanced PDF processing: https://cdc1w79ssc4kg6xh.public.blob.vercel-storage.com/Island%20Organics%20Bali-YxnD5ArlOfEkAz5p06LnbnZRdFRorI.pdf
🔄 Starting advanced PDF processing for: https://cdc1w79ssc4kg6xh.public.blob.vercel-storage.com/Island%20Organics%20Bali-YxnD5ArlOfEkAz5p06LnbnZRdFRorI.pdf
📊 Starting Camelot table extraction for: https://cdc1w79ssc4kg6xh.public.blob.vercel-storage.com/Island%20Organics%20Bali-YxnD5ArlOfEkAz5p06LnbnZRdFRorI.pdf
🐍 Python script path: /Users/denisdomashenko/monito-web/scripts/pdf_table_processor.py
🔗 Processing URL: https://cdc1w79ssc4kg6xh.public.blob.vercel-storage.com/Island%20Organics%20Bali-YxnD5ArlOfEkAz5p06LnbnZRdFRorI.pdf
📤 Python stderr: /Users/denisdomashenko/Library/Python/3.9/lib/python/site-packages/camelot/parsers/stream.py:365: UserWarning: No tables found in table area 3
  warnings.warn(f"No tables found in table area {table_idx + 1}")

📤 Python stdout chunk: 📥 Downloading PDF from: https://cdc1w79ssc4kg6xh.public.blob.vercel-storage.com/Island%20Organics%20Bali-YxnD5ArlOfEkAz5p06LnbnZRdFRorI.pdf
🔍 Testing with stream method...
✅ Stream method successful...
📤 Python stdout chunk: ✅ Product: Bell Pepper - Yellow - 67500.0 (None)
🔄 Processing table from page 3 (stream)...
📊 Table shape: (62, 9)
📂 Detected category: Retail
📂 Detected category: Source Size Min. WS Wholesale Pr...
📤 Python stdout chunk: ✅ Product: Mandarin, Nasnaran - Jeruk Lemo/ Limau - 15000.0 (None)
✅ Product: Mango - Harum Manis CV - 60000.0 (None)
✅ Product: Mangosteen - 45000.0 (None)
✅ Product: Melon, Cantaloupe - 40000.0 (Non...
📤 Python stdout chunk: Kale - Dwarf Blue Scotch Curly", "price": 20000.0, "unit": "pcs", "category": "Salad and Other Greens", "weight_grams": null, "description": null}, {"name": "Kale - Power Bunch", "price": 25000.0, "un...
📤 Python stdout chunk: : null}, {"name": "Carrots - Heirloom Specialties (parisian, Yellow, Purple", "price": 35000.0, "unit": "pcs", "category": "Root Vegetables", "weight_grams": null, "description": null}, {"name": "Cele...
📤 Python stdout chunk: ght_grams": null, "description": null}, {"name": "Chili Pepper - Birds Eye - Hot Red/ Green", "price": 25000.0, "unit": "pcs", "category": "Weight", "weight_grams": null, "description": null}, {"name"...
📤 Python stdout chunk: , "weight_grams": null, "description": null}, {"name": "Curry Leaf", "price": 15000.0, "unit": "pcs", "category": "Weight", "weight_grams": null, "description": null}, {"name": "Dill", "price": 17500....
📤 Python stdout chunk: ": null}, {"name": "Papaya - Sweet Matured", "price": 25000.0, "unit": "pcs", "category": "Fresh Fruits", "weight_grams": null, "description": null}, {"name": "Papaya - Young Immatured", "price": 1000...
📤 Python stdout chunk: 

🔚 Python process finished with code: 0
📊 Total stdout length: 64053 characters
📊 Total stderr length: 209 characters
🔍 Processing JSON output from --json-only mode...
✅ Found JSON in last line (--json-only mode)
🔍 Attempting to parse JSON...
📝 JSON preview: {"supplier": {"name": "Retail", "phone": "000 200"}, "products": [{"name": "Arugula - Baby (eruca Versicaria", "price": 17500.0, "unit": "pcs", "category": "Salad and Other Greens", "weight_grams": null, "description": null}, {"name": "Arugula - Roquette Standard (eruca Sativa", "price": 16500.0, "unit": "pcs", "category": "Salad and Other Greens", "weight_grams": null, "description": null}, {"name": "Arugula - Wasabi (diplotaxis Erucoides", "price": 15000.0, "unit": "pcs", "category": "Salad an...
✅ Camelot successfully extracted 303 products
📋 Sample products: [
  'Arugula - Baby (eruca Versicaria',
  'Arugula - Roquette Standard (eruca Sativa',
  'Arugula - Wasabi (diplotaxis Erucoides'
]
📊 Camelot extraction: 303 products found
✅ Camelot extraction successful, using table-based results
✅ Advanced PDF processing successful: 303 products extracted
Found existing supplier: Retail
Document indicates supplier "Retail" but upload was assigned to different supplier. Using detected supplier.
Error processing product Arugula - Baby (eruca Versicaria: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Arugula - Roquette Standard (eruca Sativa: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Arugula - Wasabi (diplotaxis Erucoides: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Arugula - Wild Red Vein (diplotaxis Tenuifolia: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Arugula - Wild Sylvetta (diplotaxis Muralis: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Braising Greens: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Broccoli Sprout: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Chicory - Escarole: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Chicory - Frisée - Trés Fine: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Chicory - Italian Dandelion Green/ Red: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Chicory - Sugarloaf: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Chicory - Radicchio Long Flat: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Chicory - Radicchio Round Head - Italian Chicory: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Chicory - Radicchio Castel Franco: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Chicory - Puntarelle: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Collard - Green: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Cress, Trio ( W/ Barbarea Verna Or Lepidium Sativum: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Cress, Water (nasturtium Officinale: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Kale - Black Toscano: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Kale - Black Toscano - Juicing: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Kale - Dwarf Blue Scotch Curly: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Kale - Power Bunch: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Kale - Premium Bunch: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Kale - Red Russian: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Kale - Red Russian - Juicing: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Kale - Siberian White: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Lettuce - Bibb Deer Tongue: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Lettuce - Butterhead Boston Type: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Lettuce - Butterhead Red Type: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Lettuce - Iceberg: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Lettuce - Lollo Bionda - Frilled Green Leaf: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Lettuce - Lollo Rosa - Frilled Red Leaf: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Lettuce - Mache: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Lettuce - Romaine - Baby Leaf: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Lettuce - Romaine Head - Little Gem: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Lettuce - Romaine Head - Matured: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Lettuce - Celtuce: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Mizuna - Leaf Mustard Green Or Mix Central Red: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Mustard - Frilled Leaf Purple Or Curly Green: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Ice Plant (mesembryanthemum Crystallinum: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Purslane: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Salad Mix Basic: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Salad Mix Mesclun: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Salad Mix Olympia: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Salad Mix Spicy: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Salad Mix Sunshine: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Salad Mix Tangy & Sweet: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Salad Mix Wild: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Snowpea Shoot - Tendrils: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Sorrel - French Sour Leaf Vegetable: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Sorrel - Oxalis: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Sorrel - Purple Oxalis: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Sorrel, Red Ribbon Baby/ Small Leaf: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Spinach - English Baby: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Spinach - English Bunch: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Spinach - Japanese, Horenzo: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Spinach - Local Bayam Hijau, Green Amaranth Leaves: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Spinach - Local Bayam Merah, Red Amaranth Leaves: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Swisschard - Rainbow: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Tatsoi - Baby Leaf Mix Color: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Genjer - Velvetleaf, Swamp Lettuce (limnocharis Flava: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Beetroot - Candystripe: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Beetroot - Candystripe Baby: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Beetroot - Deep Red: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Beetroot - Deep Red Baby: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Beetroot - Deep Red Cylindrical Root: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Beetroot - Golden: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Beetroot - Golden Baby: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Burdock: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Carrot - Chantennay Baby Type: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Carrot - Chantennay Matured Type: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Carrot - Nantes Baby Type: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Carrot - Nantes Matured Type: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Carrots - Chantennay - Fresh Grade Deformed: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Carrots - Heirloom Specialties (parisian, Yellow, Purple: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Celeriac: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Parsley Root: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Parsnip: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Potato - Baby: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Potato - Matured: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Potato - Red: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Radish - Chinese Shunkyo Red Black Spanish: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Radish - Korean Rosy Pink/purple Bravo: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Radish - Red: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Radish - Watermelon/ Black Spanish/ Shogoin: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Radish - White/ Daikon: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Rutabaga: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Scorzobianca - White Salsify: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Scorzonera - Black Salsify: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Sweet Potato - Orange (var. Makurdi: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Sweet Potato - Purple (var. Aguoru: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Sweet Potato - White / Yellow (var. Lafia: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Toraji - Baloon Flower: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Turnip - White Kabura: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Old World Black Potato (coleus Tuberosus: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Jerusalem Artichoke - Topinambur (heliuanthus Tuberosus: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Asparagus: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Asian Greens, Bok Choy - Shanghai Type Green: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Asian Greens, Bok Choy Mini - "nai Bai: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Asian Greens, Chrysanthemum Leaf: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Asian Greens, Hon Tsai Tai/ Kailan: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Asian Greens, Gailon (kailan) - Chinese Broccoli / Kale: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Asian Greens, Komatsuna - Japanese Mustard Spinach: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Asian Greens, Pak Choy Cantonese Type - Red: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Asian Greens, Pak Choy Cantonese Type - White: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Asian Greens, Tatsoi - Rosette Bok Choy, Bunch: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Bean, Dry Red Kidney: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Bean, Dwarf French Yellow Minidor / Purple Teepe: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Bean, Green Baby: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Bean, Green String Bean Stringless Bush Beans: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Bean, Yard Long: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Bell Pepper - Green: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Bell Pepper - Red: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Bell Pepper - Yellow: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Broccoli - Rapini: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Broccolini: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Broccolini - Purple: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Brocolli - Florets: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Brocolli - Spigariello Leaf And Marrow Cabbage: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Brussel Sprout: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Cabbage - Chinese / Napa: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Cabbage - Green: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Cabbage - Hispi: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Cabbage - Red: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Cabbage - Savoy: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Cabbage - Red Napa: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Cauliflower: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Cauliflower - Romanesco Puntoverde: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Caulifower - Purple Of Sicily: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Sprouting Cauliflower - Caulilini: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Chayote - Perrenial Squash - Jipang/ Sayur Hijau: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Chili Pepper - Birds Eye - Hot Red/ Green: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Chilli Pepper - Seasonal Specialty (habanero Group: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Chili Pepper - Jalapeno: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Chili Pepper - Thai Green: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Chili Pepper - Thai Red: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Cucumber - Dark Green/ Kyuri: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Cucumber - Light Green Stripes: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Cucumber- Baby Kyuri: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Cucumber - Sooyow Kyuri: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Eggplant - Asian Green Round - Terong Sayur: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Eggplant - Italian: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Eggplant - Long Purple , Green, Or White: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Fennel Bulb: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Jackfruit, Young: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Kohlrabi Green / Purple: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Onion Leaf, Bunching Onion (allium Fistulosum: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Onion Leaf, Leek (allium Ampelebrosum: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Onion Leaf, Scallion (allium Cepa Var. Cepa: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Paku - Fern Tips - Pakis: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Rhubarb: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Snow Peas (green - Yellow) Or Snap Peas Purple: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Sprouts - Mung Bean: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Summer Squash - Yellow Crookneck: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Sweet Corn: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Tomatillo Mexican Yellow/ Purple Pasta: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Tomato Beef Red Improved Hybrid: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Tomato - Cherry Red/ Yellow Heirloom: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Tomato - Cherry Red Improved Hybrid: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Tomato - Cherry Micro: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Tomato - Heirloom Beef: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Tomato - Local: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Water Spinach - Kangkung: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Zucchini - Male Flower: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Zucchini - Female Flower With Baby Zucchini: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Zucchini - Trombetta: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Zucchini - Green: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Zucchini - Yellow: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Zucchini - Stripes Heirloom: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Basil - Cinnamon / Asian Type: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Basil - Holy/ Kapoor Tulsi: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Basil - Holy/ Khrisna Tulsi: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Basil - Lemon/ Mrs. Burnst: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Basil - Lemon/ South East Asian: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Basil - Lettuce Type/ Napoletano: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Basil - Lime/ American Basil: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Basil - Purple: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Basil - Sweet Italian: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Basil - Thai Cardinal: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Basil - Thai Siam Queen: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Basil - Thai Sweet: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Celery Leaf Cutting - Seledri: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Celery Stick: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Chervil: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Chives - Garlic (allium Tuberosum: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Chives - Glittering/ Chinese (allium Chinense: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Chives - Onion (allium Schoenoprasum: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Coriander Common - Cilantro: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Coriander Mexican - Culantro: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Coriander Vietnamese - Laksa Or Kesum Leaf: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Curry Leaf: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Dill: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Edible Flowers - Chive Onion Blossom: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Edible Flowers - Mix Seasonal Blossoms: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Edible Flowers - Nasturtium: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Edible Flowers - Snow Pea With Tendrils: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Edible Flowers - Wild Arugula Blossom: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Fennel Frond - Bronze: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Fennel Frond - Green: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Hyssop, Anise - Leaf & Flower: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Anise Herbs: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Hyssop: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Kaffir Lime - Leaves: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Lemon Balm: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Lovage: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Marjoram: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Mint - Australian: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Mint - English Garden: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Mint - Horsemint: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Mint - Mexican (plectranthus Amboinicus: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Mint - Peppermint: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Mint - Peppermint "chocolate Mint: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Mint - Spearmint "double Mint: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Nasturtium Leaf: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Oregano - Greek (origanum Vulgare Var. Hirtum: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Oregano - Za'atar (origanum Syriacum: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Oregano 'dark Green' (origanum Vulgare: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Parsley - Curly: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Parsley - Italian: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Rosemary: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Sage: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Salad Burnet: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Savory - Summer: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Shisho Leaf Green: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Shisho Leaf Red: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Murbei Leaf: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Stevia: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Tarragon - French (artemesia Dracunculus Sativa: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Tarragon - Mexican (tagetes Lucida: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Thyme - Citrus (thymus Fragantissimus: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Thyme - Summer (thymus Vulgaris: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Wild Bergamot / Bee Balm Leaf: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Wild Betel: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Yomogi - Japanesse Mugwort: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Apple - Green/ Apel Manalagi: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Apple - Red/green - Malang: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Avocado: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Banana Aa Group - Lady Finger Banana (pisang Mas: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Banana Aaa Group - Gros Michel (pisang Ambon: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Banana Aaa Group - Whi: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Coconut, Young: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Jackfruit, Sweet Peeled: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Jicama - Bengkoang: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Lemon - Yellow Skin: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Lime, Finger Lime: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Lime, Key - Jeruk Nipis: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Mandarin, Nasnaran - Jeruk Lemo/ Limau: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Mango - Harum Manis Cv: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Mangosteen: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Melon, Cantaloupe: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Papaya - Sweet Matured: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Papaya - Young Immatured: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Passion Fruit - Sweet Or Sour: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Pepino Dulce: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Pineapple: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Pineapple Honey: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Plantain - Aab Group Latundan Banana (pisang Raja: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Plantain - Abb Group Saba Banana (pisang Kepok: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Pomelo: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Pumpkin: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Butternut Squash: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Snakefruit Var. Moluccana 'apomictic' Salak Gula Pasir: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Snakefruit Var. Moluccana Salak Bali: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Strawberry: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Strawberry - Wild: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Tamarillo: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Tangerine - Brastagi Cv: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Tangerine Orange - Kintamani Cv: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Watermelon - Red: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Eggs - Bali Runner Duck (itik Bali: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Button Mushroom: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Clouded Agaric Mushroom: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Eggs - Breed Chicken: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Eggs - Non Breed Chicken Free Range: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Eggs - Quail (telur Puyuh: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Garlic - Bawang Putih: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Black Garlic: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Jew's Ear Mushroom: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Onion - Bawang Bombay: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Oyster Mushroom: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Portobello Mushroom: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Shallot - Bawang Merah: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Shiitake Mushroom: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Tempe - Banana Leaf Packaging: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Tempe - Non Gmo Banana Leaf Packaging: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Tofu - Traditional Tahu: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Pesto Basil L: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Pesto Basil Oregano L: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Pesto Basil Oregano S: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Pesto Basil S: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Pesto Cilantro - Coriander L (vegan: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Pesto Cilantro - Coriander S (vegan: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Pesto Kale L (vegan: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Pesto Kale S (vegan: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Ginger Elephant- Big Variety: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Ginger Torch - Flower Bud: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Grass Jelly Leaf / Daluman (cyclea Barbata: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Finger Roots - Temu Kunci (boesenbergia Rotunda: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Greater Galangal: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Lemongrass: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Sand Ginger - Smaller Galangal: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Tumeric, Javanese - Temulawak: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Turmeric: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Successfully processed 303 products from Island Organics Bali.pdf
🎉 Successfully completed processing for: cmbmaqas801lroustzjhhz0gj
🚀 Starting background processing for upload: cmbmaqjbe01luoust4bq44d7y
🔄 Starting processing for upload: cmbmaqjbe01luoust4bq44d7y
✅ Updated status to processing for: cmbmaqjbe01luoust4bq44d7y
Processing file: lestari pangan.pdf
🚀 Starting advanced PDF processing: https://cdc1w79ssc4kg6xh.public.blob.vercel-storage.com/lestari%20pangan-fV2ooP6fZjLWgJu1GISFIp7xlT6q6x.pdf
🔄 Starting advanced PDF processing for: https://cdc1w79ssc4kg6xh.public.blob.vercel-storage.com/lestari%20pangan-fV2ooP6fZjLWgJu1GISFIp7xlT6q6x.pdf
📊 Starting Camelot table extraction for: https://cdc1w79ssc4kg6xh.public.blob.vercel-storage.com/lestari%20pangan-fV2ooP6fZjLWgJu1GISFIp7xlT6q6x.pdf
🐍 Python script path: /Users/denisdomashenko/monito-web/scripts/pdf_table_processor.py
🔗 Processing URL: https://cdc1w79ssc4kg6xh.public.blob.vercel-storage.com/lestari%20pangan-fV2ooP6fZjLWgJu1GISFIp7xlT6q6x.pdf
📤 Python stderr: /Users/denisdomashenko/Library/Python/3.9/lib/python/site-packages/camelot/parsers/stream.py:365: UserWarning: No tables found in table area 1
  warnings.warn(f"No tables found in table area {table_idx + 1}")

📤 Python stderr: /Users/denisdomashenko/Library/Python/3.9/lib/python/site-packages/camelot/parsers/stream.py:365: UserWarning: No tables found in table area 1
  warnings.warn(f"No tables found in table area {table_idx + 1}")

📤 Python stdout chunk: 📥 Downloading PDF from: https://cdc1w79ssc4kg6xh.public.blob.vercel-storage.com/lestari%20pangan-fV2ooP6fZjLWgJu1GISFIp7xlT6q6x.pdf
🔍 Testing with stream method...
✅ Stream method successful - PDF i...
📤 Python stdout chunk: 📂 Detected category: BROWNIE'S CARAMELLLATTE
📂 Detected category: YOGGI
📂 Detected category: ARABESCHI ARABESCHI ARABESCHI
📂 Detected category: CHERRY BONITA COFFEE CRUNCH KROCCO MILK
📂 Detected ...
📤 Python stdout chunk: 📂 Detected category: GLUTINOUS MINI RICE BALL
✅ Product: GLUTINIOUS RICE BALL - 1.0 (None)
✅ Product: IKWPRON - 400.0 (None)
✅ Product: IKWPPBL - 400.0 (None)
✅ Product: PCS - 1.0 (None)
🔄 Processin...
📤 Python stdout chunk: ": "Glutinious Rice Ball", "price": 1.0, "unit": "pcs", "category": "GLUTINIOUS RICE BALL GLUTINIOUS RICE BALL RED", "weight_grams": null, "description": null}, {"name": "Ikwpron", "price": 400.0, "un...
🔚 Python process finished with code: 0
📊 Total stdout length: 24756 characters
📊 Total stderr length: 418 characters
🔍 Processing JSON output from --json-only mode...
✅ Found JSON in last line (--json-only mode)
🔍 Attempting to parse JSON...
📝 JSON preview: {"supplier": {"name": "Katalog Produk"}, "products": [{"name": "Cocoa", "price": 1.0, "unit": "pcs", "category": null, "weight_grams": null, "description": null}, {"name": "Intense Dark Chocolate", "price": 33.8, "unit": "pcs", "category": null, "weight_grams": null, "description": null}, {"name": "Cocoa", "price": 80.0, "unit": "pcs", "category": null, "weight_grams": null, "description": null}, {"name": "Form", "price": 1.0, "unit": "pcs", "category": "COCOA BUTTER POWDER GOLD CHOCOLATE RUBY C...
✅ Camelot successfully extracted 57 products
📋 Sample products: [ 'Cocoa', 'Intense Dark Chocolate', 'Cocoa' ]
📊 Camelot extraction: 57 products found
✅ Camelot extraction successful, using table-based results
✅ Advanced PDF processing successful: 57 products extracted
Created new supplier: Katalog Produk
Document indicates supplier "Katalog Produk" but upload was assigned to different supplier. Using detected supplier.
Error processing product Cocoa: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Intense Dark Chocolate: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Cocoa: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Form: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Icm-chd: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Paste: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Sao Thome Dark: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Ivhpmpclassi: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Ivhpdclassi: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Fiocc: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Processes Biancolatte: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Sprint: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Completa Fruit: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Texture Improvers: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Stabilizers Setagel: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Caramel: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Concentrato: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Classic Pastes: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Prontociocc: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Vanilla Tahiti N (white: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Coffee: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Wafer: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Puree Banana: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Puree Blood Orange: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Puree Raspbery: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Iqf Wild Blueberries: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Iqf Strawberry: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Mini Croissant Chocolate: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Custard Base: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Muffin: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Seasoned Wedges Cut: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Regular Cut: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Ff. Sv Crinkle Cut: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Ff. Sv Triangle Hash: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Ff. Sv Oval Hash Browns: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Sauce: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Sauce: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Rbd Soya Bean Oil: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Popcorn Argentina: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Vegetable Oil: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Putih: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Krupuk Gondang Pita: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Orange: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Kerupuk Bawang Putih B: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Finna Pars Barbeque: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Menara: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Putih: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Serbaguna: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Uleg Sambal Teri: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Glutinious Rice Ball: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Ikwpron: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Ikwppbl: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Pcs: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Cjl Tb Crispy: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Short Ribs Boneless: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Ibp: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Ipparcbp: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Successfully processed 57 products from lestari pangan.pdf
🎉 Successfully completed processing for: cmbmaqjbe01luoust4bq44d7y
🚀 Starting background processing for upload: cmbmaqtpq01lyoustjlbdmt9i
🔄 Starting processing for upload: cmbmaqtpq01lyoustjlbdmt9i
✅ Updated status to processing for: cmbmaqtpq01lyoustjlbdmt9i
Processing file: milk up.pdf
🚀 Starting advanced PDF processing: https://cdc1w79ssc4kg6xh.public.blob.vercel-storage.com/milk%20up-VMT5Bv1UHzkSWgxSd9IKbIE42S5Wkj.pdf
🔄 Starting advanced PDF processing for: https://cdc1w79ssc4kg6xh.public.blob.vercel-storage.com/milk%20up-VMT5Bv1UHzkSWgxSd9IKbIE42S5Wkj.pdf
📊 Starting Camelot table extraction for: https://cdc1w79ssc4kg6xh.public.blob.vercel-storage.com/milk%20up-VMT5Bv1UHzkSWgxSd9IKbIE42S5Wkj.pdf
🐍 Python script path: /Users/denisdomashenko/monito-web/scripts/pdf_table_processor.py
🔗 Processing URL: https://cdc1w79ssc4kg6xh.public.blob.vercel-storage.com/milk%20up-VMT5Bv1UHzkSWgxSd9IKbIE42S5Wkj.pdf
🚀 Starting background processing for upload: cmbmaquyu01m1ousttyfx4gyi
🔄 Starting processing for upload: cmbmaquyu01m1ousttyfx4gyi
✅ Updated status to processing for: cmbmaquyu01m1ousttyfx4gyi
Processing file: munch bakery.jpg
Processing Image with AI Vision: https://cdc1w79ssc4kg6xh.public.blob.vercel-storage.com/munch%20bakery-Tb3vjTMqdYE2sQjaoPVcbdHQwTNMjb.jpg
📤 Python stderr: /Users/denisdomashenko/Library/Python/3.9/lib/python/site-packages/camelot/parsers/stream.py:365: UserWarning: No tables found in table area 1
  warnings.warn(f"No tables found in table area {table_idx + 1}")

📤 Python stderr: /Users/denisdomashenko/Library/Python/3.9/lib/python/site-packages/camelot/parsers/stream.py:365: UserWarning: No tables found in table area 1
  warnings.warn(f"No tables found in table area {table_idx + 1}")

🚀 Starting background processing for upload: cmbmaqx2201m4oust3gqoyy70
🔄 Starting processing for upload: cmbmaqx2201m4oust3gqoyy70
✅ Updated status to processing for: cmbmaqx2201m4oust3gqoyy70
📤 Python stdout chunk: 📥 Downloading PDF from: https://cdc1w79ssc4kg6xh.public.blob.vercel-storage.com/milk%20up-VMT5Bv1UHzkSWgxSd9IKbIE42S5Wkj.pdf
🔍 Testing with stream method...
✅ Stream method successful - PDF is text-...
🔚 Python process finished with code: 0
📊 Total stdout length: 3675 characters
📊 Total stderr length: 418 characters
🔍 Processing JSON output from --json-only mode...
✅ Found JSON in last line (--json-only mode)
🔍 Attempting to parse JSON...
📝 JSON preview: {"supplier": {"phone": "+62 851-9007-4148", "name": "CONTACT SALES EXECUTIVE : JHON +62 851-9007-4148"}, "products": [{"name": "Plain Yogurt", "price": 1000.0, "unit": "pcs", "category": "COCONUT MILK", "weight_grams": null, "description": null}, {"name": "Shelf Life : Freeze", "price": 6.0, "unit": "pcs", "category": "Shelf Life : freeze Shelf Life : freeze", "weight_grams": null, "description": null}, {"name": "Raw Milk Cow, Glass", "price": 650.0, "unit": "pcs", "category": "*RRP = Recommend...
✅ Camelot successfully extracted 3 products
📋 Sample products: [ 'Plain Yogurt', 'Shelf Life : Freeze', 'Raw Milk Cow, Glass' ]
📊 Camelot extraction: 3 products found
📄 Attempting text extraction from PDF...
Processing file: Pricelist - Global.pdf
🚀 Starting advanced PDF processing: https://cdc1w79ssc4kg6xh.public.blob.vercel-storage.com/Pricelist%20-%20Global-OOowiQjCrtmjP6vcm75C67GDcqKJRW.pdf
🔄 Starting advanced PDF processing for: https://cdc1w79ssc4kg6xh.public.blob.vercel-storage.com/Pricelist%20-%20Global-OOowiQjCrtmjP6vcm75C67GDcqKJRW.pdf
📊 Starting Camelot table extraction for: https://cdc1w79ssc4kg6xh.public.blob.vercel-storage.com/Pricelist%20-%20Global-OOowiQjCrtmjP6vcm75C67GDcqKJRW.pdf
🐍 Python script path: /Users/denisdomashenko/monito-web/scripts/pdf_table_processor.py
🔗 Processing URL: https://cdc1w79ssc4kg6xh.public.blob.vercel-storage.com/Pricelist%20-%20Global-OOowiQjCrtmjP6vcm75C67GDcqKJRW.pdf
📤 Python stdout chunk: 📥 Downloading PDF from: https://cdc1w79ssc4kg6xh.public.blob.vercel-storage.com/Pricelist%20-%20Global-OOowiQjCrtmjP6vcm75C67GDcqKJRW.pdf
🔍 Testing with stream method...
✅ Stream method successful -...
🔚 Python process finished with code: 0
📊 Total stdout length: 863 characters
📊 Total stderr length: 0 characters
🔍 Processing JSON output from --json-only mode...
✅ Found JSON in last line (--json-only mode)
🔍 Attempting to parse JSON...
📝 JSON preview: {"supplier": {"name": "bo ulangerie bo ulangerie bo ulangerie"}, "products": []}...
✅ Camelot successfully extracted 0 products
📊 Camelot extraction: 0 products found
📄 Attempting text extraction from PDF...
Warning: Please use the `legacy` build in Node.js environments.
⚠️ pdfjs-dist failed, trying alternative approaches: ReferenceError: DOMMatrix is not defined
    at <unknown> (.next/server/chunks/_96f573._.js:21:16)
    at async AdvancedPdfProcessor.extractTextFromPdf (app/services/advancedPdfProcessor.ts:204:25)
    at async AdvancedPdfProcessor.processComplexPdf (app/services/advancedPdfProcessor.ts:45:23)
    at async processPDF (app/services/fileProcessor.ts:113:19)
    at async processFile (app/services/fileProcessor.ts:52:22)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  202 |       // Approach 1: pdfjs-dist
  203 |       try {
> 204 |         const pdfjsLib = await import('pdfjs-dist');
      |                         ^
  205 |         const pdf = await pdfjsLib.getDocument({
  206 |           data: arrayBuffer,
  207 |           useWorkerFetch: false,
🔍 Raw analysis extracted 43096 characters
📝 Total text extracted: 43096 characters
🚀 Starting background processing for upload: cmbmaqzog01m7oustqnggrnpa
🔄 Starting processing for upload: cmbmaqzog01m7oustqnggrnpa
 POST /api/upload-smart 200 in 48055ms
✅ Updated status to processing for: cmbmaqzog01m7oustqnggrnpa
⚠️ pdfjs-dist failed, trying alternative approaches: ReferenceError: DOMMatrix is not defined
    at <unknown> (.next/server/chunks/_96f573._.js:21:16)
    at async AdvancedPdfProcessor.extractTextFromPdf (app/services/advancedPdfProcessor.ts:204:25)
    at async AdvancedPdfProcessor.processComplexPdf (app/services/advancedPdfProcessor.ts:45:23)
    at async processPDF (app/services/fileProcessor.ts:113:19)
    at async processFile (app/services/fileProcessor.ts:52:22)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  202 |       // Approach 1: pdfjs-dist
  203 |       try {
> 204 |         const pdfjsLib = await import('pdfjs-dist');
      |                         ^
  205 |         const pdf = await pdfjsLib.getDocument({
  206 |           data: arrayBuffer,
  207 |           useWorkerFetch: false,
🔍 Raw analysis extracted 4510 characters
📝 Total text extracted: 4510 characters
 GET /api/suppliers 200 in 443ms
 GET /api/uploads/status?limit=5 200 in 521ms
Processing file: VALENTA cheese supplier.pdf
🚀 Starting advanced PDF processing: https://cdc1w79ssc4kg6xh.public.blob.vercel-storage.com/VALENTA%20cheese%20supplier-kdyygZhATHJbsAFO6NC4aiJDzfAVWn.pdf
🔄 Starting advanced PDF processing for: https://cdc1w79ssc4kg6xh.public.blob.vercel-storage.com/VALENTA%20cheese%20supplier-kdyygZhATHJbsAFO6NC4aiJDzfAVWn.pdf
📊 Starting Camelot table extraction for: https://cdc1w79ssc4kg6xh.public.blob.vercel-storage.com/VALENTA%20cheese%20supplier-kdyygZhATHJbsAFO6NC4aiJDzfAVWn.pdf
🐍 Python script path: /Users/denisdomashenko/monito-web/scripts/pdf_table_processor.py
🔗 Processing URL: https://cdc1w79ssc4kg6xh.public.blob.vercel-storage.com/VALENTA%20cheese%20supplier-kdyygZhATHJbsAFO6NC4aiJDzfAVWn.pdf
 GET /api/stats 200 in 838ms
📝 Text extraction: 0 products found
🖼️ Processing PDF as images with Vision API...
👁️ Using Vision API for document analysis...
 GET /api/products?category=All%20Categories&limit=50&page=1&sortBy=name&sortOrder=asc 200 in 1984ms
❌ Advanced PDF processing failed: TypeError: Cannot read properties of undefined (reading 'length')
    at AdvancedPdfProcessor.processComplexPdf (app/services/advancedPdfProcessor.ts:46:59)
    at async processPDF (app/services/fileProcessor.ts:113:19)
    at async processFile (app/services/fileProcessor.ts:52:22)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  44 |       // Step 3: Иначе пытаемся извлечь текстовую информацию (fallback)
  45 |       const textData = await this.extractTextFromPdf(fileUrl);
> 46 |       console.log(`📝 Text extraction: ${textData.products.length} products found`);
     |                                                           ^
  47 |       
  48 |       // Step 4: Обрабатываем PDF как последовательность изображений для Vision API
  49 |       const visionData = await this.processPdfAsImages(fileUrl);
❌ Advanced PDF processing failed: TypeError: Cannot read properties of undefined (reading 'length')
    at AdvancedPdfProcessor.processComplexPdf (app/services/advancedPdfProcessor.ts:46:59)
    at async processPDF (app/services/fileProcessor.ts:113:19)
    at async processFile (app/services/fileProcessor.ts:52:22)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  44 |       // Step 3: Иначе пытаемся извлечь текстовую информацию (fallback)
  45 |       const textData = await this.extractTextFromPdf(fileUrl);
> 46 |       console.log(`📝 Text extraction: ${textData.products.length} products found`);
     |                                                           ^
  47 |       
  48 |       // Step 4: Обрабатываем PDF как последовательность изображений для Vision API
  49 |       const visionData = await this.processPdfAsImages(fileUrl);
🔄 Falling back to basic PDF processing...
📄 Basic PDF processing: https://cdc1w79ssc4kg6xh.public.blob.vercel-storage.com/milk%20up-VMT5Bv1UHzkSWgxSd9IKbIE42S5Wkj.pdf
📤 Python stdout chunk: 📥 Downloading PDF from: https://cdc1w79ssc4kg6xh.public.blob.vercel-storage.com/VALENTA%20cheese%20supplier-kdyygZhATHJbsAFO6NC4aiJDzfAVWn.pdf
🔍 Testing with stream method...
✅ Stream method success...
🔚 Python process finished with code: 0
📊 Total stdout length: 7938 characters
📊 Total stderr length: 0 characters
🔍 Processing JSON output from --json-only mode...
✅ Found JSON in last line (--json-only mode)
🔍 Attempting to parse JSON...
📝 JSON preview: {"supplier": {"name": "C O W   C H E E S E   /   K G"}, "products": [{"name": "Halloumi Cheese", "price": 179.0, "unit": "pcs", "category": "C O W   C H E E S E   /   K G", "weight_grams": null, "description": null}, {"name": "Feta Cheese", "price": 179.0, "unit": "pcs", "category": "PERFECT FOR GRILLING OR FRYING WITHOUT MELTING.", "weight_grams": null, "description": null}, {"name": "Cottage Cheese", "price": 181.0, "unit": "pcs", "category": "SHEEP MILK, PERFECT FOR SALADS AND SAVORY DISHES."...
✅ Camelot successfully extracted 23 products
📋 Sample products: [ 'Halloumi Cheese', 'Feta Cheese', 'Cottage Cheese' ]
📊 Camelot extraction: 23 products found
✅ Camelot extraction successful, using table-based results
✅ Advanced PDF processing successful: 23 products extracted
Created new supplier: C O W   C H E E S E   /   K G
Document indicates supplier "C O W   C H E E S E   /   K G" but upload was assigned to different supplier. Using detected supplier.
Error processing product Halloumi Cheese: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Feta Cheese: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Cottage Cheese: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Paneer Cheese: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Ricotta Cheese: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Mozarella Cheese: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Cheddar Cheese: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Young Gouda Cheese: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Old Gouda Cheese: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Parmesan Cheese: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Tomme Cheese: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Cotija Cheese: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Blue Cheese: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Halloumi Cheese: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Feta Cheese: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Cottage Cheese: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Paneer Cheese: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Ricotta Cheese: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Pecorino Cheese: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Pecorino Cheese: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Tomme Cheese: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Cheddar Cheese: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Blue Cheese: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Successfully processed 23 products from VALENTA cheese supplier.pdf
🎉 Successfully completed processing for: cmbmaqzog01m7oustqnggrnpa
❌ Vision API processing failed: Error: 400 You uploaded an unsupported image. Please make sure your image has of one the following formats: ['png', 'jpeg', 'gif', 'webp'].
    at async AdvancedPdfProcessor.processWithVisionAPI (app/services/advancedPdfProcessor.ts:595:23)
    at async AdvancedPdfProcessor.processPdfAsImages (app/services/advancedPdfProcessor.ts:267:35)
    at async AdvancedPdfProcessor.processComplexPdf (app/services/advancedPdfProcessor.ts:49:25)
    at async processPDF (app/services/fileProcessor.ts:113:19)
    at async processFile (app/services/fileProcessor.ts:52:22)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  593 |       console.log('👁️ Using Vision API for document analysis...');
  594 |       
> 595 |       const response = await openai.chat.completions.create({
      |                       ^
  596 |         model: "gpt-4o",
  597 |         max_tokens: 2000,
  598 |         messages: [ {
  status: 400,
  headers: Headers {
    date: 'Sat, 07 Jun 2025 13:55:30 GMT',
    'content-type': 'application/json',
    'content-length': '258',
    connection: 'keep-alive',
    'access-control-expose-headers': 'X-Request-ID',
    'openai-organization': 'caloriecheck',
    'openai-processing-ms': '538',
    'openai-version': '2020-10-01',
    'x-ratelimit-limit-input-images': '50000',
    'x-ratelimit-limit-requests': '500',
    'x-ratelimit-limit-tokens': '30000',
    'x-ratelimit-remaining-input-images': '49999',
    'x-ratelimit-remaining-requests': '499',
    'x-ratelimit-remaining-tokens': '23069',
    'x-ratelimit-reset-input-images': '1ms',
    'x-ratelimit-reset-requests': '120ms',
    'x-ratelimit-reset-tokens': '13.861s',
    'x-request-id': 'req_1fb96c2b5e5b67edca53ee06abe87759',
    'strict-transport-security': 'max-age=31536000; includeSubDomains; preload',
    'cf-cache-status': 'DYNAMIC',
    'set-cookie': '__cf_bm=zMmMPrSw8OvQFTzQyiuk9HEaXzqY6WuxgqzT6RnbPPI-1749304530-1.0.1.1-3FfaIAUx5TJ.oSXb7NGGNRvE_xSX2K3lJhprVmCEIgzzgTVgCst5lxlgXAxh4l7JmLn606vryQTXJvuy50PaFArYSpVMAFs55F9mXRHqYO8; path=/; expires=Sat, 07-Jun-25 14:25:30 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None, _cfuvid=UyGT4cQtBOXHYEX_JvRiJPRkqoR36g8LU4i94qId70s-1749304530218-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None',
    'x-content-type-options': 'nosniff',
    server: 'cloudflare',
    'cf-ray': '94c0a5b8f88cc02e-DPS',
    'alt-svc': 'h3=":443"; ma=86400'
  },
  requestID: 'req_1fb96c2b5e5b67edca53ee06abe87759',
  error: [Object],
  code: 'invalid_image_format',
  param: null,
  type: 'invalid_request_error'
}
📄 Direct PDF Vision processing failed, proceeding with page-by-page conversion
🔄 Converting PDF pages to images for Vision processing...
❌ PDF to image conversion failed: ReferenceError: DOMMatrix is not defined
    at <unknown> (.next/server/chunks/_96f573._.js:21:16)
    at async AdvancedPdfProcessor.extractTextFromPdf (app/services/advancedPdfProcessor.ts:204:25)
    at async AdvancedPdfProcessor.processComplexPdf (app/services/advancedPdfProcessor.ts:45:23)
    at async processPDF (app/services/fileProcessor.ts:113:19)
    at async processFile (app/services/fileProcessor.ts:52:22)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  202 |       // Approach 1: pdfjs-dist
  203 |       try {
> 204 |         const pdfjsLib = await import('pdfjs-dist');
      |                         ^
  205 |         const pdf = await pdfjsLib.getDocument({
  206 |           data: arrayBuffer,
  207 |           useWorkerFetch: false,
⚠️ All image processing methods failed, returning empty result
👁️ Vision processing: 0 products found
🔗 Merging data from text and vision sources...
📊 Merge summary: 0 text + 0 vision = 0 unique products
🔗 Merged result: 0 total products
⚠️ Advanced PDF processing returned no products
Successfully processed 0 products from Pricelist - Global.pdf
🎉 Successfully completed processing for: cmbmaqx2201m4oust3gqoyy70
❌ Basic PDF processing failed: ReferenceError: DOMMatrix is not defined
    at <unknown> (.next/server/chunks/_96f573._.js:21:16)
    at async AdvancedPdfProcessor.extractTextFromPdf (app/services/advancedPdfProcessor.ts:204:25)
    at async AdvancedPdfProcessor.processComplexPdf (app/services/advancedPdfProcessor.ts:45:23)
    at async processPDF (app/services/fileProcessor.ts:113:19)
    at async processFile (app/services/fileProcessor.ts:52:22)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  202 |       // Approach 1: pdfjs-dist
  203 |       try {
> 204 |         const pdfjsLib = await import('pdfjs-dist');
      |                         ^
  205 |         const pdf = await pdfjsLib.getDocument({
  206 |           data: arrayBuffer,
  207 |           useWorkerFetch: false,
❌ Basic PDF processing also failed: ReferenceError: DOMMatrix is not defined
    at <unknown> (.next/server/chunks/_96f573._.js:21:16)
    at async AdvancedPdfProcessor.extractTextFromPdf (app/services/advancedPdfProcessor.ts:204:25)
    at async AdvancedPdfProcessor.processComplexPdf (app/services/advancedPdfProcessor.ts:45:23)
    at async processPDF (app/services/fileProcessor.ts:113:19)
    at async processFile (app/services/fileProcessor.ts:52:22)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  202 |       // Approach 1: pdfjs-dist
  203 |       try {
> 204 |         const pdfjsLib = await import('pdfjs-dist');
      |                         ^
  205 |         const pdf = await pdfjsLib.getDocument({
  206 |           data: arrayBuffer,
  207 |           useWorkerFetch: false,
Successfully processed 0 products from milk up.pdf
🎉 Successfully completed processing for: cmbmaqtpq01lyoustjlbdmt9i
Error processing image (attempt 1): Error: Request timed out.
    at async processImage (app/services/fileProcessor.ts:577:23)
    at async processFile (app/services/fileProcessor.ts:58:22)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  575 |       
  576 |       // Use OpenAI Vision API to process image directly
> 577 |       const response = await openai.chat.completions.create({
      |                       ^
  578 |         model: "gpt-4o",
  579 |         max_tokens: 1500, // Ограничиваем токены для экономии
  580 |         messages: [ {
  status: undefined,
  headers: undefined,
  requestID: undefined,
  error: undefined,
  code: undefined,
  param: undefined,
  type: undefined
}
Processing Image with AI Vision: https://cdc1w79ssc4kg6xh.public.blob.vercel-storage.com/munch%20bakery-Tb3vjTMqdYE2sQjaoPVcbdHQwTNMjb.jpg
Error parsing AI Vision response: SyntaxError: Unexpected end of JSON input
    at JSON.parse (<anonymous>)
    at processImage (app/services/fileProcessor.ts:642:20)
    at async processFile (app/services/fileProcessor.ts:58:22)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  640 |         }
  641 |         
> 642 |         return JSON.parse(cleanContent);
      |                    ^
  643 |       } catch (parseError) {
  644 |         console.error('Error parsing AI Vision response:', parseError);
  645 |         console.error('AI Response:', content);
AI Response: ```json
{
  "supplier": {
    "name": "Munch Cakes & Cookies",
    "email": "munchcookiesbali@gmail.com",
    "phone": "081236434479",
    "address": "Perumahan Umasari A5, Petitenget - Bali"
  },
  "products": [
    {
      "name": "Plain Croissants 85g",
      "price": 17,
      "unit": "each",
      "category": "Croissants",
      "description": "Baked"
    },
    {
      "name": "Plain Croissants 85g",
      "price": 15,
      "unit": "each",
      "category": "Croissants",
      "description": "Frozen"
    },
    {
      "name": "Almond Croissants",
      "price": 25,
      "unit": "each",
      "category": "Croissants"
    },
    {
      "name": "Pain au Chocolat 70g",
      "price": 17,
      "unit": "each",
      "category": "Croissants",
      "description": "Baked"
    },
    {
      "name": "Pain au Chocolat 70g",
      "price": 15,
      "unit": "each",
      "category": "Croissants",
      "description": "Frozen"
    },
    {
      "name": "Chocolate Caramel",
      "price": 20,
      "unit": "each",
      "category": "Croissants"
    },
    {
      "name": "Mini Plain 50g",
      "price": 12,
      "unit": "each",
      "category": "Croissants",
      "description": "Baked"
    },
    {
      "name": "Mini Plain 50g",
      "price": 10,
      "unit": "each",
      "category": "Croissants",
      "description": "Frozen"
    },
    {
      "name": "Mini Pain au Chocolat 45g",
      "price": 10,
      "unit": "each",
      "category": "Croissants",
      "description": "Baked"
    },
    {
      "name": "Mini Pain au Chocolat 45g",
      "price": 9,
      "unit": "each",
      "category": "Croissants",
      "description": "Frozen"
    },
    {
      "name": "White Bread Loaf",
      "price": 50,
      "unit": "each",
      "category": "Bread"
    },
    {
      "name": "Burger Bun 75g",
      "price": 7,
      "unit": "each",
      "category": "Bread"
    },
    {
      "name": "Hotdog Bun 75g",
      "price": 7,
      "unit": "each",
      "category": "Bread"
    },
    {
      "name": "Mille Crepes Oreo 18cm",
      "price": 22,
      "unit": "each",
      "category": "Cakes"
    },
    {
      "name": "Mille Crepes Red Velvet 18cm",
      "price": 22,
      "unit": "each",
      "category": "Cakes"
    },
    {
      "name": "Mille Crepes Nutella 18cm",
      "price": 25,
      "unit": "each",
      "category": "Cakes"
    },
    {
      "name": "Mille Crepes Tiramisu 18cm",
      "price": 25,
      "unit": "each",
      "category": "Cakes"
    },
    {
      "name": "Mille Crepes Matcha 18cm",
      "price": 25,
      "unit": "each",
      "category": "Cakes"
    },
    {
      "name": "Mille Crepes Lotus Biscoff 18cm",
      "price": 27,
      "unit": "each",
      "category": "Cakes"
    },
    {
      "name": "Baked Cheesecake Original 20cm",
      "price": 400,
      "unit": "each",
      "category": "Cakes"
    },
    {
      "name": "Baked Cheesecake Strawberry 20cm",
      "price": 420,
      "unit": "each",
      "category": "Cakes"
    },
    {
      "name": "Baked Cheesecake Blueberry 20cm",
      "price": 420,
      "unit": "each",
      "category": "Cakes"
    },
    {
      "name": "No-Baked Cheesecake Red Velvet 18cm",
      "price": 250,
      "unit": "each",
      "category": "Cakes"
    },
    {
      "name": "No-Baked Cheesecake Chocolate 18cm",
      "price": 250,
      "unit": "each",
      "category": "Cakes"
    },
    {
      "name": "No-Baked Cheesecake Oreo 18cm",
      "price": 250,
      "unit": "each",
      "category": "Cakes"
    },
    {
      "name": "Carrot Cakes 18cm",
      "price": 270,
      "unit": "each",
      "category": "Cakes"
    },
    {
      "name": "Banana Loaf Cakes",
      "price": 100,
      "unit": "each",
      "category": "Cakes"
    },
    {
      "name": "Fudgy Chocolate Cake 20x20",
      "price": 270,
      "unit": "each",
      "category": "Cakes"
    },
    {
      "name": "Cinnamon Rolls 9pcs/box",
      "price": 120,
      "unit": "box",
      "category": "Cakes"
    },
    {
      "name": "Donuts 25g",
      "price": 36,
      "unit": "each",
      "category": "Bites"
    },
    {
      "name": "Bomboloni 35g",
      "price": 72,
      "unit": "each",
      "category": "Bites"
    },
    {
      "name": "Pies 5cm",
      "price": 110,
      "unit": "each",
      "category": "Bites"
    },
    {
      "name": "Cupcakes 5cm",
      "price": 110,
      "unit": "each",
      "category": "Bites"
    },
    {
      "name": "Brownies 20x20cm",
      "price": 150,
      "unit": "each",
      "category": "Bites"
    },
    {
      "name": "Chocochips Cookies 50g",
      "price": 150,
      "unit": "each",
      "category": "Bites"
    },
    {
      "name":
Successfully processed 0 products from munch bakery.jpg
🎉 Successfully completed processing for: cmbmaquyu01m1ousttyfx4gyi
 GET / 200 in 61ms
 GET /api/suppliers 200 in 120ms
 GET /api/uploads/status?limit=5 200 in 255ms
 GET /api/stats 200 in 831ms
 GET /api/products?category=All%20Categories&limit=50&page=1&sortBy=name&sortOrder=asc 200 in 892ms
 GET / 200 in 54ms
 GET /api/uploads/status?limit=5 200 in 1283ms
 GET /api/suppliers 200 in 1514ms
 GET /api/stats 200 in 1623ms
 GET /api/products?category=All%20Categories&limit=50&page=1&sortBy=name&sortOrder=asc 200 in 2786ms
 GET / 200 in 52ms
 GET /api/suppliers 200 in 1072ms
 GET /api/uploads/status?limit=5 200 in 1075ms
 GET /api/stats 200 in 1275ms
 GET /api/products?category=All%20Categories&limit=50&page=1&sortBy=name&sortOrder=asc 200 in 2015ms
 GET / 200 in 55ms
 GET /api/suppliers 200 in 67ms
 GET /api/uploads/status?limit=5 200 in 147ms
 GET /api/stats 200 in 456ms
 GET /api/products?category=All%20Categories&limit=50&page=1&sortBy=name&sortOrder=asc 200 in 672ms
🚀 Starting background processing for upload: cmbn1ajkl01mboustonurhwq7
🔄 Starting processing for upload: cmbn1ajkl01mboustonurhwq7
 POST /api/upload-smart 200 in 1626ms
 GET /api/suppliers 200 in 149ms
✅ Updated status to processing for: cmbn1ajkl01mboustonurhwq7
 GET /api/uploads/status?limit=5 200 in 227ms
 GET /api/stats 200 in 535ms
 GET /api/products?category=All%20Categories&limit=50&page=1&sortBy=name&sortOrder=asc 200 in 780ms
Processing file: widi wiguna.xlsx
Processing Excel: https://cdc1w79ssc4kg6xh.public.blob.vercel-storage.com/widi%20wiguna-I5dqNzYCS0gjFWAC8eo3u3zX4Kttzi.xlsx
Excel file has 3 sheets: Sheet1, Sheet2, Sheet3
Sheet "Sheet1": 242 rows with data
Sheet "Sheet2": 0 rows with data
Sheet "Sheet3": 0 rows with data
Found 1 sheets with data: Sheet1(242)
Processing sheet "Sheet1" with 242 rows...
Sheet "Sheet1": Original data has 1000 total rows
📊 Excel data range: rows 2 to 250 (249 total)
🧠 Smart filtering: 1000 → 242 rows (preserved 11 separators)
Sheet "Sheet1": Processing 242 rows after smart filtering
Large sheet detected (242 rows), processing in chunks...
Processing chunk 1 with 30 rows...
Processing chunk 2 with 30 rows...
Processing chunk 3 with 30 rows...
Processing chunk 4 with 30 rows...
Processing chunk 5 with 30 rows...
Processing chunk 6 with 30 rows...
Processing chunk 7 with 30 rows...
 GET /api/suppliers 200 in 136ms
 GET /api/uploads/status?limit=5 200 in 177ms
 GET /api/stats 200 in 522ms
 GET /api/products?category=All%20Categories&limit=50&page=3&sortBy=name&sortOrder=asc 200 in 716ms
Processing chunk 8 with 30 rows...
Processing chunk 9 with 2 rows...
Sheet "Sheet1": Merged 9 chunks into 207 products
Processed 1 sheets, extracted 207 total products
Found existing supplier: Widi Wiguna
Document indicates supplier "Widi Wiguna" but upload was assigned to different supplier. Using detected supplier.
Error processing product Ares: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Asparagus: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Bean Sprout Long: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Bean Green: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Bean Green Baby: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Bean Long: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Bean Red (Kacang Buncis): TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Bean Red (Kacang Tolo): TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Bean Sprout Super: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Beet Root: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Bongkot: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Brocoly Potong: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Cabbage Chinese: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Cabbage Red: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Cabbage White: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Caisin: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Capsicum Green: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Capsicum Red: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Capsicum Yellow: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Carrot Import: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Carrot Lokal: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Cauly Flower Clean: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Celery: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Chilly Green BIG: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Chilly Red BIG: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Chily Small Green: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Chily Small Red: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Chives: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Coconut Clean: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Coconut Grated: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Coconut Old: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Coconut Yellow: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Coconut Young: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Corn Baby: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Corn Sweet: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Corn Whole Local: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Cucumber Japanese: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Cucumber Local: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Egg Plant Long: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Egg Plant Round: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Galangal: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Banana Leaf: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Coconut Leaf: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Garlic Clean: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Garlic Whole: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Ginger: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Gondo: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Jack Fruit Young: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Kailan Baby: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Kangkung Akar: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Kecicang: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Kemangi Leaf: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Kencur: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Labu Siam: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Leek Clean: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Lemen Leaf: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Lemo Bali: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Lemon Grass: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Mushroom Botton: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Mushroom Oyster: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Mushroom Shitake: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Onion Red / Bombay Merah: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Onion Spring: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Onion White Large: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Pakis: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Pandan Leaf: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Parsley: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Pepaya Young Local: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Pok coy: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Potato bigg: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Potato Small: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Potato Sweet: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Pumkin: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Salam Leaf: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Shalot Clean: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Singkong Leaf: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Spinach Lokal: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Suji Leaf: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Tahu lombok: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Tamarin: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Tempe: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Tomato TW: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Tomato Cherry Red: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Tomato Cherry Yellow: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Turmeric: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Turnip: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Ubi Kayu: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Watercress Clean: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Zucchini Green: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Zucchini Yellow: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Apple Fuji: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Apple Green Smith Biasa/Asli: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Apple Green Smith Biasa/Asli: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Apple Manalagi: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Apple Lokal Besar: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Avocado: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Banana Green: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Banana Kayu: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Banana Mas: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Banana Raja: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Banana Kepok Besar: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Banana Calvadish: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Bangkuang: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Buah Naga: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Grape Black Local: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Grape Red Import: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Grape Green Import: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Guava: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Honey Melon White: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Honey Melon Red: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
⚠️ Skipping product with no price: "Jack Fruit Old Clean"
Error processing product Kiwi: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Kelengkeng: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Lemon Tea: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Lime: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Mangga Masak: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Mangga Rujak: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Orange Lokal California: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Pamelo: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Papaya TW: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Pineapple Madu: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Pear Ijo: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Pear Kuning Biasa: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Salak Pondoh: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Salak Bali: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Strawberry Grade A: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Sunkist: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Tamarelo: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Tangerine Lumajang Besar: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Tangerine Kintamani: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Water Melon Yellow: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Water Melon Non Seed: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Herb Arigano: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Herb Marjoran: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Herb Mint: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Herb Rosmery: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Herb Sage: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Herb Taragon: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Herb Theme: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Lettuce Bater: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Kacang polong/frozen: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Icing sugar: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Hand soap 5ltr: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Oyster sauce: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Sesame oil: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Black oliv: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Cuka dixi: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Toping caramel: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Honey bloosom: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Sos 5ltr: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Kecap manis Abc: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Garam dolphin: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Hazelnut: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Oliv oil 5 ltr: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Teh sariwangi (100 pc): TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Baking powder: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Tabasco 60ml: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Tepung segitiga biru: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Vixal: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Corn starch: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Santan kara 1ltr: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Tomato sauce: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Chili sauce: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Cocing cream anchor: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Fresh milk grenfields: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Best clink wraf besar: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Tepung segitiga biru: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Bread crump: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Krupuk udang fina: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Plastik 1kg: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Plastik sampah: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Aguarkin: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Cashew nut: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Dijon mustard clovis: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Tomato peeled: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Chickpeas cirio: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Mayonaise: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Cranbery juice: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Sunlight galon 5ltr: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Red grape vinegar: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Aplev vinegar: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Susu kental manis: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Minyak goreng 5 ltr: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Gula Merah: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Gula Pasir Import: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Brown sugar: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Cumin ground: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Coriander ground: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Kemiri: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Whole corn boundel: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Tomato paste kecil: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Chicken brest: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Chicken wings: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Spring chicken: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Chicken whole: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Ceker bersih: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Tenderloin: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Daging sapi 1: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Tulang sapi: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Buntut sapi: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Kulit sapi: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Daging babi (sam-sam): TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Wijen putih: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Cumin seed: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Wijen hitam: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product wijen hitam: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Error processing product Telor ayam: TypeError: priceStr.toLowerCase is not a function
    at DataNormalizer.extractCurrency (app/services/dataNormalizer.ts:266:25)
    at DataNormalizer.normalizeProduct (app/services/dataNormalizer.ts:289:21)
    at processExtractedData (app/services/fileProcessor.ts:818:47)
    at processFile (app/services/fileProcessor.ts:89:10)
    at async processFileInBackground (app/api/upload-smart/route.ts:129:4)
  264 |     if (!priceStr) return 'IDR'; // Default to Indonesian Rupiah
  265 |
> 266 |     const str = priceStr.toLowerCase();
      |                         ^
  267 |     
  268 |     if (str.includes('rp') || str.includes('rupiah') || str.includes('idr')) return 'IDR';
  269 |     if (str.includes('$') || str.includes('usd')) return 'USD';
Successfully processed 207 products from widi wiguna.xlsx
🎉 Successfully completed processing for: cmbn1ajkl01mboustonurhwq7
 GET / 200 in 50ms
Error fetching suppliers: Error [PrismaClientKnownRequestError]: 
Invalid `prisma.supplier.findMany()` invocation in
/Users/denisdomashenko/monito-web/.next/server/chunks/[root of the server]__9f162d._.js:75:49

  72 const prisma = new __TURBOPACK__imported__module__$5b$externals$5d2f40$prisma$2f$client__$5b$external$5d$__$2840$prisma$2f$client$2c$__cjs$29$__["PrismaClient"]();
  73 async function GET() {
  74     try {
→ 75         const suppliers = await prisma.supplier.findMany(
Timed out fetching a new connection from the connection pool. More info: http://pris.ly/d/connection-pool (Current connection pool timeout: 10, connection limit: 25)
    at <unknown> (app/api/suppliers/route.ts:8:44)
    at async GET (app/api/suppliers/route.ts:8:22)
   6 | export async function GET() {
   7 |   try {
>  8 |     const suppliers = await prisma.supplier.findMany({
     |                                            ^
   9 |       include: {
  10 |         _count: {
  11 |           select: { {
  code: 'P2024',
  meta: [Object],
  clientVersion: '6.9.0'
}
 GET /api/suppliers 500 in 10083ms
Error fetching upload status: Error [PrismaClientKnownRequestError]: 
Invalid `prisma.upload.findMany()` invocation in
/Users/denisdomashenko/monito-web/.next/server/chunks/[root of the server]__85ae45._.js:76:45

  73 try {
  74     const { searchParams } = new URL(request.url);
  75     const limit = parseInt(searchParams.get('limit') || '10');
→ 76     const uploads = await prisma.upload.findMany(
Timed out fetching a new connection from the connection pool. More info: http://pris.ly/d/connection-pool (Current connection pool timeout: 10, connection limit: 25)
    at <unknown> (app/api/uploads/status/route.ts:11:40)
    at async GET (app/api/uploads/status/route.ts:11:20)
   9 |     const limit = parseInt(searchParams.get('limit') || '10');
  10 |
> 11 |     const uploads = await prisma.upload.findMany({
     |                                        ^
  12 |       include: {
  13 |         supplier: true,
  14 |         _count: { {
  code: 'P2024',
  meta: [Object],
  clientVersion: '6.9.0'
}
 GET /api/uploads/status?limit=5 500 in 10103ms
Error fetching stats: Error [PrismaClientKnownRequestError]: 
Invalid `prisma.product.count()` invocation in
/Users/denisdomashenko/monito-web/.next/server/chunks/[root of the server]__b17282._.js:75:28

  72 async function GET() {
  73     try {
  74         const [productCount, supplierCount, uploadCount, recentUploads, priceData] = await Promise.all([
→ 75             prisma.product.count(
Timed out fetching a new connection from the connection pool. More info: http://pris.ly/d/connection-pool (Current connection pool timeout: 10, connection limit: 25)
    at <unknown> (app/api/stats/route.ts:15:21)
    at async GET (app/api/stats/route.ts:14:8)
  13 |       priceData
  14 |     ] = await Promise.all([
> 15 |       prisma.product.count(),
     |                     ^
  16 |       prisma.supplier.count(),
  17 |       prisma.upload.count(),
  18 |       prisma.upload.findFirst({ {
  code: 'P2024',
  meta: [Object],
  clientVersion: '6.9.0'
}
 GET /api/stats 500 in 10126ms
Error fetching products: Error [PrismaClientKnownRequestError]: 
Invalid `prisma.product.findMany()` invocation in
/Users/denisdomashenko/monito-web/.next/server/chunks/[root of the server]__752d28._.js:129:28

  126         };
  127 }
  128 const [products, total] = await Promise.all([
→ 129     prisma.product.findMany(
Timed out fetching a new connection from the connection pool. More info: http://pris.ly/d/connection-pool (Current connection pool timeout: 10, connection limit: 25)
    at <unknown> (app/api/products/route.ts:48:21)
    at async GET (app/api/products/route.ts:47:30)
  46 |
  47 |     const [products, total] = await Promise.all([
> 48 |       prisma.product.findMany({
     |                     ^
  49 |         where,
  50 |         include: {
  51 |           prices: { {
  code: 'P2024',
  meta: [Object],
  clientVersion: '6.9.0'
}
 GET /api/products?category=All%20Categories&limit=50&page=1&sortBy=name&sortOrder=asc 500 in 10144ms
 GET / 200 in 57ms
 GET /api/stats 200 in 1004ms
 GET /api/suppliers 200 in 1005ms
 GET /api/uploads/status?limit=5 200 in 1005ms
 GET /api/products?category=All%20Categories&limit=50&page=1&sortBy=name&sortOrder=asc 200 in 1007ms
 GET / 200 in 52ms
 GET /api/suppliers 200 in 68ms
 GET /api/uploads/status?limit=5 200 in 522ms
 GET /api/stats 200 in 761ms
Error fetching products: Error [PrismaClientKnownRequestError]: 
Invalid `prisma.product.findMany()` invocation in
/Users/denisdomashenko/monito-web/.next/server/chunks/[root of the server]__752d28._.js:129:28

  126         };
  127 }
  128 const [products, total] = await Promise.all([
→ 129     prisma.product.findMany(
Timed out fetching a new connection from the connection pool. More info: http://pris.ly/d/connection-pool (Current connection pool timeout: 10, connection limit: 25)
    at <unknown> (app/api/products/route.ts:48:21)
    at async GET (app/api/products/route.ts:47:30)
  46 |
  47 |     const [products, total] = await Promise.all([
> 48 |       prisma.product.findMany({
     |                     ^
  49 |         where,
  50 |         include: {
  51 |           prices: { {
  code: 'P2024',
  meta: [Object],
  clientVersion: '6.9.0'
}
Error fetching products: Error [PrismaClientKnownRequestError]: 
Invalid `prisma.product.findMany()` invocation in
/Users/denisdomashenko/monito-web/.next/server/chunks/[root of the server]__752d28._.js:129:28

  126         };
  127 }
  128 const [products, total] = await Promise.all([
→ 129     prisma.product.findMany(
Timed out fetching a new connection from the connection pool. More info: http://pris.ly/d/connection-pool (Current connection pool timeout: 10, connection limit: 25)
    at <unknown> (app/api/products/route.ts:48:21)
    at async GET (app/api/products/route.ts:47:30)
  46 |
  47 |     const [products, total] = await Promise.all([
> 48 |       prisma.product.findMany({
     |                     ^
  49 |         where,
  50 |         include: {
  51 |           prices: { {
  code: 'P2024',
  meta: [Object],
  clientVersion: '6.9.0'
}
 GET /api/products?category=All%20Categories&limit=50&page=1&sortBy=name&sortOrder=asc 500 in 10069ms
 GET / 200 in 53ms
 GET /api/suppliers 200 in 113ms
 GET /api/uploads/status?limit=5 200 in 194ms
 GET /api/stats 200 in 505ms
 GET /api/products?category=All%20Categories&limit=50&page=1&sortBy=name&sortOrder=asc 200 in 8279ms
 GET / 200 in 54ms
 GET /api/suppliers 200 in 70ms
 GET /api/uploads/status?limit=5 200 in 155ms
 GET /api/stats 200 in 326ms
Error fetching products: Error [PrismaClientKnownRequestError]: 
Invalid `prisma.product.findMany()` invocation in
/Users/denisdomashenko/monito-web/.next/server/chunks/[root of the server]__752d28._.js:129:28

  126         };
  127 }
  128 const [products, total] = await Promise.all([
→ 129     prisma.product.findMany(
Timed out fetching a new connection from the connection pool. More info: http://pris.ly/d/connection-pool (Current connection pool timeout: 10, connection limit: 25)
    at <unknown> (app/api/products/route.ts:48:21)
    at async GET (app/api/products/route.ts:47:30)
  46 |
  47 |     const [products, total] = await Promise.all([
> 48 |       prisma.product.findMany({
     |                     ^
  49 |         where,
  50 |         include: {
  51 |           prices: { {
  code: 'P2024',
  meta: [Object],
  clientVersion: '6.9.0'
}
Error fetching products: Error [PrismaClientKnownRequestError]: 
Invalid `prisma.product.findMany()` invocation in
/Users/denisdomashenko/monito-web/.next/server/chunks/[root of the server]__752d28._.js:129:28

  126         };
  127 }
  128 const [products, total] = await Promise.all([
→ 129     prisma.product.findMany(
Timed out fetching a new connection from the connection pool. More info: http://pris.ly/d/connection-pool (Current connection pool timeout: 10, connection limit: 25)
    at <unknown> (app/api/products/route.ts:48:21)
    at async GET (app/api/products/route.ts:47:30)
  46 |
  47 |     const [products, total] = await Promise.all([
> 48 |       prisma.product.findMany({
     |                     ^
  49 |         where,
  50 |         include: {
  51 |           prices: { {
  code: 'P2024',
  meta: [Object],
  clientVersion: '6.9.0'
}
 GET /api/products?category=All%20Categories&limit=50&page=1&sortBy=name&sortOrder=asc 500 in 10068ms
 GET / 200 in 55ms
 GET /api/suppliers 200 in 106ms
 GET /api/uploads/status?limit=5 200 in 191ms
 GET /api/stats 200 in 484ms
Error fetching products: Error [PrismaClientKnownRequestError]: 
Invalid `prisma.product.findMany()` invocation in
/Users/denisdomashenko/monito-web/.next/server/chunks/[root of the server]__752d28._.js:129:28

  126         };
  127 }
  128 const [products, total] = await Promise.all([
→ 129     prisma.product.findMany(
Timed out fetching a new connection from the connection pool. More info: http://pris.ly/d/connection-pool (Current connection pool timeout: 10, connection limit: 25)
    at <unknown> (app/api/products/route.ts:48:21)
    at async GET (app/api/products/route.ts:47:30)
  46 |
  47 |     const [products, total] = await Promise.all([
> 48 |       prisma.product.findMany({
     |                     ^
  49 |         where,
  50 |         include: {
  51 |           prices: { {
  code: 'P2024',
  meta: [Object],
  clientVersion: '6.9.0'
}
 GET /api/products?category=All%20Categories&limit=50&page=1&sortBy=name&sortOrder=asc 500 in 10064ms
 GET / 200 in 55ms
 GET /api/suppliers 200 in 110ms
 GET /api/uploads/status?limit=5 200 in 195ms
 GET /api/stats 200 in 357ms
 GET /api/products?category=All%20Categories&limit=50&page=1&sortBy=name&sortOrder=asc 200 in 1374ms
